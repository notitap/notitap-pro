const BD=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};BD();var RD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ae={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),LD=Symbol.for("react.portal"),zD=Symbol.for("react.fragment"),_D=Symbol.for("react.strict_mode"),$D=Symbol.for("react.profiler"),VD=Symbol.for("react.provider"),jD=Symbol.for("react.context"),HD=Symbol.for("react.forward_ref"),UD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),KD=Symbol.for("react.lazy"),oh=Symbol.iterator;function qD(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var Xg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zg=Object.assign,e0={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=e0,this.updater=n||Xg}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t0(){}t0.prototype=Oo.prototype;function vd(t,e,n){this.props=t,this.context=e,this.refs=e0,this.updater=n||Xg}var Dd=vd.prototype=new t0;Dd.constructor=vd;Zg(Dd,Oo.prototype);Dd.isPureReactComponent=!0;var sh=Array.isArray,n0=Object.prototype.hasOwnProperty,kd={current:null},r0={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)n0.call(e,r)&&!r0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Qs,type:t,key:o,ref:s,props:i,_owner:kd.current}}function JD(t,e){return{$$typeof:Qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qs}function QD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lh=/\/+/g;function Uu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QD(""+t.key):e.toString(36)}function Ll(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Qs:case LD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Uu(s,0):r,sh(i)?(n="",t!=null&&(n=t.replace(lh,"$&/")+"/"),Ll(i,e,n,"",function(u){return u})):i!=null&&(Sd(i)&&(i=JD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lh,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",sh(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Uu(o,l);s+=Ll(o,e,n,a,i)}else if(a=qD(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Uu(o,l++),s+=Ll(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function hl(t,e,n){if(t==null)return t;var r=[],i=0;return Ll(t,r,"","",function(o){return e.call(n,o,i++)}),r}function YD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},zl={transition:null},GD={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:zl,ReactCurrentOwner:kd};se.Children={map:hl,forEach:function(t,e,n){hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hl(t,function(){e++}),e},toArray:function(t){return hl(t,function(e){return e})||[]},only:function(t){if(!Sd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Oo;se.Fragment=zD;se.Profiler=$D;se.PureComponent=vd;se.StrictMode=_D;se.Suspense=UD;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=kd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)n0.call(e,a)&&!r0.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Qs,type:t.type,key:i,ref:o,props:r,_owner:s}};se.createContext=function(t){return t={$$typeof:jD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VD,_context:t},t.Consumer=t};se.createElement=i0;se.createFactory=function(t){var e=i0.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:HD,render:t}};se.isValidElement=Sd;se.lazy=function(t){return{$$typeof:KD,_payload:{_status:-1,_result:t},_init:YD}};se.memo=function(t,e){return{$$typeof:WD,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=zl.transition;zl.transition={};try{t()}finally{zl.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return ot.current.useCallback(t,e)};se.useContext=function(t){return ot.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};se.useEffect=function(t,e){return ot.current.useEffect(t,e)};se.useId=function(){return ot.current.useId()};se.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return ot.current.useMemo(t,e)};se.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};se.useRef=function(t){return ot.current.useRef(t)};se.useState=function(t){return ot.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return ot.current.useTransition()};se.version="18.2.0";Ae.exports=se;var lo=Ae.exports,Jc={},Cd={exports:{}},Mt={},o0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,w){var b=S.length;S.push(w);e:for(;0<b;){var M=b-1>>>1,N=S[M];if(0<i(N,w))S[M]=w,S[b]=N,b=M;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var w=S[0],b=S.pop();if(b!==w){S[0]=b;e:for(var M=0,N=S.length,U=N>>>1;M<U;){var W=2*(M+1)-1,Y=S[W],J=W+1,me=S[J];if(0>i(Y,b))J<N&&0>i(me,Y)?(S[M]=me,S[J]=b,M=J):(S[M]=Y,S[W]=b,M=W);else if(J<N&&0>i(me,b))S[M]=me,S[J]=b,M=J;else break e}}return w}function i(S,w){var b=S.sortIndex-w.sortIndex;return b!==0?b:S.id-w.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,p=!1,h=!1,m=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(S){for(var w=n(u);w!==null;){if(w.callback===null)r(u);else if(w.startTime<=S)r(u),w.sortIndex=w.expirationTime,e(a,w);else break;w=n(u)}}function y(S){if(m=!1,D(S),!h)if(n(a)!==null)h=!0,x(A);else{var w=n(u);w!==null&&F(y,w.startTime-S)}}function A(S,w){h=!1,m&&(m=!1,g(C),C=-1),p=!0;var b=d;try{for(D(w),f=n(a);f!==null&&(!(f.expirationTime>w)||S&&!Z());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var N=M(f.expirationTime<=w);w=t.unstable_now(),typeof N=="function"?f.callback=N:f===n(a)&&r(a),D(w)}else r(a);f=n(a)}if(f!==null)var U=!0;else{var W=n(u);W!==null&&F(y,W.startTime-w),U=!1}return U}finally{f=null,d=b,p=!1}}var E=!1,T=null,C=-1,_=5,L=-1;function Z(){return!(t.unstable_now()-L<_)}function H(){if(T!==null){var S=t.unstable_now();L=S;var w=!0;try{w=T(!0,S)}finally{w?ee():(E=!1,T=null)}}else E=!1}var ee;if(typeof v=="function")ee=function(){v(H)};else if(typeof MessageChannel!="undefined"){var ie=new MessageChannel,I=ie.port2;ie.port1.onmessage=H,ee=function(){I.postMessage(null)}}else ee=function(){k(H,0)};function x(S){T=S,E||(E=!0,ee())}function F(S,w){C=k(function(){S(t.unstable_now())},w)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,x(A))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(S){switch(d){case 1:case 2:case 3:var w=3;break;default:w=d}var b=d;d=w;try{return S()}finally{d=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,w){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var b=d;d=S;try{return w()}finally{d=b}},t.unstable_scheduleCallback=function(S,w,b){var M=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?M+b:M):b=M,S){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=b+N,S={id:c++,callback:w,priorityLevel:S,startTime:b,expirationTime:N,sortIndex:-1},b>M?(S.sortIndex=b,e(u,S),n(a)===null&&S===n(u)&&(m?(g(C),C=-1):m=!0,F(y,b-M))):(S.sortIndex=N,e(a,S),h||p||(h=!0,x(A))),S},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(S){var w=d;return function(){var b=d;d=w;try{return S.apply(this,arguments)}finally{d=b}}}})(s0);o0.exports=s0;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=Ae.exports,Ot=o0.exports;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a0=new Set,Es={};function yi(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(Es[t]=e,t=0;t<e.length;t++)a0.add(e[t])}var Hn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Qc=Object.prototype.hasOwnProperty,XD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ah={},uh={};function ZD(t){return Qc.call(uh,t)?!0:Qc.call(ah,t)?!1:XD.test(t)?uh[t]=!0:(ah[t]=!0,!1)}function ek(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tk(t,e,n,r){if(e===null||typeof e=="undefined"||ek(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,xd);He[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,xd);He[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,xd);He[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function wd(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tk(e,n,i,r)&&(n=null),r||i===null?ZD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=l0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),c0=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Od=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),f0=Symbol.for("react.offscreen"),ch=Symbol.iterator;function Io(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Wu;function Jo(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||""}return`
`+Wu+t}var Ku=!1;function qu(t,e){if(!t||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function nk(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=qu(t.type,!1),t;case 11:return t=qu(t.type.render,!1),t;case 1:return t=qu(t.type,!0),t;default:return""}}function Zc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Mi:return"Portal";case Yc:return"Profiler";case Ad:return"StrictMode";case Gc:return"Suspense";case Xc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c0:return(t.displayName||"Context")+".Consumer";case u0:return(t._context.displayName||"Context")+".Provider";case bd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Od:return e=t.displayName||null,e!==null?e:Zc(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return Zc(t(e))}catch{}}return null}function rk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zc(e);case 8:return e===Ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ik(t){var e=d0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gl(t){t._valueTracker||(t._valueTracker=ik(t))}function p0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ea(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function ef(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h0(t,e){e=e.checked,e!=null&&wd(t,"checked",e,!1)}function tf(t,e){h0(t,e);var n=Sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&nf(t,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nf(t,e,n){(e!=="number"||ea(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ph(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Qo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sr(n)}}function m0(t,e){var n=Sr(e.value),r=Sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yl,y0=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ok=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){ok.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function v0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function D0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sk=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(t,e){if(e){if(sk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function Td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uf=null,Xi=null,Zi=null;function mh(t){if(t=Xs(t)){if(typeof uf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=hu(e),uf(t.stateNode,t.type,e))}}function k0(t){Xi?Zi?Zi.push(t):Zi=[t]:Xi=t}function S0(){if(Xi){var t=Xi,e=Zi;if(Zi=Xi=null,mh(t),e)for(t=0;t<e.length;t++)mh(e[t])}}function C0(t,e){return t(e)}function E0(){}var Ju=!1;function x0(t,e,n){if(Ju)return t(e,n);Ju=!0;try{return C0(t,e,n)}finally{Ju=!1,(Xi!==null||Zi!==null)&&(E0(),S0())}}function ws(t,e){var n=t.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var cf=!1;if(Hn)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{cf=!1}function lk(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ns=!1,ta=null,na=!1,ff=null,ak={onError:function(t){ns=!0,ta=t}};function uk(t,e,n,r,i,o,s,l,a){ns=!1,ta=null,lk.apply(ak,arguments)}function ck(t,e,n,r,i,o,s,l,a){if(uk.apply(this,arguments),ns){if(ns){var u=ta;ns=!1,ta=null}else throw Error(B(198));na||(na=!0,ff=u)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gh(t){if(vi(t)!==t)throw Error(B(188))}function fk(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gh(i),t;if(o===r)return gh(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function A0(t){return t=fk(t),t!==null?b0(t):null}function b0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b0(t);if(e!==null)return e;t=t.sibling}return null}var O0=Ot.unstable_scheduleCallback,yh=Ot.unstable_cancelCallback,dk=Ot.unstable_shouldYield,pk=Ot.unstable_requestPaint,we=Ot.unstable_now,hk=Ot.unstable_getCurrentPriorityLevel,Md=Ot.unstable_ImmediatePriority,T0=Ot.unstable_UserBlockingPriority,ra=Ot.unstable_NormalPriority,mk=Ot.unstable_LowPriority,M0=Ot.unstable_IdlePriority,cu=null,wn=null;function gk(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(cu,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Dk,yk=Math.log,vk=Math.LN2;function Dk(t){return t>>>=0,t===0?32:31-(yk(t)/vk|0)|0}var vl=64,Dl=4194304;function Yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ia(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Yo(l):(o&=s,o!==0&&(r=Yo(o)))}else s=n&~i,s!==0?r=Yo(s):o!==0&&(r=Yo(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function kk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-cn(o),l=1<<s,a=i[s];a===-1?((l&n)===0||(l&r)!==0)&&(i[s]=kk(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N0(){var t=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),t}function Qu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ys(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function Ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function F0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var P0,Fd,I0,B0,R0,pf=!1,kl=[],ur=null,cr=null,fr=null,As=new Map,bs=new Map,rr=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":As.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(e.pointerId)}}function Ro(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xs(e),e!==null&&Fd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xk(t,e,n,r,i){switch(e){case"focusin":return ur=Ro(ur,t,e,n,r,i),!0;case"dragenter":return cr=Ro(cr,t,e,n,r,i),!0;case"mouseover":return fr=Ro(fr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return As.set(o,Ro(As.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bs.set(o,Ro(bs.get(o)||null,t,e,n,r,i)),!0}return!1}function L0(t){var e=qr(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=w0(n),e!==null){t.blockedOn=e,R0(t.priority,function(){I0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=Xs(n),e!==null&&Fd(e),t.blockedOn=n,!1;e.shift()}return!0}function Dh(t,e,n){_l(t)&&n.delete(e)}function wk(){pf=!1,ur!==null&&_l(ur)&&(ur=null),cr!==null&&_l(cr)&&(cr=null),fr!==null&&_l(fr)&&(fr=null),As.forEach(Dh),bs.forEach(Dh)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,pf||(pf=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,wk)))}function Os(t){function e(i){return Lo(i,t)}if(0<kl.length){Lo(kl[0],t);for(var n=1;n<kl.length;n++){var r=kl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ur!==null&&Lo(ur,t),cr!==null&&Lo(cr,t),fr!==null&&Lo(fr,t),As.forEach(e),bs.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)L0(n),n.blockedOn===null&&rr.shift()}var eo=Jn.ReactCurrentBatchConfig,oa=!0;function Ak(t,e,n,r){var i=pe,o=eo.transition;eo.transition=null;try{pe=1,Pd(t,e,n,r)}finally{pe=i,eo.transition=o}}function bk(t,e,n,r){var i=pe,o=eo.transition;eo.transition=null;try{pe=4,Pd(t,e,n,r)}finally{pe=i,eo.transition=o}}function Pd(t,e,n,r){if(oa){var i=hf(t,e,n,r);if(i===null)oc(t,e,r,sa,n),vh(t,r);else if(xk(i,t,e,n,r))r.stopPropagation();else if(vh(t,r),e&4&&-1<Ek.indexOf(t)){for(;i!==null;){var o=Xs(i);if(o!==null&&P0(o),o=hf(t,e,n,r),o===null&&oc(t,e,r,sa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else oc(t,e,r,null,n)}}var sa=null;function hf(t,e,n,r){if(sa=null,t=Td(r),t=qr(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sa=t,null}function z0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hk()){case Md:return 1;case T0:return 4;case ra:case mk:return 16;case M0:return 536870912;default:return 16}default:return 16}}var sr=null,Id=null,$l=null;function _0(){if($l)return $l;var t,e=Id,n=e.length,r,i="value"in sr?sr.value:sr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return $l=i.slice(t,1<r?1-r:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function kh(){return!1}function Nt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sl:kh,this.isPropagationStopped=kh,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bd=Nt(To),Gs=Ce({},To,{view:0,detail:0}),Ok=Nt(Gs),Yu,Gu,zo,fu=Ce({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Yu=t.screenX-zo.screenX,Gu=t.screenY-zo.screenY):Gu=Yu=0,zo=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),Sh=Nt(fu),Tk=Ce({},fu,{dataTransfer:0}),Mk=Nt(Tk),Nk=Ce({},Gs,{relatedTarget:0}),Xu=Nt(Nk),Fk=Ce({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Nt(Fk),Ik=Ce({},To,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bk=Nt(Ik),Rk=Ce({},To,{data:0}),Ch=Nt(Rk),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_k={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_k[t])?!!e[t]:!1}function Rd(){return $k}var Vk=Ce({},Gs,{key:function(t){if(t.key){var e=Lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jk=Nt(Vk),Hk=Ce({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=Nt(Hk),Uk=Ce({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),Wk=Nt(Uk),Kk=Ce({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=Nt(Kk),Jk=Ce({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qk=Nt(Jk),Yk=[9,13,27,32],Ld=Hn&&"CompositionEvent"in window,rs=null;Hn&&"documentMode"in document&&(rs=document.documentMode);var Gk=Hn&&"TextEvent"in window&&!rs,$0=Hn&&(!Ld||rs&&8<rs&&11>=rs),xh=String.fromCharCode(32),wh=!1;function V0(t,e){switch(t){case"keyup":return Yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function Xk(t,e){switch(t){case"compositionend":return j0(e);case"keypress":return e.which!==32?null:(wh=!0,xh);case"textInput":return t=e.data,t===xh&&wh?null:t;default:return null}}function Zk(t,e){if(Fi)return t==="compositionend"||!Ld&&V0(t,e)?(t=_0(),$l=Id=sr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $0&&e.locale!=="ko"?null:e.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eS[t.type]:e==="textarea"}function H0(t,e,n,r){k0(r),e=la(e,"onChange"),0<e.length&&(n=new Bd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var is=null,Ts=null;function tS(t){ey(t,0)}function du(t){var e=Bi(t);if(p0(e))return t}function nS(t,e){if(t==="change")return e}var U0=!1;if(Hn){var Zu;if(Hn){var ec="oninput"in document;if(!ec){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),ec=typeof bh.oninput=="function"}Zu=ec}else Zu=!1;U0=Zu&&(!document.documentMode||9<document.documentMode)}function Oh(){is&&(is.detachEvent("onpropertychange",W0),Ts=is=null)}function W0(t){if(t.propertyName==="value"&&du(Ts)){var e=[];H0(e,Ts,t,Td(t)),x0(tS,e)}}function rS(t,e,n){t==="focusin"?(Oh(),is=e,Ts=n,is.attachEvent("onpropertychange",W0)):t==="focusout"&&Oh()}function iS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(Ts)}function oS(t,e){if(t==="click")return du(e)}function sS(t,e){if(t==="input"||t==="change")return du(e)}function lS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:lS;function Ms(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qc.call(e,i)||!pn(t[i],e[i]))return!1}return!0}function Th(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mh(t,e){var n=Th(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Th(n)}}function K0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q0(){for(var t=window,e=ea();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ea(t.document)}return e}function zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aS(t){var e=q0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K0(n.ownerDocument.documentElement,n)){if(r!==null&&zd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Mh(n,o);var s=Mh(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uS=Hn&&"documentMode"in document&&11>=document.documentMode,Pi=null,mf=null,ss=null,gf=!1;function Nh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||Pi==null||Pi!==ea(r)||(r=Pi,"selectionStart"in r&&zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&Ms(ss,r)||(ss=r,r=la(mf,"onSelect"),0<r.length&&(e=new Bd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pi)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ii={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},tc={},J0={};Hn&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function pu(t){if(tc[t])return tc[t];if(!Ii[t])return t;var e=Ii[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in J0)return tc[t]=e[n];return t}var Q0=pu("animationend"),Y0=pu("animationiteration"),G0=pu("animationstart"),X0=pu("transitionend"),Z0=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,e){Z0.set(t,e),yi(e,[t])}for(var nc=0;nc<Fh.length;nc++){var rc=Fh[nc],cS=rc.toLowerCase(),fS=rc[0].toUpperCase()+rc.slice(1);Or(cS,"on"+fS)}Or(Q0,"onAnimationEnd");Or(Y0,"onAnimationIteration");Or(G0,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(X0,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Ph(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ck(r,e,void 0,t),t.currentTarget=null}function ey(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Ph(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Ph(i,l,u),o=a}}}if(na)throw t=ff,na=!1,ff=null,t}function ye(t,e){var n=e[Sf];n===void 0&&(n=e[Sf]=new Set);var r=t+"__bubble";n.has(r)||(ty(e,t,2,!1),n.add(r))}function ic(t,e,n){var r=0;e&&(r|=4),ty(n,t,r,e)}var El="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[El]){t[El]=!0,a0.forEach(function(n){n!=="selectionchange"&&(dS.has(n)||ic(n,!1,t),ic(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[El]||(e[El]=!0,ic("selectionchange",!1,e))}}function ty(t,e,n,r){switch(z0(e)){case 1:var i=Ak;break;case 4:i=bk;break;default:i=Pd}n=i.bind(null,e,n,t),i=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function oc(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=qr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}x0(function(){var u=o,c=Td(n),f=[];e:{var d=Z0.get(t);if(d!==void 0){var p=Bd,h=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":p=jk;break;case"focusin":h="focus",p=Xu;break;case"focusout":h="blur",p=Xu;break;case"beforeblur":case"afterblur":p=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wk;break;case Q0:case Y0:case G0:p=Pk;break;case X0:p=qk;break;case"scroll":p=Ok;break;case"wheel":p=Qk;break;case"copy":case"cut":case"paste":p=Bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Eh}var m=(e&4)!==0,k=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=u,D;v!==null;){D=v;var y=D.stateNode;if(D.tag===5&&y!==null&&(D=y,g!==null&&(y=ws(v,g),y!=null&&m.push(Fs(v,y,D)))),k)break;v=v.return}0<m.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:m}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==af&&(h=n.relatedTarget||n.fromElement)&&(qr(h)||h[Un]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?qr(h):null,h!==null&&(k=vi(h),h!==k||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(m=Sh,y="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Eh,y="onPointerLeave",g="onPointerEnter",v="pointer"),k=p==null?d:Bi(p),D=h==null?d:Bi(h),d=new m(y,v+"leave",p,n,c),d.target=k,d.relatedTarget=D,y=null,qr(c)===u&&(m=new m(g,v+"enter",h,n,c),m.target=D,m.relatedTarget=k,y=m),k=y,p&&h)t:{for(m=p,g=h,v=0,D=m;D;D=xi(D))v++;for(D=0,y=g;y;y=xi(y))D++;for(;0<v-D;)m=xi(m),v--;for(;0<D-v;)g=xi(g),D--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=xi(m),g=xi(g)}m=null}else m=null;p!==null&&Ih(f,d,p,m,!1),h!==null&&k!==null&&Ih(f,k,h,m,!0)}}e:{if(d=u?Bi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var A=nS;else if(Ah(d))if(U0)A=sS;else{A=iS;var E=rS}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=oS);if(A&&(A=A(t,u))){H0(f,A,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&nf(d,"number",d.value)}switch(E=u?Bi(u):window,t){case"focusin":(Ah(E)||E.contentEditable==="true")&&(Pi=E,mf=u,ss=null);break;case"focusout":ss=mf=Pi=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Nh(f,n,c);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Nh(f,n,c)}var T;if(Ld)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fi?V0(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&($0&&n.locale!=="ko"&&(Fi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fi&&(T=_0()):(sr=c,Id="value"in sr?sr.value:sr.textContent,Fi=!0)),E=la(u,C),0<E.length&&(C=new Ch(C,t,null,n,c),f.push({event:C,listeners:E}),T?C.data=T:(T=j0(n),T!==null&&(C.data=T)))),(T=Gk?Xk(t,n):Zk(t,n))&&(u=la(u,"onBeforeInput"),0<u.length&&(c=new Ch("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}ey(f,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function la(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ws(t,n),o!=null&&r.unshift(Fs(t,o,i)),o=ws(t,e),o!=null&&r.push(Fs(t,o,i))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ih(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ws(n,o),a!=null&&s.unshift(Fs(n,a,l))):i||(a=ws(n,o),a!=null&&s.push(Fs(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function Bh(t){return(typeof t=="string"?t:""+t).replace(pS,`
`).replace(hS,"")}function xl(t,e,n){if(e=Bh(e),Bh(t)!==e&&n)throw Error(B(425))}function aa(){}var yf=null,vf=null;function Df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh!="undefined"?function(t){return Rh.resolve(null).then(t).catch(yS)}:kf;function yS(t){setTimeout(function(){throw t})}function sc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Os(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Os(e)}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),kn="__reactFiber$"+Mo,Ps="__reactProps$"+Mo,Un="__reactContainer$"+Mo,Sf="__reactEvents$"+Mo,vS="__reactListeners$"+Mo,DS="__reactHandles$"+Mo;function qr(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lh(t);t!==null;){if(n=t[kn])return n;t=Lh(t)}return e}t=n,n=t.parentNode}return null}function Xs(t){return t=t[kn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function hu(t){return t[Ps]||null}var Cf=[],Ri=-1;function Tr(t){return{current:t}}function ve(t){0>Ri||(t.current=Cf[Ri],Cf[Ri]=null,Ri--)}function ge(t,e){Ri++,Cf[Ri]=t.current,t.current=e}var Cr={},Ge=Tr(Cr),ft=Tr(!1),ai=Cr;function uo(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function ua(){ve(ft),ve(Ge)}function zh(t,e,n){if(Ge.current!==Cr)throw Error(B(168));ge(Ge,e),ge(ft,n)}function ny(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,rk(t)||"Unknown",i));return Ce({},n,r)}function ca(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,ai=Ge.current,ge(Ge,t),ge(ft,ft.current),!0}function _h(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=ny(t,e,ai),r.__reactInternalMemoizedMergedChildContext=t,ve(ft),ve(Ge),ge(Ge,t)):ve(ft),ge(ft,n)}var Ln=null,mu=!1,lc=!1;function ry(t){Ln===null?Ln=[t]:Ln.push(t)}function kS(t){mu=!0,ry(t)}function Mr(){if(!lc&&Ln!==null){lc=!0;var t=0,e=pe;try{var n=Ln;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,mu=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),O0(Md,Mr),i}finally{pe=e,lc=!1}}return null}var Li=[],zi=0,fa=null,da=0,_t=[],$t=0,ui=null,_n=1,$n="";function $r(t,e){Li[zi++]=da,Li[zi++]=fa,fa=t,da=e}function iy(t,e,n){_t[$t++]=_n,_t[$t++]=$n,_t[$t++]=ui,ui=t;var r=_n;t=$n;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var o=32-cn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-cn(e)+i|n<<i|r,$n=o+t}else _n=1<<o|n<<i|r,$n=t}function _d(t){t.return!==null&&($r(t,1),iy(t,1,0))}function $d(t){for(;t===fa;)fa=Li[--zi],Li[zi]=null,da=Li[--zi],Li[zi]=null;for(;t===ui;)ui=_t[--$t],_t[$t]=null,$n=_t[--$t],_t[$t]=null,_n=_t[--$t],_t[$t]=null}var At=null,xt=null,De=!1,sn=null;function oy(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $h(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,xt=dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:_n,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,At=t,xt=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xf(t){if(De){var e=xt;if(e){var n=e;if(!$h(t,e)){if(Ef(t))throw Error(B(418));e=dr(n.nextSibling);var r=At;e&&$h(t,e)?oy(r,n):(t.flags=t.flags&-4097|2,De=!1,At=t)}}else{if(Ef(t))throw Error(B(418));t.flags=t.flags&-4097|2,De=!1,At=t}}}function Vh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function wl(t){if(t!==At)return!1;if(!De)return Vh(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Df(t.type,t.memoizedProps)),e&&(e=xt)){if(Ef(t))throw sy(),Error(B(418));for(;e;)oy(t,e),e=dr(e.nextSibling)}if(Vh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xt=dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xt=null}}else xt=At?dr(t.stateNode.nextSibling):null;return!0}function sy(){for(var t=xt;t;)t=dr(t.nextSibling)}function co(){xt=At=null,De=!1}function Vd(t){sn===null?sn=[t]:sn.push(t)}var SS=Jn.ReactCurrentBatchConfig;function nn(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pa=Tr(null),ha=null,_i=null,jd=null;function Hd(){jd=_i=ha=null}function Ud(t){var e=pa.current;ve(pa),t._currentValue=e}function wf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){ha=t,jd=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ct=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(jd!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(ha===null)throw Error(B(308));_i=t,ha.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Jr=null;function Wd(t){Jr===null?Jr=[t]:Jr.push(t)}function ly(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ae&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wn(t,n)}return i=r.interleaved,i===null?(e.next=e,Wd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wn(t,n)}function jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}function jh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ma(t,e,n,r){var i=t.updateQueue;er=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,p=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,m=l;switch(d=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=Ce({},f,d);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=f):c=c.next=p,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fi|=s,t.lanes=s,t.memoizedState=f}}function Hh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var uy=new l0.Component().refs;function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gu={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),i=mr(t),o=jn(r,i);o.payload=e,n!=null&&(o.callback=n),e=pr(t,o,i),e!==null&&(fn(e,t,i,r),jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),i=mr(t),o=jn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pr(t,o,i),e!==null&&(fn(e,t,i,r),jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=mr(t),i=jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=pr(t,i,r),e!==null&&(fn(e,t,r,n),jl(e,t,r))}};function Uh(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ms(n,r)||!Ms(i,o):!0}function cy(t,e,n){var r=!1,i=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=dt(e)?ai:Ge.current,r=e.contextTypes,o=(r=r!=null)?uo(t,i):Cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gu.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uy,Kd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=dt(e)?ai:Ge.current,i.context=uo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Af(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gu.enqueueReplaceState(i,i.state,null),ma(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===uy&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Al(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kh(t){var e=t._init;return e(t._payload)}function fy(t){function e(g,v){if(t){var D=g.deletions;D===null?(g.deletions=[v],g.flags|=16):D.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=gr(g,v),g.index=0,g.sibling=null,g}function o(g,v,D){return g.index=D,t?(D=g.alternate,D!==null?(D=D.index,D<v?(g.flags|=2,v):D):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,v,D,y){return v===null||v.tag!==6?(v=hc(D,g.mode,y),v.return=g,v):(v=i(v,D),v.return=g,v)}function a(g,v,D,y){var A=D.type;return A===Ni?c(g,v,D.props.children,y,D.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zn&&Kh(A)===v.type)?(y=i(v,D.props),y.ref=_o(g,v,D),y.return=g,y):(y=Jl(D.type,D.key,D.props,null,g.mode,y),y.ref=_o(g,v,D),y.return=g,y)}function u(g,v,D,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==D.containerInfo||v.stateNode.implementation!==D.implementation?(v=mc(D,g.mode,y),v.return=g,v):(v=i(v,D.children||[]),v.return=g,v)}function c(g,v,D,y,A){return v===null||v.tag!==7?(v=ei(D,g.mode,y,A),v.return=g,v):(v=i(v,D),v.return=g,v)}function f(g,v,D){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hc(""+v,g.mode,D),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ml:return D=Jl(v.type,v.key,v.props,null,g.mode,D),D.ref=_o(g,null,v),D.return=g,D;case Mi:return v=mc(v,g.mode,D),v.return=g,v;case Zn:var y=v._init;return f(g,y(v._payload),D)}if(Qo(v)||Io(v))return v=ei(v,g.mode,D,null),v.return=g,v;Al(g,v)}return null}function d(g,v,D,y){var A=v!==null?v.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return A!==null?null:l(g,v,""+D,y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ml:return D.key===A?a(g,v,D,y):null;case Mi:return D.key===A?u(g,v,D,y):null;case Zn:return A=D._init,d(g,v,A(D._payload),y)}if(Qo(D)||Io(D))return A!==null?null:c(g,v,D,y,null);Al(g,D)}return null}function p(g,v,D,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(D)||null,l(v,g,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ml:return g=g.get(y.key===null?D:y.key)||null,a(v,g,y,A);case Mi:return g=g.get(y.key===null?D:y.key)||null,u(v,g,y,A);case Zn:var E=y._init;return p(g,v,D,E(y._payload),A)}if(Qo(y)||Io(y))return g=g.get(D)||null,c(v,g,y,A,null);Al(v,y)}return null}function h(g,v,D,y){for(var A=null,E=null,T=v,C=v=0,_=null;T!==null&&C<D.length;C++){T.index>C?(_=T,T=null):_=T.sibling;var L=d(g,T,D[C],y);if(L===null){T===null&&(T=_);break}t&&T&&L.alternate===null&&e(g,T),v=o(L,v,C),E===null?A=L:E.sibling=L,E=L,T=_}if(C===D.length)return n(g,T),De&&$r(g,C),A;if(T===null){for(;C<D.length;C++)T=f(g,D[C],y),T!==null&&(v=o(T,v,C),E===null?A=T:E.sibling=T,E=T);return De&&$r(g,C),A}for(T=r(g,T);C<D.length;C++)_=p(T,g,C,D[C],y),_!==null&&(t&&_.alternate!==null&&T.delete(_.key===null?C:_.key),v=o(_,v,C),E===null?A=_:E.sibling=_,E=_);return t&&T.forEach(function(Z){return e(g,Z)}),De&&$r(g,C),A}function m(g,v,D,y){var A=Io(D);if(typeof A!="function")throw Error(B(150));if(D=A.call(D),D==null)throw Error(B(151));for(var E=A=null,T=v,C=v=0,_=null,L=D.next();T!==null&&!L.done;C++,L=D.next()){T.index>C?(_=T,T=null):_=T.sibling;var Z=d(g,T,L.value,y);if(Z===null){T===null&&(T=_);break}t&&T&&Z.alternate===null&&e(g,T),v=o(Z,v,C),E===null?A=Z:E.sibling=Z,E=Z,T=_}if(L.done)return n(g,T),De&&$r(g,C),A;if(T===null){for(;!L.done;C++,L=D.next())L=f(g,L.value,y),L!==null&&(v=o(L,v,C),E===null?A=L:E.sibling=L,E=L);return De&&$r(g,C),A}for(T=r(g,T);!L.done;C++,L=D.next())L=p(T,g,C,L.value,y),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?C:L.key),v=o(L,v,C),E===null?A=L:E.sibling=L,E=L);return t&&T.forEach(function(H){return e(g,H)}),De&&$r(g,C),A}function k(g,v,D,y){if(typeof D=="object"&&D!==null&&D.type===Ni&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case ml:e:{for(var A=D.key,E=v;E!==null;){if(E.key===A){if(A=D.type,A===Ni){if(E.tag===7){n(g,E.sibling),v=i(E,D.props.children),v.return=g,g=v;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zn&&Kh(A)===E.type){n(g,E.sibling),v=i(E,D.props),v.ref=_o(g,E,D),v.return=g,g=v;break e}n(g,E);break}else e(g,E);E=E.sibling}D.type===Ni?(v=ei(D.props.children,g.mode,y,D.key),v.return=g,g=v):(y=Jl(D.type,D.key,D.props,null,g.mode,y),y.ref=_o(g,v,D),y.return=g,g=y)}return s(g);case Mi:e:{for(E=D.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===D.containerInfo&&v.stateNode.implementation===D.implementation){n(g,v.sibling),v=i(v,D.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=mc(D,g.mode,y),v.return=g,g=v}return s(g);case Zn:return E=D._init,k(g,v,E(D._payload),y)}if(Qo(D))return h(g,v,D,y);if(Io(D))return m(g,v,D,y);Al(g,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,D),v.return=g,g=v):(n(g,v),v=hc(D,g.mode,y),v.return=g,g=v),s(g)):n(g,v)}return k}var fo=fy(!0),dy=fy(!1),Zs={},An=Tr(Zs),Is=Tr(Zs),Bs=Tr(Zs);function Qr(t){if(t===Zs)throw Error(B(174));return t}function qd(t,e){switch(ge(Bs,e),ge(Is,t),ge(An,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}ve(An),ge(An,e)}function po(){ve(An),ve(Is),ve(Bs)}function py(t){Qr(Bs.current);var e=Qr(An.current),n=of(e,t.type);e!==n&&(ge(Is,t),ge(An,n))}function Jd(t){Is.current===t&&(ve(An),ve(Is))}var ke=Tr(0);function ga(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function Qd(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var Hl=Jn.ReactCurrentDispatcher,uc=Jn.ReactCurrentBatchConfig,ci=0,Se=null,Te=null,Pe=null,ya=!1,ls=!1,Rs=0,CS=0;function Ue(){throw Error(B(321))}function Yd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function Gd(t,e,n,r,i,o){if(ci=o,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hl.current=t===null||t.memoizedState===null?AS:bS,t=n(r,i),ls){o=0;do{if(ls=!1,Rs=0,25<=o)throw Error(B(301));o+=1,Pe=Te=null,e.updateQueue=null,Hl.current=OS,t=n(r,i)}while(ls)}if(Hl.current=va,e=Te!==null&&Te.next!==null,ci=0,Pe=Te=Se=null,ya=!1,e)throw Error(B(300));return t}function Xd(){var t=Rs!==0;return Rs=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Se.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function Jt(){if(Te===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Pe===null?Se.memoizedState:Pe.next;if(e!==null)Pe=e,Te=t;else{if(t===null)throw Error(B(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?Se.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Ls(t,e){return typeof e=="function"?e(t):e}function cc(t){var e=Jt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((ci&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Se.lanes|=c,fi|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,pn(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Se.lanes|=o,fi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fc(t){var e=Jt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);pn(o,e.memoizedState)||(ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hy(){}function my(t,e){var n=Se,r=Jt(),i=e(),o=!pn(r.memoizedState,i);if(o&&(r.memoizedState=i,ct=!0),r=r.queue,Zd(vy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,zs(9,yy.bind(null,n,r,i,e),void 0,null),Ie===null)throw Error(B(349));(ci&30)!==0||gy(n,e,i)}return i}function gy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yy(t,e,n,r){e.value=n,e.getSnapshot=r,Dy(e)&&ky(t)}function vy(t,e,n){return n(function(){Dy(e)&&ky(t)})}function Dy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function ky(t){var e=Wn(t,1);e!==null&&fn(e,t,1,-1)}function qh(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},e.queue=t,t=t.dispatch=wS.bind(null,Se,t),[e.memoizedState,t]}function zs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sy(){return Jt().memoizedState}function Ul(t,e,n,r){var i=gn();Se.flags|=t,i.memoizedState=zs(1|e,n,void 0,r===void 0?null:r)}function yu(t,e,n,r){var i=Jt();r=r===void 0?null:r;var o=void 0;if(Te!==null){var s=Te.memoizedState;if(o=s.destroy,r!==null&&Yd(r,s.deps)){i.memoizedState=zs(e,n,o,r);return}}Se.flags|=t,i.memoizedState=zs(1|e,n,o,r)}function Jh(t,e){return Ul(8390656,8,t,e)}function Zd(t,e){return yu(2048,8,t,e)}function Cy(t,e){return yu(4,2,t,e)}function Ey(t,e){return yu(4,4,t,e)}function xy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wy(t,e,n){return n=n!=null?n.concat([t]):null,yu(4,4,xy.bind(null,e,t),n)}function ep(){}function Ay(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function by(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oy(t,e,n){return(ci&21)===0?(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n):(pn(n,e)||(n=N0(),Se.lanes|=n,fi|=n,t.baseState=!0),e)}function ES(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=uc.transition;uc.transition={};try{t(!1),e()}finally{pe=n,uc.transition=r}}function Ty(){return Jt().memoizedState}function xS(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},My(t))Ny(e,n);else if(n=ly(t,e,n,r),n!==null){var i=rt();fn(n,t,r,i),Fy(n,e,r)}}function wS(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(My(t))Ny(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,pn(l,s)){var a=e.interleaved;a===null?(i.next=i,Wd(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=ly(t,e,i,r),n!==null&&(i=rt(),fn(n,t,r,i),Fy(n,e,r))}}function My(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Ny(t,e){ls=ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fy(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nd(t,n)}}var va={readContext:qt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},AS={readContext:qt,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:Jh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4194308,4,xy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ul(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xS.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:qh,useDebugValue:ep,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=qh(!1),e=t[0];return t=ES.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=gn();if(De){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ie===null)throw Error(B(349));(ci&30)!==0||gy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Jh(vy.bind(null,r,o,t),[t]),r.flags|=2048,zs(9,yy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=gn(),e=Ie.identifierPrefix;if(De){var n=$n,r=_n;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bS={readContext:qt,useCallback:Ay,useContext:qt,useEffect:Zd,useImperativeHandle:wy,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:by,useReducer:cc,useRef:Sy,useState:function(){return cc(Ls)},useDebugValue:ep,useDeferredValue:function(t){var e=Jt();return Oy(e,Te.memoizedState,t)},useTransition:function(){var t=cc(Ls)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:hy,useSyncExternalStore:my,useId:Ty,unstable_isNewReconciler:!1},OS={readContext:qt,useCallback:Ay,useContext:qt,useEffect:Zd,useImperativeHandle:wy,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:by,useReducer:fc,useRef:Sy,useState:function(){return fc(Ls)},useDebugValue:ep,useDeferredValue:function(t){var e=Jt();return Te===null?e.memoizedState=t:Oy(e,Te.memoizedState,t)},useTransition:function(){var t=fc(Ls)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:hy,useSyncExternalStore:my,useId:Ty,unstable_isNewReconciler:!1};function ho(t,e){try{var n="",r=e;do n+=nk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function dc(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Of(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TS=typeof WeakMap=="function"?WeakMap:Map;function Py(t,e,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ka||(ka=!0,zf=r),Of(t,e)},n}function Iy(t,e,n){n=jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Of(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Of(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Qh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HS.bind(null,t,e,n),e.then(t,t))}function Yh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gh(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var MS=Jn.ReactCurrentOwner,ct=!1;function tt(t,e,n,r){e.child=t===null?dy(e,null,n,r):fo(e,t.child,n,r)}function Xh(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=Gd(t,e,n,r,o,i),n=Xd(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(De&&n&&_d(e),e.flags|=1,tt(t,e,r,i),e.child)}function Zh(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ap(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,By(t,e,o,r,i)):(t=Jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(s,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=gr(o,r),t.ref=e.ref,t.return=e,e.child=t}function By(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ms(o,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(ct=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return Tf(t,e,n,r,i)}function Ry(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Vi,St),St|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Vi,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ge(Vi,St),St|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ge(Vi,St),St|=r;return tt(t,e,i,n),e.child}function Ly(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tf(t,e,n,r,i){var o=dt(n)?ai:Ge.current;return o=uo(e,o),to(e,i),n=Gd(t,e,n,r,o,i),r=Xd(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(De&&r&&_d(e),e.flags|=1,tt(t,e,n,i),e.child)}function em(t,e,n,r,i){if(dt(n)){var o=!0;ca(e)}else o=!1;if(to(e,i),e.stateNode===null)Wl(t,e),cy(e,n,r),bf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=dt(n)?ai:Ge.current,u=uo(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Wh(e,s,r,u),er=!1;var d=e.memoizedState;s.state=d,ma(e,r,s,i),a=e.memoizedState,l!==r||d!==a||ft.current||er?(typeof c=="function"&&(Af(e,n,c,r),a=e.memoizedState),(l=er||Uh(e,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ay(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:nn(e.type,l),s.props=u,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=qt(a):(a=dt(n)?ai:Ge.current,a=uo(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Wh(e,s,r,a),er=!1,d=e.memoizedState,s.state=d,ma(e,r,s,i);var h=e.memoizedState;l!==f||d!==h||ft.current||er?(typeof p=="function"&&(Af(e,n,p,r),h=e.memoizedState),(u=er||Uh(e,n,u,r,d,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Mf(t,e,n,r,o,i)}function Mf(t,e,n,r,i,o){Ly(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_h(e,n,!1),Kn(t,e,o);r=e.stateNode,MS.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fo(e,t.child,null,o),e.child=fo(e,null,l,o)):tt(t,e,l,o),e.memoizedState=r.state,i&&_h(e,n,!0),e.child}function zy(t){var e=t.stateNode;e.pendingContext?zh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zh(t,e.context,!1),qd(t,e.containerInfo)}function tm(t,e,n,r,i){return co(),Vd(i),e.flags|=256,tt(t,e,n,r),e.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function _y(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(ke,i&1),t===null)return xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ku(s,r,0,null),t=ei(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ff(n),e.memoizedState=Nf,t):tp(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return NS(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=gr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=gr(l,o):(o=ei(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ff(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nf,r}return o=t.child,t=o.sibling,r=gr(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tp(t,e){return e=ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,r){return r!==null&&Vd(r),fo(e,t.child,null,n),t=tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=dc(Error(B(422))),bl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ku({mode:"visible",children:r.children},i,0,null),o=ei(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&fo(e,t.child,null,s),e.child.memoizedState=Ff(s),e.memoizedState=Nf,o);if((e.mode&1)===0)return bl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=dc(o,r,void 0),bl(t,e,s,r)}if(l=(s&t.childLanes)!==0,ct||l){if(r=Ie,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wn(t,i),fn(r,t,i,-1))}return lp(),r=dc(Error(B(421))),bl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=US.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xt=dr(i.nextSibling),At=e,De=!0,sn=null,t!==null&&(_t[$t++]=_n,_t[$t++]=$n,_t[$t++]=ui,_n=t.id,$n=t.overflow,ui=e),e=tp(e,r.children),e.flags|=4096,e)}function nm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wf(t.return,e,n)}function pc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $y(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(tt(t,e,r.children,n),r=ke.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nm(t,n,e);else if(t.tag===19)nm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(ke,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ga(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ga(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pc(e,!0,n,null,o);break;case"together":pc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wl(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FS(t,e,n){switch(e.tag){case 3:zy(e),co();break;case 5:py(e);break;case 1:dt(e.type)&&ca(e);break;case 4:qd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(pa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?_y(t,e,n):(ge(ke,ke.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return $y(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Ry(t,e,n)}return Kn(t,e,n)}var Vy,Pf,jy,Hy;Vy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};jy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(An.current);var o=null;switch(n){case"input":i=ef(t,i),r=ef(t,r),o=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),o=[];break;case"textarea":i=rf(t,i),r=rf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=aa)}sf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Hy=function(t,e,n,r){n!==r&&(e.flags|=4)};function $o(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PS(t,e,n){var r=e.pendingProps;switch($d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return dt(e.type)&&ua(),We(e),null;case 3:return r=e.stateNode,po(),ve(ft),ve(Ge),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,sn!==null&&(Vf(sn),sn=null))),Pf(t,e),We(e),null;case 5:Jd(e);var i=Qr(Bs.current);if(n=e.type,t!==null&&e.stateNode!=null)jy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return We(e),null}if(t=Qr(An.current),wl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kn]=e,r[Ps]=o,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(i=0;i<Go.length;i++)ye(Go[i],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":fh(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":ph(r,o),ye("invalid",r)}sf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&xl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&xl(r.textContent,l,t),i=["children",""+l]):Es.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ye("scroll",r)}switch(n){case"input":gl(r),dh(r,o,!0);break;case"textarea":gl(r),hh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=aa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kn]=e,t[Ps]=r,Vy(t,e,!1,!1),e.stateNode=t;e:{switch(s=lf(n,r),n){case"dialog":ye("cancel",t),ye("close",t),i=r;break;case"iframe":case"object":case"embed":ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Go.length;i++)ye(Go[i],t);i=r;break;case"source":ye("error",t),i=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=r;break;case"details":ye("toggle",t),i=r;break;case"input":fh(t,r),i=ef(t,r),ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),ye("invalid",t);break;case"textarea":ph(t,r),i=rf(t,r),ye("invalid",t);break;default:i=r}sf(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?D0(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&y0(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&xs(t,a):typeof a=="number"&&xs(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Es.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ye("scroll",t):a!=null&&wd(t,o,a,s))}switch(n){case"input":gl(t),dh(t,r,!1);break;case"textarea":gl(t),hh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=aa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)Hy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Qr(Bs.current),Qr(An.current),wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(o=r.nodeValue!==n)&&(t=At,t!==null))switch(t.tag){case 3:xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return We(e),null;case 13:if(ve(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&xt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)sy(),co(),e.flags|=98560,o=!1;else if(o=wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[kn]=e}else co(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;We(e),o=!1}else sn!==null&&(Vf(sn),sn=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ke.current&1)!==0?Me===0&&(Me=3):lp())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return po(),Pf(t,e),t===null&&Ns(e.stateNode.containerInfo),We(e),null;case 10:return Ud(e.type._context),We(e),null;case 17:return dt(e.type)&&ua(),We(e),null;case 19:if(ve(ke),o=e.memoizedState,o===null)return We(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)$o(o,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=ga(t),s!==null){for(e.flags|=128,$o(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&we()>mo&&(e.flags|=128,r=!0,$o(o,!1),e.lanes=4194304)}else{if(!r)if(t=ga(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!De)return We(e),null}else 2*we()-o.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,$o(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=we(),e.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),e):(We(e),null);case 22:case 23:return sp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(St&1073741824)!==0&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function IS(t,e){switch($d(e),e.tag){case 1:return dt(e.type)&&ua(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),ve(ft),ve(Ge),Qd(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Jd(e),null;case 13:if(ve(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(ke),null;case 4:return po(),null;case 10:return Ud(e.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var Ol=!1,Qe=!1,BS=typeof WeakSet=="function"?WeakSet:Set,V=null;function $i(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function If(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var rm=!1;function RS(t,e){if(yf=oa,t=q0(),zd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:t,selectionRange:n},oa=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var h=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,k=h.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:nn(e.type,m),k);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(y){Ee(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return h=rm,rm=!1,h}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&If(e,n,o)}i=i.next}while(i!==r)}}function vu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uy(t){var e=t.alternate;e!==null&&(t.alternate=null,Uy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ps],delete e[Sf],delete e[vS],delete e[DS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wy(t){return t.tag===5||t.tag===3||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=aa));else if(r!==4&&(t=t.child,t!==null))for(Rf(t,e,n),t=t.sibling;t!==null;)Rf(t,e,n),t=t.sibling}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var Le=null,on=!1;function Qn(t,e,n){for(n=n.child;n!==null;)Ky(t,e,n),n=n.sibling}function Ky(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:Qe||$i(n,e);case 6:var r=Le,i=on;Le=null,Qn(t,e,n),Le=r,on=i,Le!==null&&(on?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(on?(t=Le,n=n.stateNode,t.nodeType===8?sc(t.parentNode,n):t.nodeType===1&&sc(t,n),Os(t)):sc(Le,n.stateNode));break;case 4:r=Le,i=on,Le=n.stateNode.containerInfo,on=!0,Qn(t,e,n),Le=r,on=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&If(n,e,s),i=i.next}while(i!==r)}Qn(t,e,n);break;case 1:if(!Qe&&($i(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ee(n,e,l)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Qn(t,e,n),Qe=r):Qn(t,e,n);break;default:Qn(t,e,n)}}function om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BS),e.forEach(function(r){var i=WS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,on=!1;break e;case 3:Le=l.stateNode.containerInfo,on=!0;break e;case 4:Le=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(Le===null)throw Error(B(160));Ky(o,s,i),Le=null,on=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qy(e,t),e=e.sibling}function qy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),mn(t),r&4){try{as(3,t,t.return),vu(3,t)}catch(m){Ee(t,t.return,m)}try{as(5,t,t.return)}catch(m){Ee(t,t.return,m)}}break;case 1:tn(e,t),mn(t),r&512&&n!==null&&$i(n,n.return);break;case 5:if(tn(e,t),mn(t),r&512&&n!==null&&$i(n,n.return),t.flags&32){var i=t.stateNode;try{xs(i,"")}catch(m){Ee(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&h0(i,o),lf(l,s);var u=lf(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?D0(i,f):c==="dangerouslySetInnerHTML"?y0(i,f):c==="children"?xs(i,f):wd(i,c,f,u)}switch(l){case"input":tf(i,o);break;case"textarea":m0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gi(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Gi(i,!!o.multiple,o.defaultValue,!0):Gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ps]=o}catch(m){Ee(t,t.return,m)}}break;case 6:if(tn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Ee(t,t.return,m)}}break;case 3:if(tn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(e.containerInfo)}catch(m){Ee(t,t.return,m)}break;case 4:tn(e,t),mn(t);break;case 13:tn(e,t),mn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ip=we())),r&4&&om(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||c,tn(e,t),Qe=u):tn(e,t),mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(V=t,c=t.child;c!==null;){for(f=V=c;V!==null;){switch(d=V,p=d.child,d.tag){case 0:case 11:case 14:case 15:as(4,d,d.return);break;case 1:$i(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){Ee(r,n,m)}}break;case 5:$i(d,d.return);break;case 22:if(d.memoizedState!==null){lm(f);continue}}p!==null?(p.return=d,V=p):lm(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=v0("display",s))}catch(m){Ee(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ee(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tn(e,t),mn(t),r&4&&om(t);break;case 21:break;default:tn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wy(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var o=im(t);Lf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=im(t);Rf(t,l,s);break;default:throw Error(B(161))}}catch(a){Ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LS(t,e,n){V=t,Jy(t)}function Jy(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ol;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Qe;l=Ol;var u=Qe;if(Ol=s,(Qe=a)&&!u)for(V=i;V!==null;)s=V,a=s.child,s.tag===22&&s.memoizedState!==null?am(i):a!==null?(a.return=s,V=a):am(i);for(;o!==null;)V=o,Jy(o),o=o.sibling;V=i,Ol=l,Qe=u}sm(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,V=o):sm(t)}}function sm(t){for(;V!==null;){var e=V;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Qe||vu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Hh(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hh(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Os(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Qe||e.flags&512&&Bf(e)}catch(d){Ee(e,e.return,d)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function lm(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function am(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vu(4,e)}catch(a){Ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ee(e,i,a)}}var o=e.return;try{Bf(e)}catch(a){Ee(e,o,a)}break;case 5:var s=e.return;try{Bf(e)}catch(a){Ee(e,s,a)}}}catch(a){Ee(e,e.return,a)}if(e===t){V=null;break}var l=e.sibling;if(l!==null){l.return=e.return,V=l;break}V=e.return}}var zS=Math.ceil,Da=Jn.ReactCurrentDispatcher,np=Jn.ReactCurrentOwner,Ut=Jn.ReactCurrentBatchConfig,ae=0,Ie=null,be=null,Ve=0,St=0,Vi=Tr(0),Me=0,_s=null,fi=0,Du=0,rp=0,us=null,ut=null,ip=0,mo=1/0,In=null,ka=!1,zf=null,hr=null,Tl=!1,lr=null,Sa=0,cs=0,_f=null,Kl=-1,ql=0;function rt(){return(ae&6)!==0?we():Kl!==-1?Kl:Kl=we()}function mr(t){return(t.mode&1)===0?1:(ae&2)!==0&&Ve!==0?Ve&-Ve:SS.transition!==null?(ql===0&&(ql=N0()),ql):(t=pe,t!==0||(t=window.event,t=t===void 0?16:z0(t.type)),t)}function fn(t,e,n,r){if(50<cs)throw cs=0,_f=null,Error(B(185));Ys(t,n,r),((ae&2)===0||t!==Ie)&&(t===Ie&&((ae&2)===0&&(Du|=n),Me===4&&ir(t,Ve)),pt(t,r),n===1&&ae===0&&(e.mode&1)===0&&(mo=we()+500,mu&&Mr()))}function pt(t,e){var n=t.callbackNode;Sk(t,e);var r=ia(t,t===Ie?Ve:0);if(r===0)n!==null&&yh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yh(n),e===1)t.tag===0?kS(um.bind(null,t)):ry(um.bind(null,t)),gS(function(){(ae&6)===0&&Mr()}),n=null;else{switch(F0(r)){case 1:n=Md;break;case 4:n=T0;break;case 16:n=ra;break;case 536870912:n=M0;break;default:n=ra}n=nv(n,Qy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qy(t,e){if(Kl=-1,ql=0,(ae&6)!==0)throw Error(B(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=ia(t,t===Ie?Ve:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ca(t,r);else{e=r;var i=ae;ae|=2;var o=Gy();(Ie!==t||Ve!==e)&&(In=null,mo=we()+500,Zr(t,e));do try{VS();break}catch(l){Yy(t,l)}while(1);Hd(),Da.current=o,ae=i,be!==null?e=0:(Ie=null,Ve=0,e=Me)}if(e!==0){if(e===2&&(i=df(t),i!==0&&(r=i,e=$f(t,i))),e===1)throw n=_s,Zr(t,0),ir(t,r),pt(t,we()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,(r&30)===0&&!_S(i)&&(e=Ca(t,r),e===2&&(o=df(t),o!==0&&(r=o,e=$f(t,o))),e===1))throw n=_s,Zr(t,0),ir(t,r),pt(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Vr(t,ut,In);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=ip+500-we(),10<e)){if(ia(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kf(Vr.bind(null,t,ut,In),e);break}Vr(t,ut,In);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-cn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zS(r/1960))-r,10<r){t.timeoutHandle=kf(Vr.bind(null,t,ut,In),r);break}Vr(t,ut,In);break;case 5:Vr(t,ut,In);break;default:throw Error(B(329))}}}return pt(t,we()),t.callbackNode===n?Qy.bind(null,t):null}function $f(t,e){var n=us;return t.current.memoizedState.isDehydrated&&(Zr(t,e).flags|=256),t=Ca(t,e),t!==2&&(e=ut,ut=n,e!==null&&Vf(e)),t}function Vf(t){ut===null?ut=t:ut.push.apply(ut,t)}function _S(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~rp,e&=~Du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function um(t){if((ae&6)!==0)throw Error(B(327));no();var e=ia(t,0);if((e&1)===0)return pt(t,we()),null;var n=Ca(t,e);if(t.tag!==0&&n===2){var r=df(t);r!==0&&(e=r,n=$f(t,r))}if(n===1)throw n=_s,Zr(t,0),ir(t,e),pt(t,we()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,ut,In),pt(t,we()),null}function op(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(mo=we()+500,mu&&Mr())}}function di(t){lr!==null&&lr.tag===0&&(ae&6)===0&&no();var e=ae;ae|=1;var n=Ut.transition,r=pe;try{if(Ut.transition=null,pe=1,t)return t()}finally{pe=r,Ut.transition=n,ae=e,(ae&6)===0&&Mr()}}function sp(){St=Vi.current,ve(Vi)}function Zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mS(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch($d(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ua();break;case 3:po(),ve(ft),ve(Ge),Qd();break;case 5:Jd(r);break;case 4:po();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:Ud(r.type._context);break;case 22:case 23:sp()}n=n.return}if(Ie=t,be=t=gr(t.current,null),Ve=St=e,Me=0,_s=null,rp=Du=fi=0,ut=us=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Jr=null}return t}function Yy(t,e){do{var n=be;try{if(Hd(),Hl.current=va,ya){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ya=!1}if(ci=0,Pe=Te=Se=null,ls=!1,Rs=0,np.current=null,n===null||n.return===null){Me=1,_s=e,be=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Yh(s);if(p!==null){p.flags&=-257,Gh(p,s,l,o,e),p.mode&1&&Qh(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var m=new Set;m.add(a),e.updateQueue=m}else h.add(a);break e}else{if((e&1)===0){Qh(o,u,e),lp();break e}a=Error(B(426))}}else if(De&&l.mode&1){var k=Yh(s);if(k!==null){(k.flags&65536)===0&&(k.flags|=256),Gh(k,s,l,o,e),Vd(ho(a,l));break e}}o=a=ho(a,l),Me!==4&&(Me=2),us===null?us=[o]:us.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Py(o,a,e);jh(o,g);break e;case 1:l=a;var v=o.type,D=o.stateNode;if((o.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(hr===null||!hr.has(D)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=Iy(o,l,e);jh(o,y);break e}}o=o.return}while(o!==null)}Zy(n)}catch(A){e=A,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function Gy(){var t=Da.current;return Da.current=va,t===null?va:t}function lp(){(Me===0||Me===3||Me===2)&&(Me=4),Ie===null||(fi&268435455)===0&&(Du&268435455)===0||ir(Ie,Ve)}function Ca(t,e){var n=ae;ae|=2;var r=Gy();(Ie!==t||Ve!==e)&&(In=null,Zr(t,e));do try{$S();break}catch(i){Yy(t,i)}while(1);if(Hd(),ae=n,Da.current=r,be!==null)throw Error(B(261));return Ie=null,Ve=0,Me}function $S(){for(;be!==null;)Xy(be)}function VS(){for(;be!==null&&!dk();)Xy(be)}function Xy(t){var e=tv(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?Zy(t):be=e,np.current=null}function Zy(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=PS(n,e,St),n!==null){be=n;return}}else{if(n=IS(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,be=null;return}}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Me===0&&(Me=5)}function Vr(t,e,n){var r=pe,i=Ut.transition;try{Ut.transition=null,pe=1,jS(t,e,n,r)}finally{Ut.transition=i,pe=r}return null}function jS(t,e,n,r){do no();while(lr!==null);if((ae&6)!==0)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ck(t,o),t===Ie&&(be=Ie=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Tl||(Tl=!0,nv(ra,function(){return no(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Ut.transition,Ut.transition=null;var s=pe;pe=1;var l=ae;ae|=4,np.current=null,RS(t,n),qy(n,t),aS(vf),oa=!!yf,vf=yf=null,t.current=n,LS(n),pk(),ae=l,pe=s,Ut.transition=o}else t.current=n;if(Tl&&(Tl=!1,lr=t,Sa=i),o=t.pendingLanes,o===0&&(hr=null),gk(n.stateNode),pt(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ka)throw ka=!1,t=zf,zf=null,t;return(Sa&1)!==0&&t.tag!==0&&no(),o=t.pendingLanes,(o&1)!==0?t===_f?cs++:(cs=0,_f=t):cs=0,Mr(),null}function no(){if(lr!==null){var t=F0(Sa),e=Ut.transition,n=pe;try{if(Ut.transition=null,pe=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,Sa=0,(ae&6)!==0)throw Error(B(331));var i=ae;for(ae|=4,V=t.current;V!==null;){var o=V,s=o.child;if((V.flags&16)!==0){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:as(8,c,o)}var f=c.child;if(f!==null)f.return=c,V=f;else for(;V!==null;){c=V;var d=c.sibling,p=c.return;if(Uy(c),c===u){V=null;break}if(d!==null){d.return=p,V=d;break}V=p}}}var h=o.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var k=m.sibling;m.sibling=null,m=k}while(m!==null)}}V=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,V=s;else e:for(;V!==null;){if(o=V,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:as(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,V=g;break e}V=o.return}}var v=t.current;for(V=v;V!==null;){s=V;var D=s.child;if((s.subtreeFlags&2064)!==0&&D!==null)D.return=s,V=D;else e:for(s=v;V!==null;){if(l=V,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:vu(9,l)}}catch(A){Ee(l,l.return,A)}if(l===s){V=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,V=y;break e}V=l.return}}if(ae=i,Mr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(cu,t)}catch{}r=!0}return r}finally{pe=n,Ut.transition=e}}return!1}function cm(t,e,n){e=ho(n,e),e=Py(t,e,1),t=pr(t,e,1),e=rt(),t!==null&&(Ys(t,1,e),pt(t,e))}function Ee(t,e,n){if(t.tag===3)cm(t,t,n);else for(;e!==null;){if(e.tag===3){cm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=ho(n,t),t=Iy(e,t,1),e=pr(e,t,1),t=rt(),e!==null&&(Ys(e,1,t),pt(e,t));break}}e=e.return}}function HS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Ve&n)===n&&(Me===4||Me===3&&(Ve&130023424)===Ve&&500>we()-ip?Zr(t,0):rp|=n),pt(t,e)}function ev(t,e){e===0&&((t.mode&1)===0?e=1:(e=Dl,Dl<<=1,(Dl&130023424)===0&&(Dl=4194304)));var n=rt();t=Wn(t,e),t!==null&&(Ys(t,e,n),pt(t,n))}function US(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ev(t,n)}function WS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),ev(t,n)}var tv;tv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ct=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ct=!1,FS(t,e,n);ct=(t.flags&131072)!==0}else ct=!1,De&&(e.flags&1048576)!==0&&iy(e,da,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wl(t,e),t=e.pendingProps;var i=uo(e,Ge.current);to(e,n),i=Gd(null,e,r,t,i,n);var o=Xd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(o=!0,ca(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kd(e),i.updater=gu,e.stateNode=i,i._reactInternals=e,bf(e,r,t,n),e=Mf(null,e,r,!0,o,n)):(e.tag=0,De&&o&&_d(e),tt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qS(r),t=nn(r,t),i){case 0:e=Tf(null,e,r,t,n);break e;case 1:e=em(null,e,r,t,n);break e;case 11:e=Xh(null,e,r,t,n);break e;case 14:e=Zh(null,e,r,nn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),em(t,e,r,i,n);case 3:e:{if(zy(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ay(t,e),ma(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ho(Error(B(423)),e),e=tm(t,e,r,n,i);break e}else if(r!==i){i=ho(Error(B(424)),e),e=tm(t,e,r,n,i);break e}else for(xt=dr(e.stateNode.containerInfo.firstChild),At=e,De=!0,sn=null,n=dy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===i){e=Kn(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return py(e),t===null&&xf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Df(r,i)?s=null:o!==null&&Df(r,o)&&(e.flags|=32),Ly(t,e),tt(t,e,s,n),e.child;case 6:return t===null&&xf(e),null;case 13:return _y(t,e,n);case 4:return qd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Xh(t,e,r,i,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ge(pa,r._currentValue),r._currentValue=s,o!==null)if(pn(o.value,s)){if(o.children===i.children&&!ft.current){e=Kn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=jn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wf(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}tt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=qt(i),r=r(i),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,i=nn(r,e.pendingProps),i=nn(r.type,i),Zh(t,e,r,i,n);case 15:return By(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Wl(t,e),e.tag=1,dt(r)?(t=!0,ca(e)):t=!1,to(e,n),cy(e,r,i),bf(e,r,i,n),Mf(null,e,r,!0,t,n);case 19:return $y(t,e,n);case 22:return Ry(t,e,n)}throw Error(B(156,e.tag))};function nv(t,e){return O0(t,e)}function KS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,r){return new KS(t,e,n,r)}function ap(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qS(t){if(typeof t=="function")return ap(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bd)return 11;if(t===Od)return 14}return 2}function gr(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ap(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ni:return ei(n.children,i,o,e);case Ad:s=8,i|=8;break;case Yc:return t=Vt(12,n,e,i|2),t.elementType=Yc,t.lanes=o,t;case Gc:return t=Vt(13,n,e,i),t.elementType=Gc,t.lanes=o,t;case Xc:return t=Vt(19,n,e,i),t.elementType=Xc,t.lanes=o,t;case f0:return ku(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u0:s=10;break e;case c0:s=9;break e;case bd:s=11;break e;case Od:s=14;break e;case Zn:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Vt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ei(t,e,n,r){return t=Vt(7,t,r,e),t.lanes=n,t}function ku(t,e,n,r){return t=Vt(22,t,r,e),t.elementType=f0,t.lanes=n,t.stateNode={isHidden:!1},t}function hc(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function mc(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function up(t,e,n,r,i,o,s,l,a){return t=new JS(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(o),t}function QS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rv(t){if(!t)return Cr;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(dt(n))return ny(t,n,e)}return e}function iv(t,e,n,r,i,o,s,l,a){return t=up(n,r,!0,t,i,o,s,l,a),t.context=rv(null),n=t.current,r=rt(),i=mr(n),o=jn(r,i),o.callback=e!=null?e:null,pr(n,o,i),t.current.lanes=i,Ys(t,i,r),pt(t,r),t}function Su(t,e,n,r){var i=e.current,o=rt(),s=mr(i);return n=rv(n),e.context===null?e.context=n:e.pendingContext=n,e=jn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(i,e,s),t!==null&&(fn(t,i,s,o),jl(t,i,s)),s}function Ea(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cp(t,e){fm(t,e),(t=t.alternate)&&fm(t,e)}function YS(){return null}var ov=typeof reportError=="function"?reportError:function(t){console.error(t)};function fp(t){this._internalRoot=t}Cu.prototype.render=fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Su(t,e,null,null)};Cu.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Su(null,t,null,null)}),e[Un]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=B0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&L0(t)}};function dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dm(){}function GS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ea(s);o.call(u)}}var s=iv(e,r,t,0,null,!1,!1,"",dm);return t._reactRootContainer=s,t[Un]=s.current,Ns(t.nodeType===8?t.parentNode:t),di(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ea(a);l.call(u)}}var a=up(t,0,!1,null,null,!1,!1,"",dm);return t._reactRootContainer=a,t[Un]=a.current,Ns(t.nodeType===8?t.parentNode:t),di(function(){Su(e,a,n,r)}),a}function xu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ea(s);l.call(a)}}Su(e,s,t,i)}else s=GS(n,e,t,i,r);return Ea(s)}P0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yo(e.pendingLanes);n!==0&&(Nd(e,n|1),pt(e,we()),(ae&6)===0&&(mo=we()+500,Mr()))}break;case 13:di(function(){var r=Wn(t,1);if(r!==null){var i=rt();fn(r,t,1,i)}}),cp(t,1)}};Fd=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=rt();fn(e,t,134217728,n)}cp(t,134217728)}};I0=function(t){if(t.tag===13){var e=mr(t),n=Wn(t,e);if(n!==null){var r=rt();fn(n,t,e,r)}cp(t,e)}};B0=function(){return pe};R0=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};uf=function(t,e,n){switch(e){case"input":if(tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hu(r);if(!i)throw Error(B(90));p0(r),tf(r,i)}}}break;case"textarea":m0(t,n);break;case"select":e=n.value,e!=null&&Gi(t,!!n.multiple,e,!1)}};C0=op;E0=di;var XS={usingClientEntryPoint:!1,Events:[Xs,Bi,hu,k0,S0,op]},Vo={findFiberByHostInstance:qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZS={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A0(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||YS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{cu=Ml.inject(ZS),wn=Ml}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(e))throw Error(B(200));return QS(t,e,null,n)};Mt.createRoot=function(t,e){if(!dp(t))throw Error(B(299));var n=!1,r="",i=ov;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=up(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,Ns(t.nodeType===8?t.parentNode:t),new fp(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=A0(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return di(t)};Mt.hydrate=function(t,e,n){if(!Eu(e))throw Error(B(200));return xu(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!dp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ov;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=iv(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Un]=e.current,Ns(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cu(e)};Mt.render=function(t,e,n){if(!Eu(e))throw Error(B(200));return xu(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!Eu(t))throw Error(B(40));return t._reactRootContainer?(di(function(){xu(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Mt.unstable_batchedUpdates=op;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Eu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return xu(t,e,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";function sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sv)}catch(t){console.error(t)}}sv(),Cd.exports=Mt;var eC=Cd.exports,pm=Cd.exports;Jc.createRoot=pm.createRoot,Jc.hydrateRoot=pm.hydrateRoot;function ze(t){this.content=t}ze.prototype={constructor:ze,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new ze(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ze(n)},addToStart:function(t,e){return new ze([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ze(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new ze(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ze.from(t),t.size?new ze(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ze.from(t),t.size?new ze(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ze.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};ze.from=function(t){if(t instanceof ze)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ze(e)};function lv(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=lv(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function av(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=av(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class P{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(o+=l.text.slice(Math.max(e,a)-a,n-a),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new P(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new P(r,i)}cutByIndex(e,n){return e==n?P.empty:e==0&&n==this.content.length?this:new P(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new P(i,o)}addToStart(e){return new P([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new P(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return lv(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return av(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Nl(0,e);if(e==this.size)return Nl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Nl(r+1,s):Nl(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return P.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new P(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return P.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new P(n||e,r)}static from(e){if(!e)return P.empty;if(e instanceof P)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new P([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}P.empty=new P([],0);const gc={index:0,offset:0};function Nl(t,e){return gc.index=t,gc.offset=e,gc}function xa(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!xa(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!xa(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class de{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&xa(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return de.none;if(e instanceof de)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}de.none=[];class $s extends Error{}class z{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=cv(this.content,e+this.openStart,n);return r&&new z(r,this.openStart,this.openEnd)}removeBetween(e,n){return new z(uv(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return z.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new z(P.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new z(e,r,i)}}z.empty=new z(P.empty,0,0);function uv(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(uv(o.content,e-i-1,n-i-1)))}function cv(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=cv(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function tC(t,e,n){if(n.openStart>t.depth)throw new $s("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new $s("Inconsistent open depths");return fv(t,e,n,0)}function fv(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=fv(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return ni(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=nC(n,t);return ni(o,pv(t,s,l,e,r))}else return ni(o,wa(t,e,r))}function dv(t,e){if(!e.type.compatibleContent(t.type))throw new $s("Cannot join "+e.type.name+" onto "+t.type.name)}function jf(t,e,n){let r=t.node(n);return dv(r,e.node(n)),r}function ti(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function fs(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ti(t.nodeAfter,r),o++));for(let l=o;l<s;l++)ti(i.child(l),r);e&&e.depth==n&&e.textOffset&&ti(e.nodeBefore,r)}function ni(t,e){if(!t.type.validContent(e))throw new $s("Invalid content for node "+t.type.name);return t.copy(e)}function pv(t,e,n,r,i){let o=t.depth>i&&jf(t,e,i+1),s=r.depth>i&&jf(n,r,i+1),l=[];return fs(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(dv(o,s),ti(ni(o,pv(t,e,n,r,i+1)),l)):(o&&ti(ni(o,wa(t,e,i+1)),l),fs(e,n,i,l),s&&ti(ni(s,wa(n,r,i+1)),l)),fs(r,null,i,l),new P(l)}function wa(t,e,n){let r=[];if(fs(null,t,n,r),t.depth>n){let i=jf(t,e,n+1);ti(ni(i,wa(t,e,n+1)),r)}return fs(e,null,n,r),new P(r)}function nC(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(P.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Vs{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return de.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Aa(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Vs(n,r,o)}static resolveCached(e,n){for(let i=0;i<yc.length;i++){let o=yc[i];if(o.pos==n&&o.doc==e)return o}let r=yc[vc]=Vs.resolve(e,n);return vc=(vc+1)%rC,r}}let yc=[],vc=0,rC=12;class Aa{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const iC=Object.create(null);class bn{constructor(e,n,r,i=de.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||P.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&xa(this.attrs,n||e.defaultAttrs||iC)&&de.sameSet(this.marks,r||de.none)}copy(e=null){return e==this.content?this:new bn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new bn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return z.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new z(u,i.depth-s,o.depth-s)}replace(e,n,r){return tC(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Vs.resolveCached(this,e)}resolveNoCache(e){return Vs.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),hv(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=P.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=de.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!de.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=P.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}bn.prototype.text=void 0;class ba extends bn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ba(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ba(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function hv(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class pi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new oC(e,n);if(r.next==null)return pi.empty;let i=mv(r);r.next&&r.err("Unexpected trailing text");let o=dC(fC(i));return pC(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return P.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,l.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}pi.empty=new pi(!0);class oC{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function mv(t){let e=[];do e.push(sC(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sC(t){let e=[];do e.push(lC(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function lC(t){let e=cC(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=aC(t,e);else break;return e}function hm(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function aC(t,e){let n=hm(t),r=n;return t.eat(",")&&(t.next!="}"?r=hm(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function uC(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function cC(t){if(t.eat("(")){let e=mv(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=uC(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function fC(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function gv(t,e){return e-t}function mm(t,e){let n=[];return r(e),n.sort(gv);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function dC(t){let e=Object.create(null);return n(mm(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);mm(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new pi(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(gv);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function pC(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function yv(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function vv(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Dv(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new hC(t[n]);return e}class Oa{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Dv(r.attrs),this.defaultAttrs=yv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:vv(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new bn(this,this.computeAttrs(e),P.from(n),de.setFrom(r))}createChecked(e=null,n,r){if(n=P.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new bn(this,this.computeAttrs(e),n,de.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=P.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(P.empty,!0);return o?new bn(this,e,n.append(o),de.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:de.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Oa(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class hC{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class wu{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Dv(i.attrs),this.excluded=null;let o=yv(this.attrs);this.instance=o?new de(this,o):null}create(e=null){return!e&&this.instance?this.instance:new de(this,vv(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new wu(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class mC{constructor(e){this.cached=Object.create(null),this.spec={nodes:ze.from(e.nodes),marks:ze.from(e.marks||{}),topNode:e.topNode},this.nodes=Oa.compile(this.spec.nodes,this),this.marks=wu.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=pi.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=s=="_"?null:s?gm(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:gm(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Oa){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ba(r,r.defaultAttrs,e,de.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return bn.fromJSON(this,e)}markFromJSON(e){return de.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function gm(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class hi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new vm(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new vm(this,n,!0);return r.addAll(e,n.from,n.to),z.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(vC(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Dm(s)),s.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Dm(s)),s.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new hi(e,hi.schemaRules(e)))}}const kv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gC={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Sv={ol:!0,ul:!0},Ta=1,Ma=2,ds=4;function ym(t,e,n){return e!=null?(e?Ta:0)|(e==="full"?Ma:0):t&&t.whitespace=="pre"?Ta|Ma:n&~ds}class Fl{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=de.none,this.stashMarks=[],this.match=s||(l&ds?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(P.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ta)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=P.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(P.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):kC(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class vm{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=ym(null,n.preserveWhitespace,0)|(r?ds:0);i?o=new Fl(i.type,i.attrs,de.none,de.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Fl(null,null,de.none,de.none,!0,null,s):o=new Fl(e.schema.topNodeType,null,de.none,de.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(DC(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ma||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Ta)r.options&Ma?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;Sv.hasOwnProperty(r)&&this.parser.normalizeLists&&yC(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:gC.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(kv.hasOwnProperty(r))s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(l),this.needsBlock=a}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=de.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=ym(e,i,o.options);o.options&ds&&o.content.length==0&&(s|=ds),this.nodes.push(new Fl(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=SC(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function yC(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Sv.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function vC(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function DC(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Dm(t){let e={};for(let n in t)e[n]=t[n];return e}function kC(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function SC(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class jt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Dc(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=jt.renderSpec(Dc(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&jt.renderSpec(Dc(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:p}=jt.renderSpec(e,f,r);if(l.appendChild(d),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=km(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return km(e.marks)}}function km(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Dc(t){return t.document||window.document}const Cv=65535,Ev=Math.pow(2,16);function CC(t,e){return t+e*Ev}function Sm(t){return t&Cv}function EC(t){return(t-(t&Cv))/Ev}const xv=1,wv=2,Ql=4,Av=8;class Hf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Av)>0}get deletedBefore(){return(this.delInfo&(xv|Ql))>0}get deletedAfter(){return(this.delInfo&(wv|Ql))>0}get deletedAcross(){return(this.delInfo&Ql)>0}}class ln{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ln.empty)return ln.empty}recover(e){let n=0,r=Sm(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+EC(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,p=a+i+(d<0?0:c);if(r)return p;let h=e==(n<0?a:f)?null:CC(l/3,e-a),m=e==a?wv:e==f?xv:Ql;return(n<0?e!=a:e!=f)&&(m|=Av),new Hf(p,m,h)}i+=c-u}return r?e+i:new Hf(e+i,0,null)}touches(e,n){let r=0,i=Sm(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ln.empty:new ln(e<0?[0,-e,0]:[0,0,e])}}ln.empty=new ln([]);class ro{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ro(this.maps,this.mirror,e,n)}copy(){return new ro(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ro;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Hf(e,i,null)}}const kc=Object.create(null);class Nr{getMap(){return ln.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kc[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in kc)throw new RangeError("Duplicate use of step JSON ID "+e);return kc[e]=n,n.prototype.jsonID=e,n}}class wt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new wt(e,null)}static fail(e){return new wt(null,e)}static fromReplace(e,n,r,i){try{return wt.ok(e.replace(n,r,i))}catch(o){if(o instanceof $s)return wt.fail(o.message);throw o}}}function pp(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(pp(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return P.fromArray(r)}class ar extends Nr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new z(pp(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,o)}invert(){return new En(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ar(n.pos,r.pos,this.mark)}merge(e){return e instanceof ar&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ar(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ar(n.from,n.to,e.markFromJSON(n.mark))}}Nr.jsonID("addMark",ar);class En extends Nr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new z(pp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,r)}invert(){return new ar(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new En(n.pos,r.pos,this.mark)}merge(e){return e instanceof En&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new En(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new En(n.from,n.to,e.markFromJSON(n.mark))}}Nr.jsonID("removeMark",En);class Ye extends Nr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Uf(e,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ye(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ye(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ye)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?z.empty:new z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ye(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?z.empty:new z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ye(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ye(n.from,n.to,z.fromJSON(e,n.slice),!!n.structure)}}Nr.jsonID("replace",Ye);class Be extends Nr{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Uf(e,this.from,this.gapFrom)||Uf(e,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?wt.fromReplace(e,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Be(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Be(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Be(n.from,n.to,n.gapFrom,n.gapTo,z.fromJSON(e,n.slice),n.insert,!!n.structure)}}Nr.jsonID("replaceAround",Be);function Uf(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function xC(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(h)||(s&&s.to==d&&s.mark.eq(f[m])?s.to=p:i.push(s=new En(d,p,f[m])));l&&l.to==d?l.to=p:o.push(l=new ar(d,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function wC(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof wu){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new En(s.from,s.to,s.style)))}function AC(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=s+a.nodeSize,c=r.matchType(a.type);if(!c)o.push(new Ye(s,u,z.empty));else{r=c;for(let f=0;f<a.marks.length;f++)n.allowsMarkType(a.marks[f].type)||t.step(new En(s,u,a.marks[f]))}s=u}if(!r.validEnd){let l=r.fillBefore(P.empty,!0);t.replace(s,s,new z(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function bC(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function No(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!bC(i,o,s))break}return null}function OC(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=P.empty,f=0;for(let h=o,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,c=P.from(r.node(h).copy(c)),f++):a--;let d=P.empty,p=0;for(let h=o,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,d=P.from(i.node(h).copy(d)),p++):u++;t.step(new Be(a,u,s,l,new z(c.append(d),f,p),c.size-f,!0))}function hp(t,e,n=null,r=t){let i=TC(t,e),o=i&&MC(r,e);return o?i.map(Cm).concat({type:e,attrs:n}).concat(o.map(Cm)):null}function Cm(t){return{type:t,attrs:null}}function TC(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function MC(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function NC(t,e,n){let r=P.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=P.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Be(i,o,i,o,new z(r,0,0),n.length,!0))}function FC(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&PC(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new Be(u,c,u+1,c-1,new z(P.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function PC(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function IC(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Be(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new z(P.from(s),0,0),1,!0))}function io(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c]||f;if(h!=f&&(p=p.replaceChild(0,h.type.create(h.attrs))),!f.canReplace(d+1,f.childCount)||!h.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function BC(t,e,n=1,r){let i=t.doc.resolve(e),o=P.empty,s=P.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=P.from(i.node(l).copy(o));let c=r&&r[u];s=P.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Ye(e,e,new z(o.append(s),n,n),!0))}function el(t,e){let n=t.resolve(e),r=n.index();return RC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function RC(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function LC(t,e,n){let r=new Ye(e-n,e+n,z.empty,!0);t.step(r)}function zC(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function mp(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function gp(t,e,n=e,r=z.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return bv(i,o,r)?new Ye(e,n,r):new _C(i,o,r).fit()}function bv(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class _C{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=P.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=P.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new z(o,s,l);return e>-1?new Be(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Ye(r.pos,i.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=Sc(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:a}=this.frontier[s],u,c=null;if(e==1&&(o?a.matchType(o.type)||(c=a.fillBefore(P.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:c};if(e==2&&o&&(u=a.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:u};if(i&&a.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Sc(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new z(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Sc(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new z(Xo(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new z(Xo(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let m=l.child(u),k=f.matchType(m.type);if(!k)break;u++,(u>1||a==0||m.content.size)&&(f=k,c.push(Ov(m.mark(d.allowedMarks(m.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=Zo(this.placed,n,P.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,k=l;m<p;m++){let g=k.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),k=g.content}this.unplaced=h?e==0?z.empty:new z(Xo(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new z(Xo(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Cc(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Cc(e,n,i,r,o);if(!!s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=Cc(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Zo(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Zo(this.placed,this.depth,P.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(P.empty,!0);n.childCount&&(this.placed=Zo(this.placed,this.frontier.length,n))}}function Xo(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Xo(t.firstChild.content,e-1,n)))}function Zo(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Zo(t.lastChild.content,e-1,n)))}function Sc(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Ov(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Ov(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(P.empty,!0)))),t.copy(r)}function Cc(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!$C(n,o.content,s)?l:null}function $C(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function VC(t){return t.spec.defining||t.spec.definingForContent}function jC(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(bv(i,o,r))return t.step(new Ye(e,n,r));let s=Mv(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(d)>-1?l=d:i.before(d)==p&&s.splice(1,0,-d)}let a=s.indexOf(l),u=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d].type,h=VC(p);if(h&&i.node(a).type!=p)c=d;else if(h||!p.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=u[p];if(!!h)for(let m=0;m<s.length;m++){let k=s[(m+a)%s.length],g=!0;k<0&&(g=!1,k=-k);let v=i.node(k-1),D=i.index(k-1);if(v.canReplaceWith(D,D,h.type,h.marks))return t.replace(i.before(k),g?o.after(k):n,new z(Tv(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=s[d];p<0||(e=i.before(p),n=o.after(p))}}function Tv(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Tv(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(P.empty,!0))}return t}function HC(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=zC(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new z(P.from(r),0,0))}function UC(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Mv(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Mv(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let go=class extends Error{};go=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};go.prototype=Object.create(Error.prototype);go.prototype.constructor=go;go.prototype.name="TransformError";class Nv{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ro}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new go(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=z.empty){let i=gp(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new z(P.from(r),0,0))}delete(e,n){return this.replace(e,n,z.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return jC(this,e,n,r),this}replaceRangeWith(e,n,r){return HC(this,e,n,r),this}deleteRange(e,n){return UC(this,e,n),this}lift(e,n){return OC(this,e,n),this}join(e,n=1){return LC(this,e,n),this}wrap(e,n){return NC(this,e,n),this}setBlockType(e,n=e,r,i=null){return FC(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return IC(this,e,n,r,i),this}split(e,n=1,r){return BC(this,e,n,r),this}addMark(e,n,r){return xC(this,e,n,r),this}removeMark(e,n,r){return wC(this,e,n,r),this}clearIncompatible(e,n,r){return AC(this,e,n,r),this}}const Ec=Object.create(null);class X{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new WC(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=z.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?z.empty:n),l==0&&wm(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),wm(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Q(e):Ai(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Ai(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Ai(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wt(e.node(0))}static atStart(e){return Ai(e,e,0,0,1)||new Wt(e)}static atEnd(e){return Ai(e,e,e.content.size,e.childCount,-1)||new Wt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ec[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ec)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ec[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Q.between(this.$anchor,this.$head).getBookmark()}}X.prototype.visible=!0;class WC{constructor(e,n){this.$from=e,this.$to=n}}let Em=!1;function xm(t){!Em&&!t.parent.inlineContent&&(Em=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Q extends X{constructor(e,n=e){xm(e),xm(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return X.near(r);let i=e.resolve(n.map(this.anchor));return new Q(i.parent.inlineContent?i:r,r)}replace(e,n=z.empty){if(super.replace(e,n),n==z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Q&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Au(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Q(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=X.findFrom(n,r,!0)||X.findFrom(n,-r,!0);if(o)n=o.$head;else return X.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(X.findFrom(e,-r,!0)||X.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Q(e,n)}}X.jsonID("text",Q);class Au{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Au(e.map(this.anchor),e.map(this.head))}resolve(e){return Q.between(e.resolve(this.anchor),e.resolve(this.head))}}class $ extends X{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?X.near(o):new $(o)}content(){return new z(P.from(this.node),0,0)}eq(e){return e instanceof $&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new yp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new $(e.resolve(n.anchor))}static create(e,n){return new $(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}$.prototype.visible=!1;X.jsonID("node",$);class yp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Au(r,r):new yp(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&$.isSelectable(r)?new $(n):X.near(n)}}class Wt extends X{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=z.empty){if(n==z.empty){e.delete(0,e.doc.content.size);let r=X.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wt(e)}map(e){return new Wt(e)}eq(e){return e instanceof Wt}getBookmark(){return KC}}X.jsonID("all",Wt);const KC={map(){return this},resolve(t){return new Wt(t)}};function Ai(t,e,n,r,i,o=!1){if(e.inlineContent)return Q.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&$.isSelectable(l))return $.create(t,n-(i<0?l.nodeSize:0))}else{let a=Ai(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function wm(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ye||i instanceof Be))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(X.near(t.doc.resolve(s),n))}const Am=1,Pl=2,bm=4;class qC extends Nv{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Am)&~Pl,this.storedMarks=null,this}get selectionSet(){return(this.updated&Am)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Pl,this}ensureMarks(e){return de.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Pl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||de.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(X.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=bm,this}get scrolledIntoView(){return(this.updated&bm)>0}}function Om(t,e){return!e||!t?t:t.bind(e)}class es{constructor(e,n,r){this.name=e,this.init=Om(n.init,r),this.apply=Om(n.apply,r)}}const JC=[new es("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new es("selection",{init(t,e){return t.selection||X.atStart(e.doc)},apply(t){return t.selection}}),new es("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new es("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class xc{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=JC.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new es(r.key,r.spec.state,r))})}}class ji{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ji(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new qC(this)}static create(e){let n=new xc(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ji(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new xc(this.schema,e.plugins),r=n.fields,i=new ji(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new xc(e.schema,e.plugins),o=new ji(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=bn.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=X.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Fv(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Fv(i,e,{})),n[r]=i}return n}class Xe{constructor(e){this.spec=e,this.props={},e.props&&Fv(e.props,this,this.props),this.key=e.key?e.key.key:Pv("plugin")}getState(e){return e[this.key]}}const wc=Object.create(null);function Pv(t){return t in wc?t+"$"+ ++wc[t]:(wc[t]=0,t+"$")}class Xt{constructor(e="key"){this.key=Pv(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Er=typeof navigator!="undefined"?navigator:null,Tm=typeof document!="undefined"?document:null,Fr=Er&&Er.userAgent||"",Wf=/Edge\/(\d+)/.exec(Fr),Iv=/MSIE \d/.exec(Fr),Kf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fr),bt=!!(Iv||Kf||Wf),yr=Iv?document.documentMode:Kf?+Kf[1]:Wf?+Wf[1]:0,Tn=!bt&&/gecko\/(\d+)/i.test(Fr);Tn&&+(/Firefox\/(\d+)/.exec(Fr)||[0,0])[1];const qf=!bt&&/Chrome\/(\d+)/.exec(Fr),nt=!!qf,QC=qf?+qf[1]:0,gt=!bt&&!!Er&&/Apple Computer/.test(Er.vendor),yo=gt&&(/Mobile\/\w+/.test(Fr)||!!Er&&Er.maxTouchPoints>2),Lt=yo||(Er?/Mac/.test(Er.platform):!1),Sn=/Android \d/.test(Fr),bu=!!Tm&&"webkitFontSmoothing"in Tm.documentElement.style,YC=bu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Et=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},vp=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Mm=null;const Bn=function(t,e,n){let r=Mm||(Mm=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},js=function(t,e,n,r){return n&&(Nm(t,e,n,r,-1)||Nm(t,e,n,r,1))},GC=/^(img|br|input|textarea|hr)$/i;function Nm(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Cn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||ZC(t)||GC.test(t.nodeName)||t.contentEditable=="false")return!1;e=Et(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Cn(t):0}else return!1}}function Cn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function XC(t,e,n){for(let r=e==0,i=e==Cn(t);r||i;){if(t==n)return!0;let o=Et(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Cn(t)}}function ZC(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Dp=function(t){let e=t.isCollapsed;return e&&nt&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Hi(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function eE(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yn(t,e){return typeof t=="number"?t:t[e]}function tE(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Fm(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=vp(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?eE(o):tE(l),c=0,f=0;if(e.top<u.top+Yn(r,"top")?f=-(u.top-e.top+Yn(i,"top")):e.bottom>u.bottom-Yn(r,"bottom")&&(f=e.bottom-u.bottom+Yn(i,"bottom")),e.left<u.left+Yn(r,"left")?c=-(u.left-e.left+Yn(i,"left")):e.right>u.right-Yn(r,"right")&&(c=e.right-u.right+Yn(i,"right")),c||f)if(a)o.defaultView.scrollBy(c,f);else{let d=l.scrollLeft,p=l.scrollTop;f&&(l.scrollTop+=f),c&&(l.scrollLeft+=c);let h=l.scrollLeft-d,m=l.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(a)break}}function nE(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Bv(t.dom)}}function Bv(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=vp(r));return e}function rE({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Rv(n,r==0?0:r-e)}function Rv(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let wi=null;function iE(t){if(t.setActive)return t.setActive();if(wi)return t.focus(wi);let e=Bv(t);t.focus(wi==null?{get preventScroll(){return wi={preventScroll:!0},!0}}:void 0),wi||(wi=!1,Rv(e,0))}function Lv(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top;for(let a=t.firstChild,u=0;a;a=a.nextSibling,u++){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Bn(a).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=s&&d.bottom>=l){s=Math.max(d.bottom,s),l=Math.min(d.top,l);let p=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(p<r){n=a,r=p,i=p&&n.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,a.nodeType==1&&p&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return n&&n.nodeType==3?oE(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Lv(n,i)}function oE(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Gn(r,1);if(o.top!=o.bottom&&kp(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function kp(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function sE(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function lE(t,e,n){let{node:r,offset:i}=Lv(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function aE(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let l=s.dom.getBoundingClientRect();if(l.left>r.left||l.top>r.top)i=s.posBefore;else if(l.right<r.left||l.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function zv(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(kp(e,u))return zv(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function uE(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let a=n.caretPositionFromPoint(e.left,e.top);a&&({offsetNode:r,offset:i}=a)}catch{}if(!r&&n.caretRangeFromPoint){let a=n.caretRangeFromPoint(e.left,e.top);a&&({startContainer:r,startOffset:i}=a)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top+1),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let a=t.dom.getBoundingClientRect();if(!kp(e,a)||(o=zv(t.dom,e,a),!o))return null}if(gt)for(let a=o;r&&a;a=vp(a))a.draggable&&(r=void 0);if(o=sE(o,e),r){if(Tn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let a=r.childNodes[i],u;a.nodeName=="IMG"&&(u=a.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=aE(t,r,i,e))}s==null&&(s=lE(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Gn(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const cE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _v(t,e,n){let{node:r,offset:i}=t.docView.domFromPos(e,n<0?-1:1),o=bu||Tn;if(r.nodeType==3)if(o&&(cE.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let s=Gn(Bn(r,i,i),n);if(Tn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=Gn(Bn(r,i-1,i-1),-1);if(l.top==s.top){let a=Gn(Bn(r,i,i+1),-1);if(a.top!=s.top)return jo(a,a.left<l.left)}}return s}else{let s=i,l=i,a=n<0?1:-1;return n<0&&!i?(l++,a=-1):n>=0&&i==r.nodeValue.length?(s--,a=1):n<0?s--:l++,jo(Gn(Bn(r,s,l),a),a<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==Cn(r))){let s=r.childNodes[i-1];if(s.nodeType==1)return Ac(s.getBoundingClientRect(),!1)}if(i<Cn(r)){let s=r.childNodes[i];if(s.nodeType==1)return Ac(s.getBoundingClientRect(),!0)}return Ac(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==Cn(r))){let s=r.childNodes[i-1],l=s.nodeType==3?Bn(s,Cn(s)-(o?0:1)):s.nodeType==1&&(s.nodeName!="BR"||!s.nextSibling)?s:null;if(l)return jo(Gn(l,1),!1)}if(i<Cn(r)){let s=r.childNodes[i];for(;s.pmViewDesc&&s.pmViewDesc.ignoreForCoords;)s=s.nextSibling;let l=s?s.nodeType==3?Bn(s,0,o?0:1):s.nodeType==1?s:null:null;if(l)return jo(Gn(l,-1),!0)}return jo(Gn(r.nodeType==3?Bn(r):r,-n),n>=0)}function jo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ac(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function $v(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function fE(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return $v(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.dom;break}o=l.dom.parentNode}let s=_v(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Bn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const dE=/[\u0590-\u08ac]/;function pE(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!dE.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:$v(t,e,()=>{let a=l.getRangeAt(0),u=l.focusNode,c=l.focusOffset,f=l.caretBidiLevel;l.modify("move",n,"character");let p=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||u==l.focusNode&&c==l.focusOffset;return l.removeAllRanges(),l.addRange(a),f!=null&&(l.caretBidiLevel=f),p})}let Pm=null,Im=null,Bm=!1;function hE(t,e,n){return Pm==e&&Im==n?Bm:(Pm=e,Im=n,Bm=n=="up"||n=="down"?fE(t,e,n):pE(t,e,n))}const dn=0,Rm=1,Ui=2,Mn=3;class tl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=dn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Et(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof jv){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Vv&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Et(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Et(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let f=l;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Et(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Et(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],m=p+h.size;if(o>p&&s<m)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=m}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((Tn||gt)&&e==n){let{node:d,offset:p}=l;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(l=a={node:m.parentNode,offset:Et(m)+1});break}let k=h.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(Tn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&gt)&&js(l.node,l.offset,u.anchorNode,u.anchorOffset)&&js(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch(d){if(!(d instanceof DOMException))throw d}}if(!f){if(e>n){let p=l;l=a,a=p}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?Ui:Rm,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Mn:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ui:Mn}r=s}this.dirty=Ui}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ui:Rm;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Vv extends tl{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==dn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class mE extends tl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class mi extends tl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=jt.renderSpec(document,n.type.spec.toDOM(n,r))),new mi(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Mn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Mn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=dn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=dn}}slice(e,n,r){let i=mi.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Yf(o,n,s,r)),e>0&&(o=Yf(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class gi extends tl{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(a,u)}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=jt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Wv(c,r,n),u?a=new gE(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new Ou(e,n,r,i,c,d,o):new gi(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>P.empty)}return e}matchesNode(e,n,r){return this.dirty==dn&&e.eq(this.node)&&Qf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new vE(this,s&&s.node);SE(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?de.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,f,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,f,p,e)||a.updateNextNode(u,c,f,e,d)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Ui)&&(s&&this.protectLocalComposition(e,s),Hv(this.contentDOM,this.children,e),yo&&CE(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Q)||r<n||i>n+this.node.content.size)return null;let o=e.domSelection(),s=EE(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=xE(this.node.content,l,r-n,i-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new mE(this,o,n,i);e.input.compositionNodes.push(s),this.children=Yf(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Mn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=dn}updateOuterDeco(e){if(Qf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Uv(this.dom,this.nodeDOM,Jf(this.outerDeco,this.node,n),Jf(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Lm(t,e,n,r,i){return Wv(r,e,t),new gi(void 0,t,e,n,r,r,r,i,0)}class Ou extends gi{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Mn||this.dirty!=dn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=dn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=dn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Ou(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Mn)}get domAtom(){return!1}}class jv extends tl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==dn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gE extends gi{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Mn)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Hv(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=zm(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof mi){let a=r?r.previousSibling:t.lastChild;Hv(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=zm(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const ps=function(t){t&&(this.nodeName=t)};ps.prototype=Object.create(null);const Yr=[new ps];function Jf(t,e,n){if(t.length==0)return Yr;let r=n?Yr[0]:new ps,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new ps(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new ps(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function Uv(t,e,n,r){if(n==Yr&&r==Yr)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Yr[0]),i=a}yE(i,l||Yr[0],s)}return i}function yE(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Wv(t,e,n){return Uv(t,t,Yr,Jf(e,n,t.nodeType!=1))}function Qf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function zm(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class vE{constructor(e,n){this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=DE(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=dn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[o])){l=a;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=mi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Mn&&s.dom==s.contentDOM&&(s.dirty=Ui),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof gi){let a=this.preMatch.matched.get(l);if(a!=null&&a!=o)return!1;let u=l.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Mn&&Qf(n,l.outerDeco)))&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,gi.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Vv(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof mi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Ou)||/\n$/.test(e.node.text))&&((gt||nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new jv(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function DE(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof mi)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(!!a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function kE(t,e){return t.type.side-e.type.side}function SE(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){if(s<i.length&&i[s].to==o){let h=i[s++],m;for(;s<i.length&&i[s].to==o;)(m||(m=[h])).push(i[s++]);if(m){m.sort(kE);for(let k=0;k<m.length;k++)n(m[k],u,!!a)}else n(h,u,!!a)}let c,f;if(a)f=-1,c=a,a=null;else if(u<t.childCount)f=u,c=t.child(u++);else break;for(let h=0;h<l.length;h++)l[h].to<=o&&l.splice(h--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let d=o+c.nodeSize;if(c.isText){let h=d;s<i.length&&i[s].from<h&&(h=i[s].from);for(let m=0;m<l.length;m++)l[m].to<h&&(h=l[m].to);h<d&&(a=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}let p=c.isInline&&!c.isLeaf?l.filter(h=>!h.inline):l.slice();r(c,p,e.forChild(o,c),f),o=d}}function CE(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function EE(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Cn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function xE(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Yf(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Kv(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(Dp(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&$.isSelectable(c)&&i.parent&&!(c.isInline&&XC(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new $(s==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=Sp(t,a,l,c)}return u}function qv(t){return t.editable?t.hasFocus():Qv(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xr(t,e=!1){let n=t.state.selection;if(Jv(t,n),!!qv(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&nt){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&js(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)AE(t);else{let{anchor:r,head:i}=n,o,s;_m&&!(n instanceof Q)&&(n.$from.parent.inlineContent||(o=$m(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=$m(t,n.to))),t.docView.setSelection(r,i,t.root,e),_m&&(o&&Vm(o),s&&Vm(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wE(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _m=gt||nt&&QC<63;function $m(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(gt&&i&&i.contentEditable=="false")return bc(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return bc(i);if(o)return bc(o)}}function bc(t){return t.contentEditable="true",gt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Vm(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function wE(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!qv(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function AE(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Et(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&bt&&yr<=11&&(r.disabled=!0,r.disabled=!1)}function Jv(t,e){if(e instanceof $){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(jm(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else jm(t)}function jm(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Sp(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Q.between(e,n,r)}function Hm(t){return t.editable&&t.root.activeElement!=t.dom?!1:Qv(t)}function Qv(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function bE(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return js(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Gf(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&X.findFrom(o,e)}function Hr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Um(t,e,n){let r=t.state.selection;if(r instanceof Q){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Gf(t.state,e);return i&&i instanceof $?Hr(t,i):!1}else if(!(Lt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?$.isSelectable(o)?Hr(t,new $(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):bu?Hr(t,new Q(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof $&&r.node.isInline)return Hr(t,new Q(e>0?r.$to:r.$from));{let i=Gf(t.state,e);return i?Hr(t,i):!1}}}function Na(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function hs(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Oc(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Tn&&n.nodeType==1&&r<Na(n)&&hs(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(hs(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Yv(n))break;{let l=n.previousSibling;for(;l&&hs(l);)i=n.parentNode,o=Et(l),l=l.previousSibling;if(l)n=l,r=Na(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Xf(t,e,n,r):i&&Xf(t,e,i,o)}function Tc(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Na(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(hs(l))o=n,s=++r;else break}else{if(Yv(n))break;{let l=n.nextSibling;for(;l&&hs(l);)o=l.parentNode,s=Et(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Na(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Xf(t,e,o,s)}function Yv(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Xf(t,e,n,r){if(Dp(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xr(t)},50)}function Wm(t,e,n){let r=t.state.selection;if(r instanceof Q&&!r.empty||n.indexOf("s")>-1||Lt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Gf(t.state,e);if(s&&s instanceof $)return Hr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Wt?X.near(s,e):X.findFrom(s,e);return l?Hr(t,l):!1}return!1}function Km(t,e){if(!(t.state.selection instanceof Q))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function qm(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function OE(t){if(!gt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;qm(t,r,"true"),setTimeout(()=>qm(t,r,"false"),20)}return!1}function TE(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ME(t,e){let n=e.keyCode,r=TE(e);return n==8||Lt&&n==72&&r=="c"?Km(t,-1)||Oc(t):n==46||Lt&&n==68&&r=="c"?Km(t,1)||Tc(t):n==13||n==27?!0:n==37||Lt&&n==66&&r=="c"?Um(t,-1,r)||Oc(t):n==39||Lt&&n==70&&r=="c"?Um(t,1,r)||Tc(t):n==38||Lt&&n==80&&r=="c"?Wm(t,-1,r)||Oc(t):n==40||Lt&&n==78&&r=="c"?OE(t)||Wm(t,1,r)||Tc(t):r==(Lt?"m":"c")&&(n==66||n==73||n==89||n==90)}function Gv(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||jt.fromSchema(t.state.schema),l=r1(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=n1[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function Xv(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r)}),o)return e?new z(P.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):z.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r));if(f)l=f;else{let d=i.marks(),{schema:p}=t.state,h=jt.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let k=s.appendChild(document.createElement("p"));m&&k.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n)}),s=PE(n),bu&&IE(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0&&s.firstChild;f--)s=s.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||hi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!NE.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=BE(Jm(l,+c[1],+c[2]),c[4]);else if(l=z.maxOpen(FE(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let p=l.content.firstChild;f<l.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=Jm(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l)}),l}const NE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function FE(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&e1(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=t1(s[s.length-1],o.length));let c=Zv(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return P.from(s)}return t}function Zv(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,P.from(t));return t}function e1(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=e1(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(P.from(Zv(n,t,i+1))))}}function t1(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,t1(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(P.empty,!0);return t.copy(n.append(r))}function Zf(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=Zf(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(P.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Jm(t,e,n){return e<t.openStart&&(t=new z(Zf(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new z(Zf(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const n1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Qm=null;function r1(){return Qm||(Qm=document.implementation.createHTMLDocument("title"))}function PE(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=r1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&n1[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function IE(t){let e=t.querySelectorAll(nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function BE(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=P.from(a.create(r[l+1],i)),o++,s++}return new z(i,o,s)}const yt={};let it={};class RE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function LE(t){for(let e in yt){let n=yt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{_E(t,r)&&!Cp(t,r)&&(t.editable||!(r.type in it))&&n(t,r)})}gt&&t.dom.addEventListener("input",()=>null),ed(t)}function Gr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function zE(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ed(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Cp(t,r))})}function Cp(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function _E(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function $E(t,e){!Cp(t,e)&&yt[e.type]&&(t.editable||!(e.type in it))&&yt[e.type](t,e)}it.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!o1(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Sn&&nt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),yo&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Hi(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||ME(t,n)?n.preventDefault():Gr(t,"key")};it.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};it.keypress=(t,e)=>{let n=e;if(o1(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Lt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Q)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Tu(t){return{left:t.clientX,top:t.clientY}}function VE(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ep(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function oo(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function jE(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&$.isSelectable(r)?(oo(t,new $(n),"pointer"),!0):!1}function HE(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof $&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if($.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(oo(t,$.create(t.state.doc,i),"pointer"),!0):!1}function UE(t,e,n,r,i){return Ep(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?HE(t,n):jE(t,n))}function WE(t,e,n,r){return Ep(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function KE(t,e,n,r){return Ep(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||qE(t,n,r)}function qE(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(oo(t,Q.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)oo(t,Q.create(r,l+1,l+1+s.content.size),"pointer");else if($.isSelectable(s))oo(t,$.create(r,l),"pointer");else continue;return!0}}function xp(t){return Fa(t)}const i1=Lt?"metaKey":"ctrlKey";yt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=xp(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&VE(n,t.input.lastClick)&&!n[i1]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Tu(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new JE(t,s,n,!!r)):(o=="doubleClick"?WE:KE)(t,s.pos,s.inside,n)?n.preventDefault():Gr(t,"pointer"))};class JE{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[i1],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof $&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Tn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Tu(e))),this.allowDefault||!n?Gr(this.view,"pointer"):UE(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||gt&&this.mightDrag&&!this.mightDrag.node.isAtom||nt&&!(this.view.state.selection instanceof Q)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(oo(this.view,X.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Gr(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Gr(this.view,"pointer"),e.buttons==0&&this.done()}}yt.touchdown=t=>{xp(t),Gr(t,"pointer")};yt.contextmenu=t=>xp(t);function o1(t,e){return t.composing?!0:gt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const QE=Sn?5e3:-1;it.compositionstart=it.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Fa(t,!0),t.markCursor=null;else if(Fa(t),Tn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}s1(t,QE)};it.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,s1(t,20))};function s1(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Fa(t),e))}function l1(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=YE());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function YE(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Fa(t,e=!1){if(!(Sn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),l1(t),e||t.docView&&t.docView.dirty){let n=Kv(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function GE(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const vo=bt&&yr<15||yo&&YC<604;yt.copy=it.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=vo?null:n.clipboardData,s=r.content(),{dom:l,text:a}=Gv(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):GE(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function XE(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ZE(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?td(t,r.value,null,e):td(t,r.textContent,r.innerHTML,e)},50)}function td(t,e,n,r){let i=Xv(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||z.empty)))return!0;if(!i)return!1;let o=XE(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}it.paste=(t,e)=>{let n=e;if(t.composing&&!Sn)return;let r=vo?null:n.clipboardData;r&&td(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():ZE(t,n)};class ex{constructor(e,n){this.slice=e,this.move=n}}const a1=Lt?"altKey":"ctrlKey";yt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Tu(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof $?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection($.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection($.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:a}=Gv(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(vo?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",vo||n.dataTransfer.setData("text/plain",a),t.dragging=new ex(s,!n[a1])};yt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};it.dragover=it.dragenter=(t,e)=>e.preventDefault();it.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Tu(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s)}):s=Xv(t,n.dataTransfer.getData(vo?"Text":"text/plain"),vo?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[a1]);if(t.someProp("handleDrop",h=>h(t,n,s||z.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?mp(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&$.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new $(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((m,k,g,v)=>h=v),u.setSelection(Sp(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};yt.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&xr(t)},20))};yt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yt.beforeinput=(t,e)=>{if(nt&&Sn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Hi(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in it)yt[t]=it[t];function Hs(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class wp{constructor(e,n){this.toDOM=e,this.spec=n||ri,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Ht(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof wp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vr{constructor(e,n){this.attrs=e,this.spec=n||ri}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Ht(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof vr&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)}static is(e){return e.type instanceof vr}destroy(){}}class Ap{constructor(e,n){this.attrs=e,this.spec=n||ri}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Ht(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Ap&&Hs(this.attrs,e.attrs)&&Hs(this.spec,e.spec)}destroy(){}}class Ht{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Ht(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Ht(e,e,new wp(n,r))}static inline(e,n,r,i){return new Ht(e,n,new vr(r,i))}static node(e,n,r,i){return new Ht(e,n,new Ap(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof vr}}const bi=[],ri={};class _e{constructor(e,n){this.local=e.length?e:bi,this.children=n.length?n:bi}static create(e,n){return n.length?Pa(n,e,0,ri):qe}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==qe||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ri)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?tx(this.children,s||[],e,n,r,i,o):s?new _e(s.sort(ii),bi):qe}add(e,n){return n.length?this==qe?_e.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(!!(c=c1(n,l,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Pa(c,l,u+1,ri)),o+=3}});let s=u1(o?f1(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new _e(s.length?this.local.concat(s).sort(ii):this.local,i||this.children)}remove(e){return e.length==0||this==qe?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=qe?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new _e(i,r):qe}forChild(e,n){if(this==qe)return this;if(n.isLeaf)return _e.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof vr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new _e(i.sort(ii),bi);return r?new or([l,r]):l}return r||qe}eq(e){if(this==e)return!0;if(!(e instanceof _e)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return bp(this.localsInner(e))}localsInner(e){if(this==qe)return bi;if(e.inlineContent||!this.local.some(vr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof vr||n.push(this.local[r]);return n}}_e.empty=new _e([],[]);_e.removeOverlap=bp;const qe=_e.empty;class or{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ri));return or.from(r)}forChild(e,n){if(n.isLeaf)return _e.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=qe&&(o instanceof or?r=r.concat(o.members):r.push(o))}return or.from(r)}eq(e){if(!(e instanceof or)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?bp(r?n:n.sort(ii)):bi}static from(e){switch(e.length){case 0:return qe;case 1:return e[0];default:return new or(e)}}}function tx(t,e,n,r,i,o,s){let l=t.slice(),a=(c,f,d,p)=>{for(let h=0;h<l.length;h+=3){let m=l[h+1],k;if(m<0||c>m+o)continue;let g=l[h]+o;f>=g?l[h+1]=c<=g?-2:-1:d>=i&&(k=p-d-(f-c))&&(l[h]+=k,l[h+1]+=k)}};for(let c=0;c<n.maps.length;c++)n.maps[c].forEach(a);let u=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){u=!0,l[c+1]=-1;continue}let f=n.map(t[c]+o),d=f-i;if(d<0||d>=r.content.size){u=!0;continue}let p=n.map(t[c+1]+o,-1),h=p-i,{index:m,offset:k}=r.content.findIndex(d),g=r.maybeChild(m);if(g&&k==d&&k+g.nodeSize==h){let v=l[c+2].mapInner(n,g,f+1,t[c]+o+1,s);v!=qe?(l[c]=d,l[c+1]=h,l[c+2]=v):(l[c+1]=-2,u=!0)}else u=!0}if(u){let c=nx(l,t,e,n,i,o,s),f=Pa(c,r,0,s);e=f.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let h=f.children[d];for(;p<l.length&&l[p]<h;)p+=3;l.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new _e(e.sort(ii),l)}function u1(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Ht(i.from+e,i.to+e,i.type))}return n}function nx(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function c1(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function f1(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Pa(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=c1(t,l,a+n);if(u){o=!0;let c=Pa(u,l,n+a+1,r);c!=qe&&i.push(a,a+l.nodeSize,c)}});let s=u1(o?f1(t):t,-n).sort(ii);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new _e(s,i):qe}function ii(t,e){return t.from-e.from||t.to-e.to}function bp(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Ym(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Ym(e,i,r.copy(o.from,r.to)));break}}}return e}function Ym(t,e,n){for(;e<t.length&&ii(n,t[e])>0;)e++;t.splice(e,0,n)}function Mc(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=qe&&e.push(r)}),t.cursorWrapper&&e.push(_e.create(t.state.doc,[t.cursorWrapper.deco])),or.from(e)}const rx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ix=bt&&yr<=11;class ox{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class sx{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ox,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);bt&&yr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ix&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,rx),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Hm(this.view)){if(this.suppressingSelectionUpdates)return xr(this.view);if(bt&&yr<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&js(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(e.rangeCount==0)return!0;let n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Hm(this.view)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,l=[];if(this.view.editable)for(let a=0;a<e.length;a++){let u=this.registerMutation(e[a],l);u&&(i=i<0?u.from:Math.min(u.from,i),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(s=!0))}if(Tn&&l.length>1){let a=l.filter(u=>u.nodeName=="BR");if(a.length==2){let u=a[0],c=a[1];u.parentNode&&u.parentNode.parentNode==c.parentNode?c.remove():u.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),lx(this.view)),this.handleDOMChange(i,o,s,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||xr(this.view),this.currentSelection.set(n))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(bt&&yr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?Et(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?Et(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Gm=!1;function lx(t){Gm||(Gm=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function ax(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelection(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Dp(a)||u.push({node:a.focusNode,offset:a.focusOffset})),nt&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let g=r.childNodes[k-1],v=g.pmViewDesc;if(g.nodeName=="BR"&&!v){o=k;break}if(!v||v.size)break}let f=t.state.doc,d=t.someProp("domParser")||hi.fromSchema(t.state.schema),p=f.resolve(s),h=null,m=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:ux,context:p});if(u&&u[0].pos!=null){let k=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=k),h={anchor:k+s,head:g+s}}return{doc:m,sel:h,from:s,to:l}}function ux(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(gt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||gt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function cx(t,e,n,r,i){if(e<0){let C=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=Kv(t,C);if(_&&!t.state.selection.eq(_)){let L=t.state.tr.setSelection(_);C=="pointer"?L.setMeta("pointer",!0):C=="key"&&L.scrollIntoView(),t.dispatch(L)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,a=ax(t,e,n);if(nt&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from){let C=t.cursorWrapper.deco.type.toDOM.nextSibling,_=C&&C.nodeValue?C.nodeValue.length:1;a.sel={anchor:a.sel.anchor+_,head:a.sel.anchor+_}}let u=t.state.doc,c=u.slice(a.from,a.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let p=px(c.content,a.doc.content,a.from,f,d);if((yo&&t.input.lastIOSEnter>Date.now()-225||Sn)&&i.some(C=>C.nodeName=="DIV"||C.nodeName=="P")&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",C=>C(t,Hi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Q&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(a.sel){let C=Xm(t,t.state.doc,a.sel);C&&!C.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(C))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Q&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),bt&&yr<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>a.from&&a.doc.textBetween(p.start-a.from-1,p.start-a.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let h=a.doc.resolveNoCache(p.start-a.from),m=a.doc.resolveNoCache(p.endB-a.from),k=u.resolve(p.start),g=h.sameParent(m)&&h.parent.inlineContent&&k.end()>=p.endA,v;if((yo&&t.input.lastIOSEnter>Date.now()-225&&(!g||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!g&&h.pos<a.doc.content.size&&(v=X.findFrom(a.doc.resolve(h.pos+1),1,!0))&&v.head==m.pos)&&t.someProp("handleKeyDown",C=>C(t,Hi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&dx(u,p.start,p.endA,h,m)&&t.someProp("handleKeyDown",C=>C(t,Hi(8,"Backspace")))){Sn&&nt&&t.domObserver.suppressSelectionUpdates();return}nt&&Sn&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Sn&&!g&&h.start()!=m.start()&&m.parentOffset==0&&h.depth==m.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==p.endA&&(p.endB-=2,m=a.doc.resolveNoCache(p.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(C){return C(t,Hi(13,"Enter"))})},20));let D=p.start,y=p.endA,A,E,T;if(g){if(h.pos==m.pos)bt&&yr<=11&&h.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xr(t),20)),A=t.state.tr.delete(D,y),E=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(T=fx(h.parent.content.cut(h.parentOffset,m.parentOffset),k.parent.content.cut(k.parentOffset,p.endA-k.start()))))A=t.state.tr,T.type=="add"?A.addMark(D,y,T.mark):A.removeMark(D,y,T.mark);else if(h.parent.child(h.index()).isText&&h.index()==m.index()-(m.textOffset?0:1)){let C=h.parent.textBetween(h.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",_=>_(t,D,y,C)))return;A=t.state.tr.insertText(C,D,y)}}if(A||(A=t.state.tr.replace(D,y,a.doc.slice(p.start-a.from,p.endB-a.from))),a.sel){let C=Xm(t,A.doc,a.sel);C&&!(nt&&Sn&&t.composing&&C.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(C.head==D||C.head==A.mapping.map(y)-1)||bt&&C.empty&&C.head==D)&&A.setSelection(C)}E&&A.ensureMarks(E),t.dispatch(A.scrollIntoView())}function Xm(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Sp(t,e.resolve(n.anchor),e.resolve(n.head))}function fx(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(P.from(u).eq(t))return{mark:l,type:s}}function dx(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Nc(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Nc(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Nc(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Nc(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function px(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}return s<o&&t.size<e.size?(o-=r<=o&&r>=s?o-r:0,l=o+(l-s),s=o):l<o&&(o-=r<=o&&r>=l?o-r:0,s=o+(s-l),l=o),{start:o,endA:s,endB:l}}class hx{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new RE,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rg),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tg(this),eg(this),this.nodeViews=ng(this),this.docView=Lm(this.state.doc,Zm(this),Mc(this),this.dom,this),this.domObserver=new sx(this,(r,i,o,s)=>cx(this,r,i,o,s)),this.domObserver.start(),LE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ed(this),this._props=e,e.plugins&&(e.plugins.forEach(rg),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;if(e.storedMarks&&this.composing&&(l1(this),o=!0),this.state=e,n){let f=ng(this);gx(f,this.nodeViews)&&(this.nodeViews=f,i=!0),ed(this)}this.editable=tg(this),eg(this);let s=Mc(this),l=Zm(this),a=n?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,l,s);(u||!e.selection.eq(r.selection))&&(o=!0);let c=a=="preserve"&&o&&this.dom.style.overflowAnchor==null&&nE(this);if(o){this.domObserver.stop();let f=u&&(bt||nt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&mx(r.selection,e.selection);if(u){let d=nt?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Lm(e.doc,l,s,this.dom,this)),d&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&bE(this))?xr(this,f):(Jv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),a=="reset")this.dom.scrollTop=0;else if(a=="to selection"){let f=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",d=>d(this)))if(e.selection instanceof $){let d=this.docView.domAfterPos(e.selection.from);d.nodeType==1&&Fm(this,d.getBoundingClientRect(),f)}else Fm(this,this.coordsAtPos(e.selection.head,1),f)}else c&&rE(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&iE(this.dom),xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return uE(this,e)}coordsAtPos(e,n=1){return _v(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return hE(this,n||this.state,e)}destroy(){!this.docView||(zE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Mc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $E(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function Zm(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Ht.node(0,t.state.doc.content.size,e)]}function eg(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ht.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function tg(t){return!t.someProp("editable",e=>e(t.state)===!1)}function mx(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ng(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function gx(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function rg(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var wr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ia={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},ig=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),yx=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),vx=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),og=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Dx=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),kx=ig&&(og||+ig[1]<57)||vx&&og;for(var $e=0;$e<10;$e++)wr[48+$e]=wr[96+$e]=String($e);for(var $e=1;$e<=24;$e++)wr[$e+111]="F"+$e;for(var $e=65;$e<=90;$e++)wr[$e]=String.fromCharCode($e+32),Ia[$e]=String.fromCharCode($e);for(var Fc in wr)Ia.hasOwnProperty(Fc)||(Ia[Fc]=wr[Fc]);function Sx(t){var e=kx&&(t.ctrlKey||t.altKey||t.metaKey)||(yx||Dx)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?Ia:wr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Cx=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Ex(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))Cx?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function xx(t){let e=Object.create(null);for(let n in t)e[Ex(n)]=t[n];return e}function Pc(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function wx(t){return new Xe({props:{handleKeyDown:d1(t)}})}function d1(t){let e=xx(t);return function(n,r){let i=Sx(r),o=i.length==1&&i!=" ",s,l=e[Pc(i,r,!o)];if(l&&l(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=wr[r.keyCode])&&s!=i){let a=e[Pc(s,r,!0)];if(a&&a(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let a=e[Pc(i,r,!0)];if(a&&a(n.state,n.dispatch,n))return!0}return!1}}const Ax=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),bx=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=p1(r);if(!i){let s=r.blockRange(),l=s&&No(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&g1(t,i,e))return!0;if(r.parent.content.size==0&&(Do(o,"end")||$.isSelectable(o))){let s=gp(t.doc,r.before(),r.after(),z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Do(o,"end")?X.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):$.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Do(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Ox=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=p1(r)}let s=o&&o.nodeBefore;return!s||!$.isSelectable(s)?!1:(e&&e(t.tr.setSelection($.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function p1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const Tx=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=h1(r);if(!i)return!1;let o=i.nodeAfter;if(g1(t,i,e))return!0;if(r.parent.content.size==0&&(Do(o,"start")||$.isSelectable(o))){let s=gp(t.doc,r.before(),r.after(),z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Do(o,"start")?X.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):$.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Mx=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=h1(r)}let s=o&&o.nodeAfter;return!s||!$.isSelectable(s)?!1:(e&&e(t.tr.setSelection($.create(t.doc,o.pos)).scrollIntoView()),!0)};function h1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Nx=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&No(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},Fx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function m1(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Px=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=m1(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(X.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Ix=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Wt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=m1(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(Q.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},Bx=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(io(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&No(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Rx=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection($.create(t.doc,i))),!0)};function Lx(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||el(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function g1(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Lx(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=P.empty;for(let m=o.length-1;m>=0;m--)d=P.from(o[m].create(null,d));d=P.from(r.copy(d));let p=t.tr.step(new Be(e.pos-1,f,e.pos,f,new z(d,1,0),o.length,!0)),h=f+2*o.length;el(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let a=X.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&No(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Do(i,"start",!0)&&Do(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let m=P.empty;for(let g=d.length-1;g>=0;g--)m=P.from(d[g].copy(m));let k=t.tr.step(new Be(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new z(m,d.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function y1(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Q.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const zx=y1(-1),_x=y1(1);function $x(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&hp(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function sg(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,(l,a)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(a),c=u.index();s=u.parent.canReplaceWith(c,c+1,t)}}),s?(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function Vx(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new Aa(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new Aa(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=hp(a,t,e,s);return u?(r&&r(jx(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function jx(t,e,n,r,i){let o=P.empty;for(let c=n.length-1;c>=0;c--)o=P.from(n[c].type.create(n[c].attrs,o));t.step(new Be(e.start-(r?2:0),e.end,e.start,e.end,new z(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&io(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function Hx(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?Ux(e,n,t,o):Wx(e,n,o):!0:!1}}function Ux(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new Be(o-1,s,o,s,new z(P.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Aa(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),e(i.lift(r,No(r)).scrollIntoView()),!0}function Wx(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?P.empty:P.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new Be(f-(l?1:0),d+(a?1:0),f+1,d-1,new z((l?P.empty:P.from(i.copy(P.empty))).append(a?P.empty:P.from(i.copy(P.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Kx(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=P.from(u?t.create():null),f=new z(P.from(t.create(null,P.from(l.type.create(null,c)))),u?3:1,0),d=o.start,p=o.end;n(e.tr.step(new Be(d-(u?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function Mu(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Nu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const f=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,p])=>[d,(...m)=>{const k=this.buildProps(u,n),g=p(...m)(k);return l.push(g),f}])),run:c};return f}createCan(e){const{rawCommands:n,state:r}=this,i=void 0,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:i})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const l={tr:e,editor:i,view:s,state:Mu({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class qx{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function j(t,e,n){return t.config[e]===void 0&&t.parent?j(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?j(t.parent,e,n):null}):t.config[e]}function Fu(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function v1(t){const e=[],{nodeExtensions:n,markExtensions:r}=Fu(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=j(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:{...o,...p}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=j(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,f])=>{const d={...o,...f};f.isRequired&&f.default===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function Re(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function vt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function nd(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>vt(n,r),{})}function D1(t){return typeof t=="function"}function te(t,e=void 0,...n){return D1(t)?e?t.bind(e)(...n):t(...n):t}function Jx(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Qx(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function lg(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):Qx(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function ag(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Jx(n)?!1:n!=null))}function Yx(t){var e;const n=v1(t),{nodeExtensions:r,markExtensions:i}=Fu(t),o=(e=r.find(a=>j(a,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(r.map(a=>{const u=n.filter(k=>k.type===a.name),c={name:a.name,options:a.options,storage:a.storage},f=t.reduce((k,g)=>{const v=j(g,"extendNodeSchema",c);return{...k,...v?v(a):{}}},{}),d=ag({...f,content:te(j(a,"content",c)),marks:te(j(a,"marks",c)),group:te(j(a,"group",c)),inline:te(j(a,"inline",c)),atom:te(j(a,"atom",c)),selectable:te(j(a,"selectable",c)),draggable:te(j(a,"draggable",c)),code:te(j(a,"code",c)),defining:te(j(a,"defining",c)),isolating:te(j(a,"isolating",c)),attrs:Object.fromEntries(u.map(k=>{var g;return[k.name,{default:(g=k==null?void 0:k.attribute)===null||g===void 0?void 0:g.default}]}))}),p=te(j(a,"parseHTML",c));p&&(d.parseDOM=p.map(k=>lg(k,u)));const h=j(a,"renderHTML",c);h&&(d.toDOM=k=>h({node:k,HTMLAttributes:nd(k,u)}));const m=j(a,"renderText",c);return m&&(d.toText=m),[a.name,d]})),l=Object.fromEntries(i.map(a=>{const u=n.filter(m=>m.type===a.name),c={name:a.name,options:a.options,storage:a.storage},f=t.reduce((m,k)=>{const g=j(k,"extendMarkSchema",c);return{...m,...g?g(a):{}}},{}),d=ag({...f,inclusive:te(j(a,"inclusive",c)),excludes:te(j(a,"excludes",c)),group:te(j(a,"group",c)),spanning:te(j(a,"spanning",c)),code:te(j(a,"code",c)),attrs:Object.fromEntries(u.map(m=>{var k;return[m.name,{default:(k=m==null?void 0:m.attribute)===null||k===void 0?void 0:k.default}]}))}),p=te(j(a,"parseHTML",c));p&&(d.parseDOM=p.map(m=>lg(m,u)));const h=j(a,"renderHTML",c);return h&&(d.toDOM=m=>h({mark:m,HTMLAttributes:nd(m,u)})),[a.name,d]}));return new mC({topNode:o,nodes:s,marks:l})}function Ic(t,e){return e.nodes[t]||e.marks[t]||null}function ug(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const Gx=(t,e=500)=>{let n="";return t.parent.nodesBetween(Math.max(0,t.parentOffset-e),t.parentOffset,(r,i,o,s)=>{var l,a,u;n+=((a=(l=r.type.spec).toText)===null||a===void 0?void 0:a.call(l,{node:r,pos:i,parent:o,index:s}))||((u=t.nodeBefore)===null||u===void 0?void 0:u.text)||"%leaf%"}),n};function Op(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Tp{constructor(e){this.find=e.find,this.handler=e.handler}}const Xx=(t,e)=>{if(Op(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Bc(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!!(!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code)))return!1;let c=!1;const f=Gx(u)+o;return s.forEach(d=>{if(c)return;const p=Xx(f,d.find);if(!p)return;const h=a.state.tr,m=Mu({state:a.state,transaction:h}),k={from:r-(p[0].length-o.length),to:i},{commands:g,chain:v,can:D}=new Nu({editor:n,state:m});d.handler({state:m,range:k,match:p,commands:g,chain:v,can:D})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:o}),a.dispatch(h),c=!0)}),c}function Zx(t){const{editor:e,rules:n}=t,r=new Xe({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return Bc({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Bc({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Bc({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ew(t){return typeof t=="number"}class tw{constructor(e){this.find=e.find,this.handler=e.handler}}const nw=(t,e)=>{if(Op(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function rw(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:l,can:a}=new Nu({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(f,d)=>{if(!f.isTextblock||f.type.spec.code)return;const p=Math.max(r,d),h=Math.min(i,d+f.content.size),m=f.textBetween(p-d,h-d,void 0,"\uFFFC");nw(m,o.find).forEach(g=>{if(g.index===void 0)return;const v=p+g.index+1,D=v+g[0].length,y={from:n.tr.mapping.map(v),to:n.tr.mapping.map(D)},A=o.handler({state:n,range:y,match:g,commands:s,chain:l,can:a});u.push(A)})}),u.every(f=>f!==null)}function iw(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(l=>new Xe({view(a){const u=c=>{var f;r=!((f=a.dom.parentElement)===null||f===void 0)&&f.contains(c.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(o=r===a.dom.parentElement,!1),paste:(a,u)=>{var c;const f=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,c)=>{const f=a[0],d=f.getMeta("uiEvent")==="paste"&&!i,p=f.getMeta("uiEvent")==="drop"&&!o;if(!d&&!p)return;const h=u.doc.content.findDiffStart(c.doc.content),m=u.doc.content.findDiffEnd(c.doc.content);if(!ew(h)||!m||h===m.b)return;const k=c.tr,g=Mu({state:c,transaction:k});if(!(!rw({editor:e,state:g,from:Math.max(h-1,0),to:m.b,rule:l})||!k.steps.length))return k}}))}function ow(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Wi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wi.resolve(e),this.schema=Yx(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Ic(r.name,this.schema)};r.type==="mark"&&((i=te(j(r,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const s=j(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=j(r,"onCreate",o);l&&this.editor.on("create",l);const a=j(r,"onUpdate",o);a&&this.editor.on("update",a);const u=j(r,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=j(r,"onTransaction",o);c&&this.editor.on("transaction",c);const f=j(r,"onFocus",o);f&&this.editor.on("focus",f);const d=j(r,"onBlur",o);d&&this.editor.on("blur",d);const p=j(r,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){const n=Wi.sort(Wi.flatten(e)),r=ow(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=j(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=j(r,"priority")||100,s=j(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ic(n.name,this.schema)},i=j(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Wi.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Ic(s.name,this.schema)},a=[],u=j(s,"addKeyboardShortcuts",l);if(u){const p=Object.fromEntries(Object.entries(u()).map(([m,k])=>[m,()=>k({editor:e})])),h=wx(p);a.push(h)}const c=j(s,"addInputRules",l);ug(s,e.options.enableInputRules)&&c&&r.push(...c());const f=j(s,"addPasteRules",l);ug(s,e.options.enablePasteRules)&&f&&i.push(...f());const d=j(s,"addProseMirrorPlugins",l);if(d){const p=d();a.push(...p)}return a}).flat();return[Zx({editor:e,rules:r}),...iw({editor:e,rules:i}),...o]}get attributes(){return v1(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Fu(this.extensions);return Object.fromEntries(n.filter(r=>!!j(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Re(r.name,this.schema)},s=j(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,f)=>{const d=nd(a,i);return s()({editor:e,node:a,getPos:c,decorations:f,HTMLAttributes:d,extension:r})};return[r.name,l]}))}}function sw(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rc(t){return sw(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Pu(t,e){const n={...t};return Rc(t)&&Rc(e)&&Object.keys(e).forEach(r=>{Rc(e[r])?r in t?n[r]=Pu(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Dt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(j(this,"addOptions",{name:this.name}))),this.storage=te(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dt(e)}configure(e={}){const n=this.extend();return n.options=Pu(this.options,e),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Dt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(j(n,"addOptions",{name:n.name})),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}}function k1(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",a=!0;return t.nodesBetween(r,i,(u,c,f,d)=>{var p;const h=s==null?void 0:s[u.type.name];h?(u.isBlock&&!a&&(l+=o,a=!0),f&&(l+=h({node:u,pos:c,parent:f,index:d,range:e}))):u.isText?(l+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,i-c),a=!1):u.isBlock&&!a&&(l+=o,a=!0)}),l}function S1(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const lw=Dt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Xe({key:new Xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=S1(n);return k1(r,{from:s,to:l},{textSerializers:a})}}})]}}),aw=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),uw=(t=!1)=>({commands:e})=>e.setContent("",t),cw=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(a)),d=u.resolve(c.map(a+l.nodeSize)),p=f.blockRange(d);if(!p)return;const h=No(p);if(l.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(h||h===0)&&e.lift(p,h)})}),!0},fw=t=>e=>t(e),dw=()=>({state:t,dispatch:e})=>Ix(t,e),pw=t=>({tr:e,state:n,dispatch:r})=>{const i=Re(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},hw=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},mw=()=>({state:t,dispatch:e})=>Ax(t,e),gw=()=>({commands:t})=>t.keyboardShortcut("Enter"),yw=()=>({state:t,dispatch:e})=>Px(t,e);function Ba(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Op(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function rd(t,e,n={}){return t.find(r=>r.type===e&&Ba(r.attrs,n))}function vw(t,e,n={}){return!!rd(t,e,n)}function Mp(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=rd([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(rd([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&vw([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function Pr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Dw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Pr(t,r.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const f=Mp(a,o,e);if(f&&f.from<=u&&f.to>=c){const d=Q.create(s,f.from,f.to);n.setSelection(d)}}return!0},kw=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Sw(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function C1(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!Sw(t)}function E1(t){return C1(t)&&t instanceof Q}function Vn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function x1(t,e=null){if(!e)return null;const n=X.atStart(t),r=X.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Q.create(t,Vn(0,i,o),Vn(t.content.size,i,o)):Q.create(t,Vn(e,i,o),Vn(e,i,o))}function Iu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Cw=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Iu()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!E1(n.state.selection))return s(),!0;const l=x1(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},Ew=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),xw=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function cg(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Ra(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)?P.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Ra("",e,n)}if(typeof t=="string"){const r=hi.fromSchema(e);return n.slice?r.parseSlice(cg(t),n.parseOptions).content:r.parse(cg(t),n.parseOptions)}return Ra("",e,n)}function ww(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ye||i instanceof Be))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(X.near(t.doc.resolve(s),n))}const Aw=t=>t.toString().startsWith("<"),bw=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=Ra(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((Aw(s)?s:[s]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),l===a&&c){const{parent:d}=r.doc.resolve(l);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(l-=1,a+=1)}u?r.insertText(e,l,a):r.replaceWith(l,a,s),n.updateSelection&&ww(r,r.steps.length-1,-1)}return!0},Ow=()=>({state:t,dispatch:e})=>bx(t,e),Tw=()=>({state:t,dispatch:e})=>Tx(t,e);function w1(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function Mw(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))Iu()||w1()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const Nw=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=Mw(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Us(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Re(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const p=Math.max(r,d),h=Math.min(i,d+f.nodeSize);l.push({node:f,from:p,to:h})});const a=i-r,u=l.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>Ba(f.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=a}const Fw=(t,e={})=>({state:n,dispatch:r})=>{const i=Re(t,n.schema);return Us(n,i,e)?Nx(n,r):!1},Pw=()=>({state:t,dispatch:e})=>Bx(t,e),Iw=t=>({state:e,dispatch:n})=>{const r=Re(t,e.schema);return Hx(r)(e,n)},Bw=()=>({state:t,dispatch:e})=>Fx(t,e);function Bu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function fg(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const Rw=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Bu(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Re(t,r.schema)),l==="mark"&&(s=Pr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,fg(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(c,c+u.nodeSize,s.create(fg(f.attrs,e)))})})}),!0):!1},Lw=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),zw=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),_w=()=>({state:t,dispatch:e})=>Ox(t,e),$w=()=>({state:t,dispatch:e})=>Mx(t,e),Vw=()=>({state:t,dispatch:e})=>Rx(t,e),jw=()=>({state:t,dispatch:e})=>_x(t,e),Hw=()=>({state:t,dispatch:e})=>zx(t,e);function A1(t,e,n={}){return Ra(t,e,{slice:!1,parseOptions:n})}const Uw=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=A1(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function b1(t,e){const n=Pr(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}const Ww=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=Pr(t,r.schema);if(i)if(s){const u=b1(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(c,f,(d,p)=>{const h=Math.max(p,c),m=Math.min(p+d.nodeSize,f);d.marks.find(g=>g.type===a)?d.marks.forEach(g=>{a===g.type&&n.addMark(h,m,a.create({...g.attrs,...e}))}):n.addMark(h,m,a.create(e))})});return!0},Kw=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),qw=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Re(t,n.schema);return o.isTextblock?i().command(({commands:s})=>sg(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>sg(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Jw=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=X.atStart(r).from,o=X.atEnd(r).to,s=Vn(t,i,o),l=$.create(r,s);e.setSelection(l)}return!0},Qw=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=Q.atStart(r).from,l=Q.atEnd(r).to,a=Vn(i,s,l),u=Vn(o,s,l),c=Q.create(r,a,u);e.setSelection(c)}return!0},Yw=t=>({state:e,dispatch:n})=>{const r=Re(t,e.schema);return Kx(r)(e,n)};function Yl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Gw(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function dg(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const Xw=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=i.extensionManager.attributes,c=Yl(u,l.node().type.name,l.node().attrs);if(o instanceof $&&o.node.isBlock)return!l.parentOffset||!io(s,l.pos)?!1:(r&&(t&&dg(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const f=a.parentOffset===a.parent.content.size;o instanceof Q&&e.deleteSelection();const d=l.depth===0?void 0:Gw(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=f&&d?[{type:d,attrs:c}]:void 0,h=io(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!h&&io(e.doc,e.mapping.map(l.pos),1,d?[{type:d}]:void 0)&&(h=!0,p=d?[{type:d,attrs:c}]:void 0),h&&(e.split(e.mapping.map(l.pos),1,p),d&&!f&&!l.parentOffset&&l.parent.type!==d)){const m=e.mapping.map(l.before()),k=e.doc.resolve(m);l.node(-1).canReplaceWith(k.index(),k.index()+1,d)&&e.setNodeMarkup(e.mapping.map(l.before()),d)}t&&dg(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},Zw=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Re(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let k=P.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-g;T>=l.depth-3;T-=1)k=P.from(l.node(T).copy(k));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,D=Yl(f,l.node().type.name,l.node().attrs),y=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(D))||void 0;k=k.append(P.from(s.createAndFill(null,y)||void 0));const A=l.before(l.depth-(g-1));e.replace(A,l.after(-v),new z(k,4-g,0));let E=-1;e.doc.nodesBetween(A,e.doc.content.size,(T,C)=>{if(E>-1)return!1;T.isTextblock&&T.content.size===0&&(E=C+1)}),E>-1&&e.setSelection(Q.near(e.doc.resolve(E))),e.scrollIntoView()}return!0}const d=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,p=Yl(f,c.type.name,c.attrs),h=Yl(f,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const m=d?[{type:s,attrs:p},{type:d,attrs:h}]:[{type:s,attrs:p}];return io(e.doc,l.pos,2)?(r&&e.split(l.pos,2,m).scrollIntoView(),!0):!1};function eA(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Np(t){return e=>eA(e.$from,t)}function pg(t,e){const{nodeExtensions:n}=Fu(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=te(j(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const hg=(t,e)=>{const n=Np(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&el(t.doc,n.pos)&&t.join(n.pos),!0},mg=(t,e)=>{const n=Np(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&el(t.doc,r)&&t.join(r),!0},tA=(t,e)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:l,can:a})=>{const{extensions:u}=n.extensionManager,c=Re(t,i.schema),f=Re(e,i.schema),{selection:d}=i,{$from:p,$to:h}=d,m=p.blockRange(h);if(!m)return!1;const k=Np(g=>pg(g.type.name,u))(d);if(m.depth>=1&&k&&m.depth-k.depth<=1){if(k.node.type===c)return l.liftListItem(f);if(pg(k.node.type.name,u)&&c.validContent(k.node.content)&&o)return s().command(()=>(r.setNodeMarkup(k.pos,c),!0)).command(()=>hg(r,c)).command(()=>mg(r,c)).run()}return s().command(()=>a().wrapInList(c)?!0:l.clearNodes()).wrapInList(c).command(()=>hg(r,c)).command(()=>mg(r,c)).run()};function id(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Pr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>Ba(f.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:f,$to:d})=>{const p=f.pos,h=d.pos;t.doc.nodesBetween(p,h,(m,k)=>{if(!m.isText&&!m.marks.length)return;const g=Math.max(p,k),v=Math.min(h,k+m.nodeSize);s+=v-g,l.push(...m.marks.map(y=>({mark:y,from:g,to:v})))})}),s===0)return!1;const a=l.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>Ba(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=l.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(a>0?a+u:a)>=s}const nA=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Pr(t,r.schema);return id(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},rA=(t,e,n={})=>({state:r,commands:i})=>{const o=Re(t,r.schema),s=Re(e,r.schema);return Us(r,o,n)?i.setNode(s):i.setNode(o,n)},iA=(t,e={})=>({state:n,commands:r})=>{const i=Re(t,n.schema);return Us(n,i,e)?r.lift(i):r.wrapIn(i,e)},oA=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},sA=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},lA=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=Pr(t,r.schema),{$from:u,empty:c,ranges:f}=l;if(!i)return!0;if(c&&s){let{from:d,to:p}=l;const h=(o=u.marks().find(k=>k.type===a))===null||o===void 0?void 0:o.attrs,m=Mp(u,a,h);m&&(d=m.from,p=m.to),n.removeMark(d,p,a)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,a)});return n.removeStoredMark(a),!0},aA=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Bu(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Re(t,r.schema)),l==="mark"&&(s=Pr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(p=>{if(s===p.type){const h=Math.max(d,u),m=Math.min(d+f.nodeSize,c);n.addMark(h,m,s.create({...p.attrs,...e}))}})})}),!0):!1},uA=(t,e={})=>({state:n,dispatch:r})=>{const i=Re(t,n.schema);return $x(i,e)(n,r)},cA=(t,e={})=>({state:n,dispatch:r})=>{const i=Re(t,n.schema);return Vx(i,e)(n,r)};var fA=Object.freeze({__proto__:null,blur:aw,clearContent:uw,clearNodes:cw,command:fw,createParagraphNear:dw,deleteNode:pw,deleteRange:hw,deleteSelection:mw,enter:gw,exitCode:yw,extendMarkRange:Dw,first:kw,focus:Cw,forEach:Ew,insertContent:xw,insertContentAt:bw,joinBackward:Ow,joinForward:Tw,keyboardShortcut:Nw,lift:Fw,liftEmptyBlock:Pw,liftListItem:Iw,newlineInCode:Bw,resetAttributes:Rw,scrollIntoView:Lw,selectAll:zw,selectNodeBackward:_w,selectNodeForward:$w,selectParentNode:Vw,selectTextblockEnd:jw,selectTextblockStart:Hw,setContent:Uw,setMark:Ww,setMeta:Kw,setNode:qw,setNodeSelection:Jw,setTextSelection:Qw,sinkListItem:Yw,splitBlock:Xw,splitListItem:Zw,toggleList:tA,toggleMark:nA,toggleNode:rA,toggleWrap:iA,undoInputRule:oA,unsetAllMarks:sA,unsetMark:lA,updateAttributes:aA,wrapIn:uA,wrapInList:cA});const dA=Dt.create({name:"commands",addCommands(){return{...fA}}}),pA=Dt.create({name:"editable",addProseMirrorPlugins(){return[new Xe({key:new Xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),hA=Dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Xe({key:new Xt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),mA=Dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:f}=a,{pos:d,parent:p}=f,h=X.atStart(u).from===d;return!c||!h||!p.type.isTextblock||p.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Iu()||w1()?o:i},addProseMirrorPlugins(){return[new Xe({key:new Xt("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=X.atStart(e.doc).from,a=X.atEnd(e.doc).to,u=o===l&&s===a,c=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!u||!c)return;const f=n.tr,d=Mu({state:n,transaction:f}),{commands:p}=new Nu({editor:this.editor,state:d});if(p.clearNodes(),!!f.steps.length)return f}})]}}),gA=Dt.create({name:"tabindex",addProseMirrorPlugins(){return[new Xe({key:new Xt("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var yA=Object.freeze({__proto__:null,ClipboardTextSerializer:lw,Commands:dA,Editable:pA,FocusEvents:hA,Keymap:mA,Tabindex:gA});function vA(t,e){const n=Re(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function O1(t,e){const n=Bu(typeof e=="string"?e:e.name,t.schema);return n==="node"?vA(t,e):n==="mark"?b1(t,e):{}}function DA(t,e){const n=jt.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function kA(t,e){const n={from:0,to:t.content.size};return k1(t,n,e)}function SA(t,e,n={}){if(!e)return Us(t,null,n)||id(t,null,n);const r=Bu(e,t.schema);return r==="node"?Us(t,e,n):r==="mark"?id(t,e,n):!1}function CA(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}const EA=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function xA(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class wA extends qx{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=xA(EA,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=D1(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(yA):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Wi(n,this)}createCommandManager(){this.commandManager=new Nu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=A1(this.options.content,this.schema,this.options.parseOptions),n=x1(e,this.options.autofocus);this.view=new hx(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ji.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return O1(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return SA(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return DA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return kA(this.state.doc,{blockSeparator:n,textSerializers:{...r,...S1(this.schema)}})}get isEmpty(){return CA(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function AA(t,e){const n=new Nv(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function bA(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function OA(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function TA(t){const e=OA(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function MA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,a)=>{s.push({from:l,to:a})});else{const{from:l,to:a}=n[o];if(l===void 0||a===void 0)return;s.push({from:l,to:a})}s.forEach(({from:l,to:a})=>{const u=e.slice(o).map(l,-1),c=e.slice(o).map(a),f=e.invert().map(u,-1),d=e.invert().map(c);r.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),TA(r)}function La(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=Mp(o,i.type);!s||r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function NA(t){return C1(t)&&t instanceof $}function FA(t,e,n){const i=t.state.doc.content.size,o=Vn(e,0,i),s=Vn(n,0,i),l=t.coordsAtPos(o),a=t.coordsAtPos(s,-1),u=Math.min(l.top,a.top),c=Math.max(l.bottom,a.bottom),f=Math.min(l.left,a.left),d=Math.max(l.right,a.right),p=d-f,h=c-u,g={top:u,bottom:c,left:f,right:d,width:p,height:h,x:f,y:u};return{...g,toJSON:()=>g}}function Ws(t){return new Tp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=te(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];let a=n.to;if(s){const u=l.search(/\S/),c=n.from+l.indexOf(s),f=c+s.length;if(La(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<n.to&&o.delete(f,n.to),c>n.from&&o.delete(n.from+u,c),a=n.from+u+s.length,o.addMark(n.from+u,a,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function PA(t){return new Tp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=te(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function T1(t){return new Tp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=te(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),a=l&&hp(l,t.type,i);if(!a)return null;o.wrap(l,a);const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&el(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class Ar{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(j(this,"addOptions",{name:this.name}))),this.storage=te(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ar(e)}configure(e={}){const n=this.extend();return n.options=Pu(this.options,e),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ar(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(j(n,"addOptions",{name:n.name})),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}}class Qt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(j(this,"addOptions",{name:this.name}))),this.storage=te(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qt(e)}configure(e={}){const n=this.extend();return n.options=Pu(this.options,e),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Qt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(j(n,"addOptions",{name:n.name})),n.storage=te(j(n,"addStorage",{name:n.name,options:n.options})),n}}class IA{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,l,a;const{view:u}=this.editor,c=e.target,f=c.nodeType===3?(n=c.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(c))||!f)return;let d=0,p=0;if(this.dom!==f){const k=this.dom.getBoundingClientRect(),g=f.getBoundingClientRect(),v=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,D=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;d=g.x-k.x+v,p=g.y-k.y+D}(a=e.dataTransfer)===null||a===void 0||a.setDragImage(this.dom,d,p);const h=$.create(u.state.doc,this.getPos()),m=u.state.tr.setSelection(h);u.dispatch(m)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:a}=this,u=!!this.node.type.spec.draggable,c=$.isSelectable(this.node),f=e.type==="copy",d=e.type==="paste",p=e.type==="cut",h=e.type==="mousedown",m=e.type.startsWith("drag");if(!u&&c&&m&&e.preventDefault(),u&&m&&!a)return e.preventDefault(),!1;if(u&&l&&!a&&h){const k=r.closest("[data-drag-handle]");k&&(this.dom===k||this.dom.contains(k))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(a||o||f||d||p||h&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&Iu()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function ko(t){return new tw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=te(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];let a=n.to;if(s){const u=l.search(/\S/),c=n.from+l.indexOf(s),f=c+s.length;if(La(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<n.to&&o.delete(f,n.to),c>n.from&&o.delete(n.from+u,c),a=n.from+u+s.length,o.addMark(n.from+u,a,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function BA(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht="top",Yt="bottom",Gt="right",mt="left",Fp="auto",nl=[ht,Yt,Gt,mt],So="start",Ks="end",RA="clippingParents",M1="viewport",Ho="popper",LA="reference",gg=nl.reduce(function(t,e){return t.concat([e+"-"+So,e+"-"+Ks])},[]),N1=[].concat(nl,[Fp]).reduce(function(t,e){return t.concat([e,e+"-"+So,e+"-"+Ks])},[]),zA="beforeRead",_A="read",$A="afterRead",VA="beforeMain",jA="main",HA="afterMain",UA="beforeWrite",WA="write",KA="afterWrite",qA=[zA,_A,$A,VA,jA,HA,UA,WA,KA];function Nn(t){return t?(t.nodeName||"").toLowerCase():null}function hn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Co(t){var e=hn(t).Element;return t instanceof e||t instanceof Element}function Kt(t){var e=hn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Pp(t){if(typeof ShadowRoot=="undefined")return!1;var e=hn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function JA(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Kt(o)||!Nn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function QA(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=s.reduce(function(a,u){return a[u]="",a},{});!Kt(i)||!Nn(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}var F1={name:"applyStyles",enabled:!0,phase:"write",fn:JA,effect:QA,requires:["computeStyles"]};function On(t){return t.split("-")[0]}var oi=Math.max,za=Math.min,Eo=Math.round;function xo(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Kt(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=Eo(n.width)/s||1),o>0&&(i=Eo(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Ip(t){var e=xo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function P1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Pp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qn(t){return hn(t).getComputedStyle(t)}function YA(t){return["table","td","th"].indexOf(Nn(t))>=0}function Ir(t){return((Co(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ru(t){return Nn(t)==="html"?t:t.assignedSlot||t.parentNode||(Pp(t)?t.host:null)||Ir(t)}function yg(t){return!Kt(t)||qn(t).position==="fixed"?null:t.offsetParent}function GA(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Kt(t)){var r=qn(t);if(r.position==="fixed")return null}var i=Ru(t);for(Pp(i)&&(i=i.host);Kt(i)&&["html","body"].indexOf(Nn(i))<0;){var o=qn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function rl(t){for(var e=hn(t),n=yg(t);n&&YA(n)&&qn(n).position==="static";)n=yg(n);return n&&(Nn(n)==="html"||Nn(n)==="body"&&qn(n).position==="static")?e:n||GA(t)||e}function Bp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ms(t,e,n){return oi(t,za(e,n))}function XA(t,e,n){var r=ms(t,e,n);return r>n?n:r}function I1(){return{top:0,right:0,bottom:0,left:0}}function B1(t){return Object.assign({},I1(),t)}function R1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ZA=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,B1(typeof e!="number"?e:R1(e,nl))};function eb(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=On(n.placement),a=Bp(l),u=[mt,Gt].indexOf(l)>=0,c=u?"height":"width";if(!(!o||!s)){var f=ZA(i.padding,n),d=Ip(o),p=a==="y"?ht:mt,h=a==="y"?Yt:Gt,m=n.rects.reference[c]+n.rects.reference[a]-s[a]-n.rects.popper[c],k=s[a]-n.rects.reference[a],g=rl(o),v=g?a==="y"?g.clientHeight||0:g.clientWidth||0:0,D=m/2-k/2,y=f[p],A=v-d[c]-f[h],E=v/2-d[c]/2+D,T=ms(y,E,A),C=a;n.modifiersData[r]=(e={},e[C]=T,e.centerOffset=T-E,e)}}function tb(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!P1(e.elements.popper,i)||(e.elements.arrow=i))}var nb={name:"arrow",enabled:!0,phase:"main",fn:eb,effect:tb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wo(t){return t.split("-")[1]}var rb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ib(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Eo(e*i)/i||0,y:Eo(n*i)/i||0}}function vg(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,a=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=s.x,p=d===void 0?0:d,h=s.y,m=h===void 0?0:h,k=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=k.x,m=k.y;var g=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),D=mt,y=ht,A=window;if(u){var E=rl(n),T="clientHeight",C="clientWidth";if(E===hn(n)&&(E=Ir(n),qn(E).position!=="static"&&l==="absolute"&&(T="scrollHeight",C="scrollWidth")),E=E,i===ht||(i===mt||i===Gt)&&o===Ks){y=Yt;var _=f&&E===A&&A.visualViewport?A.visualViewport.height:E[T];m-=_-r.height,m*=a?1:-1}if(i===mt||(i===ht||i===Yt)&&o===Ks){D=Gt;var L=f&&E===A&&A.visualViewport?A.visualViewport.width:E[C];p-=L-r.width,p*=a?1:-1}}var Z=Object.assign({position:l},u&&rb),H=c===!0?ib({x:p,y:m}):{x:p,y:m};if(p=H.x,m=H.y,a){var ee;return Object.assign({},Z,(ee={},ee[y]=v?"0":"",ee[D]=g?"0":"",ee.transform=(A.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",ee))}return Object.assign({},Z,(e={},e[y]=v?m+"px":"",e[D]=g?p+"px":"",e.transform="",e))}function ob(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,a=l===void 0?!0:l,u={placement:On(e.placement),variation:wo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vg(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vg(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var sb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ob,data:{}},Il={passive:!0};function lb(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,a=hn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Il)}),l&&a.addEventListener("resize",n.update,Il),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Il)}),l&&a.removeEventListener("resize",n.update,Il)}}var ab={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lb,data:{}},ub={left:"right",right:"left",bottom:"top",top:"bottom"};function Gl(t){return t.replace(/left|right|bottom|top/g,function(e){return ub[e]})}var cb={start:"end",end:"start"};function Dg(t){return t.replace(/start|end/g,function(e){return cb[e]})}function Rp(t){var e=hn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Lp(t){return xo(Ir(t)).left+Rp(t).scrollLeft}function fb(t){var e=hn(t),n=Ir(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s+Lp(t),y:l}}function db(t){var e,n=Ir(t),r=Rp(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=oi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=oi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Lp(t),a=-r.scrollTop;return qn(i||n).direction==="rtl"&&(l+=oi(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function zp(t){var e=qn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function L1(t){return["html","body","#document"].indexOf(Nn(t))>=0?t.ownerDocument.body:Kt(t)&&zp(t)?t:L1(Ru(t))}function gs(t,e){var n;e===void 0&&(e=[]);var r=L1(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=hn(r),s=i?[o].concat(o.visualViewport||[],zp(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(gs(Ru(s)))}function od(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pb(t){var e=xo(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function kg(t,e){return e===M1?od(fb(t)):Co(e)?pb(e):od(db(Ir(t)))}function hb(t){var e=gs(Ru(t)),n=["absolute","fixed"].indexOf(qn(t).position)>=0,r=n&&Kt(t)?rl(t):t;return Co(r)?e.filter(function(i){return Co(i)&&P1(i,r)&&Nn(i)!=="body"}):[]}function mb(t,e,n){var r=e==="clippingParents"?hb(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(l,a){var u=kg(t,a);return l.top=oi(u.top,l.top),l.right=za(u.right,l.right),l.bottom=za(u.bottom,l.bottom),l.left=oi(u.left,l.left),l},kg(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function z1(t){var e=t.reference,n=t.element,r=t.placement,i=r?On(r):null,o=r?wo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,a;switch(i){case ht:a={x:s,y:e.y-n.height};break;case Yt:a={x:s,y:e.y+e.height};break;case Gt:a={x:e.x+e.width,y:l};break;case mt:a={x:e.x-n.width,y:l};break;default:a={x:e.x,y:e.y}}var u=i?Bp(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case So:a[u]=a[u]-(e[c]/2-n[c]/2);break;case Ks:a[u]=a[u]+(e[c]/2-n[c]/2);break}}return a}function qs(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,s=o===void 0?RA:o,l=n.rootBoundary,a=l===void 0?M1:l,u=n.elementContext,c=u===void 0?Ho:u,f=n.altBoundary,d=f===void 0?!1:f,p=n.padding,h=p===void 0?0:p,m=B1(typeof h!="number"?h:R1(h,nl)),k=c===Ho?LA:Ho,g=t.rects.popper,v=t.elements[d?k:c],D=mb(Co(v)?v:v.contextElement||Ir(t.elements.popper),s,a),y=xo(t.elements.reference),A=z1({reference:y,element:g,strategy:"absolute",placement:i}),E=od(Object.assign({},g,A)),T=c===Ho?E:y,C={top:D.top-T.top+m.top,bottom:T.bottom-D.bottom+m.bottom,left:D.left-T.left+m.left,right:T.right-D.right+m.right},_=t.modifiersData.offset;if(c===Ho&&_){var L=_[i];Object.keys(C).forEach(function(Z){var H=[Gt,Yt].indexOf(Z)>=0?1:-1,ee=[ht,Yt].indexOf(Z)>=0?"y":"x";C[Z]+=L[ee]*H})}return C}function gb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,a=n.allowedAutoPlacements,u=a===void 0?N1:a,c=wo(r),f=c?l?gg:gg.filter(function(h){return wo(h)===c}):nl,d=f.filter(function(h){return u.indexOf(h)>=0});d.length===0&&(d=f);var p=d.reduce(function(h,m){return h[m]=qs(t,{placement:m,boundary:i,rootBoundary:o,padding:s})[On(m)],h},{});return Object.keys(p).sort(function(h,m){return p[h]-p[m]})}function yb(t){if(On(t)===Fp)return[];var e=Gl(t);return[Dg(t),e,Dg(e)]}function vb(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,a=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,m=n.allowedAutoPlacements,k=e.options.placement,g=On(k),v=g===k,D=a||(v||!h?[Gl(k)]:yb(k)),y=[k].concat(D).reduce(function(W,Y){return W.concat(On(Y)===Fp?gb(e,{placement:Y,boundary:c,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:m}):Y)},[]),A=e.rects.reference,E=e.rects.popper,T=new Map,C=!0,_=y[0],L=0;L<y.length;L++){var Z=y[L],H=On(Z),ee=wo(Z)===So,ie=[ht,Yt].indexOf(H)>=0,I=ie?"width":"height",x=qs(e,{placement:Z,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),F=ie?ee?Gt:mt:ee?Yt:ht;A[I]>E[I]&&(F=Gl(F));var S=Gl(F),w=[];if(o&&w.push(x[H]<=0),l&&w.push(x[F]<=0,x[S]<=0),w.every(function(W){return W})){_=Z,C=!1;break}T.set(Z,w)}if(C)for(var b=h?3:1,M=function(Y){var J=y.find(function(me){var oe=T.get(me);if(oe)return oe.slice(0,Y).every(function(ce){return ce})});if(J)return _=J,"break"},N=b;N>0;N--){var U=M(N);if(U==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var Db={name:"flip",enabled:!0,phase:"main",fn:vb,requiresIfExists:["offset"],data:{_skip:!1}};function Sg(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Cg(t){return[ht,Gt,Yt,mt].some(function(e){return t[e]>=0})}function kb(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=qs(e,{elementContext:"reference"}),l=qs(e,{altBoundary:!0}),a=Sg(s,r),u=Sg(l,i,o),c=Cg(a),f=Cg(u);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var Sb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kb};function Cb(t,e,n){var r=On(t),i=[mt,ht].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[mt,Gt].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function Eb(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=N1.reduce(function(c,f){return c[f]=Cb(f,e.rects,o),c},{}),l=s[e.placement],a=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var xb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Eb};function wb(t){var e=t.state,n=t.name;e.modifiersData[n]=z1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ab={name:"popperOffsets",enabled:!0,phase:"read",fn:wb,data:{}};function bb(t){return t==="x"?"y":"x"}function Ob(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,a=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,h=n.tetherOffset,m=h===void 0?0:h,k=qs(e,{boundary:a,rootBoundary:u,padding:f,altBoundary:c}),g=On(e.placement),v=wo(e.placement),D=!v,y=Bp(g),A=bb(y),E=e.modifiersData.popperOffsets,T=e.rects.reference,C=e.rects.popper,_=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),Z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(!!E){if(o){var ee,ie=y==="y"?ht:mt,I=y==="y"?Yt:Gt,x=y==="y"?"height":"width",F=E[y],S=F+k[ie],w=F-k[I],b=p?-C[x]/2:0,M=v===So?T[x]:C[x],N=v===So?-C[x]:-T[x],U=e.elements.arrow,W=p&&U?Ip(U):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:I1(),J=Y[ie],me=Y[I],oe=ms(0,T[x],W[x]),ce=D?T[x]/2-b-oe-J-L.mainAxis:M-oe-J-L.mainAxis,kt=D?-T[x]/2+b+oe+me+L.mainAxis:N+oe+me+L.mainAxis,Zt=e.elements.arrow&&rl(e.elements.arrow),Ft=Zt?y==="y"?Zt.clientTop||0:Zt.clientLeft||0:0,Ne=(ee=Z==null?void 0:Z[y])!=null?ee:0,ue=F+ce-Ne-Ft,Pt=F+kt-Ne,Oe=ms(p?za(S,ue):S,F,p?oi(w,Pt):w);E[y]=Oe,H[y]=Oe-F}if(l){var Pn,lt=y==="x"?ht:mt,Rr=y==="x"?Yt:Gt,en=E[A],It=A==="y"?"height":"width",Fo=en+k[lt],Lr=en-k[Rr],Po=[ht,mt].indexOf(g)!==-1,al=(Pn=Z==null?void 0:Z[A])!=null?Pn:0,ul=Po?Fo:en-T[It]-C[It]-al+L.altAxis,cl=Po?en+T[It]+C[It]-al-L.altAxis:Lr,fl=p&&Po?XA(ul,en,cl):ms(p?ul:Fo,en,p?cl:Lr);E[A]=fl,H[A]=fl-en}e.modifiersData[r]=H}}var Tb={name:"preventOverflow",enabled:!0,phase:"main",fn:Ob,requiresIfExists:["offset"]};function Mb(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Nb(t){return t===hn(t)||!Kt(t)?Rp(t):Mb(t)}function Fb(t){var e=t.getBoundingClientRect(),n=Eo(e.width)/t.offsetWidth||1,r=Eo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Pb(t,e,n){n===void 0&&(n=!1);var r=Kt(e),i=Kt(e)&&Fb(e),o=Ir(e),s=xo(t,i),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Nn(e)!=="body"||zp(o))&&(l=Nb(e)),Kt(e)?(a=xo(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=Lp(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function Ib(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var a=e.get(l);a&&i(a)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Bb(t){var e=Ib(t);return qA.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Rb(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Lb(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Eg={placement:"bottom",modifiers:[],strategy:"absolute"};function xg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zb(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Eg:i;return function(l,a,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eg,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},o,c.options,v),c.scrollParents={reference:Co(l)?gs(l):l.contextElement?gs(l.contextElement):[],popper:gs(a)};var D=Bb(Lb([].concat(r,c.options.modifiers)));return c.orderedModifiers=D.filter(function(y){return y.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var g=c.elements,v=g.reference,D=g.popper;if(!!xg(v,D)){c.rects={reference:Pb(v,rl(D),c.options.strategy==="fixed"),popper:Ip(D)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var A=c.orderedModifiers[y],E=A.fn,T=A.options,C=T===void 0?{}:T,_=A.name;typeof E=="function"&&(c=E({state:c,options:C,name:_,instance:p})||c)}}}},update:Rb(function(){return new Promise(function(k){p.forceUpdate(),k(c)})}),destroy:function(){m(),d=!0}};if(!xg(l,a))return p;p.setOptions(u).then(function(k){!d&&u.onFirstUpdate&&u.onFirstUpdate(k)});function h(){c.orderedModifiers.forEach(function(k){var g=k.name,v=k.options,D=v===void 0?{}:v,y=k.effect;if(typeof y=="function"){var A=y({state:c,name:g,instance:p,options:D}),E=function(){};f.push(A||E)}})}function m(){f.forEach(function(k){return k()}),f=[]}return p}}var _b=[ab,Ab,sb,F1,xb,Db,Tb,nb,Sb],$b=zb({defaultModifiers:_b}),Vb="tippy-box",_1="tippy-content",jb="tippy-backdrop",$1="tippy-arrow",V1="tippy-svg-arrow",jr={passive:!0,capture:!0},j1=function(){return document.body};function Lc(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function _p(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function H1(t,e){return typeof t=="function"?t.apply(void 0,e):t}function wg(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Hb(t){return t.split(/\s+/).filter(Boolean)}function Oi(t){return[].concat(t)}function Ag(t,e){t.indexOf(e)===-1&&t.push(e)}function Ub(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Wb(t){return t.split("-")[0]}function _a(t){return[].slice.call(t)}function bg(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ys(){return document.createElement("div")}function Lu(t){return["Element","Fragment"].some(function(e){return _p(t,e)})}function Kb(t){return _p(t,"NodeList")}function qb(t){return _p(t,"MouseEvent")}function Jb(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Qb(t){return Lu(t)?[t]:Kb(t)?_a(t):Array.isArray(t)?t:_a(document.querySelectorAll(t))}function zc(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Og(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Yb(t){var e,n=Oi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Gb(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,a=l.interactiveBorder,u=Wb(s.placement),c=s.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,h=u==="left"?c.right.x:0,m=o.top-r+f>a,k=r-o.bottom-d>a,g=o.left-n+p>a,v=n-o.right-h>a;return m||k||g||v})}function _c(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Tg(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Dn={isTouch:!1},Mg=0;function Xb(){Dn.isTouch||(Dn.isTouch=!0,window.performance&&document.addEventListener("mousemove",U1))}function U1(){var t=performance.now();t-Mg<20&&(Dn.isTouch=!1,document.removeEventListener("mousemove",U1)),Mg=t}function Zb(){var t=document.activeElement;if(Jb(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function eO(){document.addEventListener("touchstart",Xb,jr),window.addEventListener("blur",Zb)}var tO=typeof window!="undefined"&&typeof document!="undefined",nO=tO?!!window.msCrypto:!1,rO={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},iO={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},un=Object.assign({appendTo:j1,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rO,iO),oO=Object.keys(un),sO=function(e){var n=Object.keys(e);n.forEach(function(r){un[r]=e[r]})};function W1(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=t[o]!==void 0?t[o]:(l=un[o])!=null?l:s}return r},{});return Object.assign({},t,n)}function lO(t,e){var n=e?Object.keys(W1(Object.assign({},un,{plugins:e}))):oO,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Ng(t,e){var n=Object.assign({},e,{content:H1(e.content,[t])},e.ignoreAttributes?{}:lO(t,e.plugins));return n.aria=Object.assign({},un.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var aO=function(){return"innerHTML"};function sd(t,e){t[aO()]=e}function Fg(t){var e=ys();return t===!0?e.className=$1:(e.className=V1,Lu(t)?e.appendChild(t):sd(e,t)),e}function Pg(t,e){Lu(e.content)?(sd(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?sd(t,e.content):t.textContent=e.content)}function ld(t){var e=t.firstElementChild,n=_a(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(_1)}),arrow:n.find(function(r){return r.classList.contains($1)||r.classList.contains(V1)}),backdrop:n.find(function(r){return r.classList.contains(jb)})}}function K1(t){var e=ys(),n=ys();n.className=Vb,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ys();r.className=_1,r.setAttribute("data-state","hidden"),Pg(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var l=ld(e),a=l.box,u=l.content,c=l.arrow;s.theme?a.setAttribute("data-theme",s.theme):a.removeAttribute("data-theme"),typeof s.animation=="string"?a.setAttribute("data-animation",s.animation):a.removeAttribute("data-animation"),s.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?a.setAttribute("role",s.role):a.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Pg(u,t.props),s.arrow?c?o.arrow!==s.arrow&&(a.removeChild(c),a.appendChild(Fg(s.arrow))):a.appendChild(Fg(s.arrow)):c&&a.removeChild(c)}return{popper:e,onUpdate:i}}K1.$$tippy=!0;var uO=1,Bl=[],$c=[];function cO(t,e){var n=Ng(t,Object.assign({},un,W1(bg(e)))),r,i,o,s=!1,l=!1,a=!1,u=!1,c,f,d,p=[],h=wg(ue,n.interactiveDebounce),m,k=uO++,g=null,v=Ub(n.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:k,reference:t,popper:ys(),popperInstance:g,props:n,state:D,plugins:v,clearDelayTimeouts:ul,setProps:cl,setContent:fl,show:TD,hide:MD,hideWithInteractivity:ND,enable:Po,disable:al,unmount:FD,destroy:PD};if(!n.render)return y;var A=n.render(y),E=A.popper,T=A.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+y.id,y.popper=E,t._tippy=y,E._tippy=y;var C=v.map(function(O){return O.fn(y)}),_=t.hasAttribute("aria-expanded");return Zt(),b(),F(),S("onCreate",[y]),n.showOnCreate&&Fo(),E.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&ie().addEventListener("mousemove",h)}),y;function L(){var O=y.props.touch;return Array.isArray(O)?O:[O,0]}function Z(){return L()[0]==="hold"}function H(){var O;return!!((O=y.props.render)!=null&&O.$$tippy)}function ee(){return m||t}function ie(){var O=ee().parentNode;return O?Yb(O):document}function I(){return ld(E)}function x(O){return y.state.isMounted&&!y.state.isVisible||Dn.isTouch||c&&c.type==="focus"?0:Lc(y.props.delay,O?0:1,un.delay)}function F(O){O===void 0&&(O=!1),E.style.pointerEvents=y.props.interactive&&!O?"":"none",E.style.zIndex=""+y.props.zIndex}function S(O,K,G){if(G===void 0&&(G=!0),C.forEach(function(le){le[O]&&le[O].apply(le,K)}),G){var fe;(fe=y.props)[O].apply(fe,K)}}function w(){var O=y.props.aria;if(!!O.content){var K="aria-"+O.content,G=E.id,fe=Oi(y.props.triggerTarget||t);fe.forEach(function(le){var Ze=le.getAttribute(K);if(y.state.isVisible)le.setAttribute(K,Ze?Ze+" "+G:G);else{var Bt=Ze&&Ze.replace(G,"").trim();Bt?le.setAttribute(K,Bt):le.removeAttribute(K)}})}}function b(){if(!(_||!y.props.aria.expanded)){var O=Oi(y.props.triggerTarget||t);O.forEach(function(K){y.props.interactive?K.setAttribute("aria-expanded",y.state.isVisible&&K===ee()?"true":"false"):K.removeAttribute("aria-expanded")})}}function M(){ie().removeEventListener("mousemove",h),Bl=Bl.filter(function(O){return O!==h})}function N(O){if(!(Dn.isTouch&&(a||O.type==="mousedown"))){var K=O.composedPath&&O.composedPath()[0]||O.target;if(!(y.props.interactive&&Tg(E,K))){if(Oi(y.props.triggerTarget||t).some(function(G){return Tg(G,K)})){if(Dn.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else S("onClickOutside",[y,O]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),l=!0,setTimeout(function(){l=!1}),y.state.isMounted||J())}}}function U(){a=!0}function W(){a=!1}function Y(){var O=ie();O.addEventListener("mousedown",N,!0),O.addEventListener("touchend",N,jr),O.addEventListener("touchstart",W,jr),O.addEventListener("touchmove",U,jr)}function J(){var O=ie();O.removeEventListener("mousedown",N,!0),O.removeEventListener("touchend",N,jr),O.removeEventListener("touchstart",W,jr),O.removeEventListener("touchmove",U,jr)}function me(O,K){ce(O,function(){!y.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&K()})}function oe(O,K){ce(O,K)}function ce(O,K){var G=I().box;function fe(le){le.target===G&&(_c(G,"remove",fe),K())}if(O===0)return K();_c(G,"remove",f),_c(G,"add",fe),f=fe}function kt(O,K,G){G===void 0&&(G=!1);var fe=Oi(y.props.triggerTarget||t);fe.forEach(function(le){le.addEventListener(O,K,G),p.push({node:le,eventType:O,handler:K,options:G})})}function Zt(){Z()&&(kt("touchstart",Ne,{passive:!0}),kt("touchend",Pt,{passive:!0})),Hb(y.props.trigger).forEach(function(O){if(O!=="manual")switch(kt(O,Ne),O){case"mouseenter":kt("mouseleave",Pt);break;case"focus":kt(nO?"focusout":"blur",Oe);break;case"focusin":kt("focusout",Oe);break}})}function Ft(){p.forEach(function(O){var K=O.node,G=O.eventType,fe=O.handler,le=O.options;K.removeEventListener(G,fe,le)}),p=[]}function Ne(O){var K,G=!1;if(!(!y.state.isEnabled||Pn(O)||l)){var fe=((K=c)==null?void 0:K.type)==="focus";c=O,m=O.currentTarget,b(),!y.state.isVisible&&qb(O)&&Bl.forEach(function(le){return le(O)}),O.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||s)&&y.props.hideOnClick!==!1&&y.state.isVisible?G=!0:Fo(O),O.type==="click"&&(s=!G),G&&!fe&&Lr(O)}}function ue(O){var K=O.target,G=ee().contains(K)||E.contains(K);if(!(O.type==="mousemove"&&G)){var fe=It().concat(E).map(function(le){var Ze,Bt=le._tippy,Ci=(Ze=Bt.popperInstance)==null?void 0:Ze.state;return Ci?{popperRect:le.getBoundingClientRect(),popperState:Ci,props:n}:null}).filter(Boolean);Gb(fe,O)&&(M(),Lr(O))}}function Pt(O){var K=Pn(O)||y.props.trigger.indexOf("click")>=0&&s;if(!K){if(y.props.interactive){y.hideWithInteractivity(O);return}Lr(O)}}function Oe(O){y.props.trigger.indexOf("focusin")<0&&O.target!==ee()||y.props.interactive&&O.relatedTarget&&E.contains(O.relatedTarget)||Lr(O)}function Pn(O){return Dn.isTouch?Z()!==O.type.indexOf("touch")>=0:!1}function lt(){Rr();var O=y.props,K=O.popperOptions,G=O.placement,fe=O.offset,le=O.getReferenceClientRect,Ze=O.moveTransition,Bt=H()?ld(E).arrow:null,Ci=le?{getBoundingClientRect:le,contextElement:le.contextElement||ee()}:t,ih={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(dl){var Ei=dl.state;if(H()){var ID=I(),Hu=ID.box;["placement","reference-hidden","escaped"].forEach(function(pl){pl==="placement"?Hu.setAttribute("data-placement",Ei.placement):Ei.attributes.popper["data-popper-"+pl]?Hu.setAttribute("data-"+pl,""):Hu.removeAttribute("data-"+pl)}),Ei.attributes.popper={}}}},zr=[{name:"offset",options:{offset:fe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ze}},ih];H()&&Bt&&zr.push({name:"arrow",options:{element:Bt,padding:3}}),zr.push.apply(zr,(K==null?void 0:K.modifiers)||[]),y.popperInstance=$b(Ci,E,Object.assign({},K,{placement:G,onFirstUpdate:d,modifiers:zr}))}function Rr(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function en(){var O=y.props.appendTo,K,G=ee();y.props.interactive&&O===j1||O==="parent"?K=G.parentNode:K=H1(O,[G]),K.contains(E)||K.appendChild(E),y.state.isMounted=!0,lt()}function It(){return _a(E.querySelectorAll("[data-tippy-root]"))}function Fo(O){y.clearDelayTimeouts(),O&&S("onTrigger",[y,O]),Y();var K=x(!0),G=L(),fe=G[0],le=G[1];Dn.isTouch&&fe==="hold"&&le&&(K=le),K?r=setTimeout(function(){y.show()},K):y.show()}function Lr(O){if(y.clearDelayTimeouts(),S("onUntrigger",[y,O]),!y.state.isVisible){J();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(O.type)>=0&&s)){var K=x(!1);K?i=setTimeout(function(){y.state.isVisible&&y.hide()},K):o=requestAnimationFrame(function(){y.hide()})}}function Po(){y.state.isEnabled=!0}function al(){y.hide(),y.state.isEnabled=!1}function ul(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function cl(O){if(!y.state.isDestroyed){S("onBeforeUpdate",[y,O]),Ft();var K=y.props,G=Ng(t,Object.assign({},K,bg(O),{ignoreAttributes:!0}));y.props=G,Zt(),K.interactiveDebounce!==G.interactiveDebounce&&(M(),h=wg(ue,G.interactiveDebounce)),K.triggerTarget&&!G.triggerTarget?Oi(K.triggerTarget).forEach(function(fe){fe.removeAttribute("aria-expanded")}):G.triggerTarget&&t.removeAttribute("aria-expanded"),b(),F(),T&&T(K,G),y.popperInstance&&(lt(),It().forEach(function(fe){requestAnimationFrame(fe._tippy.popperInstance.forceUpdate)})),S("onAfterUpdate",[y,O])}}function fl(O){y.setProps({content:O})}function TD(){var O=y.state.isVisible,K=y.state.isDestroyed,G=!y.state.isEnabled,fe=Dn.isTouch&&!y.props.touch,le=Lc(y.props.duration,0,un.duration);if(!(O||K||G||fe)&&!ee().hasAttribute("disabled")&&(S("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,H()&&(E.style.visibility="visible"),F(),Y(),y.state.isMounted||(E.style.transition="none"),H()){var Ze=I(),Bt=Ze.box,Ci=Ze.content;zc([Bt,Ci],0)}d=function(){var zr;if(!(!y.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=y.props.moveTransition,H()&&y.props.animation){var ju=I(),dl=ju.box,Ei=ju.content;zc([dl,Ei],le),Og([dl,Ei],"visible")}w(),b(),Ag($c,y),(zr=y.popperInstance)==null||zr.forceUpdate(),S("onMount",[y]),y.props.animation&&H()&&oe(le,function(){y.state.isShown=!0,S("onShown",[y])})}},en()}}function MD(){var O=!y.state.isVisible,K=y.state.isDestroyed,G=!y.state.isEnabled,fe=Lc(y.props.duration,1,un.duration);if(!(O||K||G)&&(S("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,u=!1,s=!1,H()&&(E.style.visibility="hidden"),M(),J(),F(!0),H()){var le=I(),Ze=le.box,Bt=le.content;y.props.animation&&(zc([Ze,Bt],fe),Og([Ze,Bt],"hidden"))}w(),b(),y.props.animation?H()&&me(fe,y.unmount):y.unmount()}}function ND(O){ie().addEventListener("mousemove",h),Ag(Bl,h),h(O)}function FD(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Rr(),It().forEach(function(O){O._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),$c=$c.filter(function(O){return O!==y}),y.state.isMounted=!1,S("onHidden",[y]))}function PD(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),Ft(),delete t._tippy,y.state.isDestroyed=!0,S("onDestroy",[y]))}}function il(t,e){e===void 0&&(e={});var n=un.plugins.concat(e.plugins||[]);eO();var r=Object.assign({},e,{plugins:n}),i=Qb(t),o=i.reduce(function(s,l){var a=l&&cO(l,r);return a&&s.push(a),s},[]);return Lu(t)?o[0]:o}il.defaultProps=un;il.setDefaultProps=sO;il.currentInput=Dn;Object.assign({},F1,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});il.setDefaultProps({render:K1});class fO{constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l,from:a,to:u})=>{const{doc:c,selection:f}=l,{empty:d}=f,p=!c.textBetween(a,u).length&&E1(l.selection);return!(!s.hasFocus()||d||p)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=il(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,i,o;const{state:s,composing:l}=e,{doc:a,selection:u}=s,c=n&&n.doc.eq(a)&&n.selection.eq(u);if(l||c)return;this.createTooltip();const{ranges:f}=u,d=Math.min(...f.map(m=>m.$from.pos)),p=Math.max(...f.map(m=>m.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:n,from:d,to:p}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(NA(s.selection)){const m=e.nodeDOM(d);if(m)return m.getBoundingClientRect()}return FA(e,d,p)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const q1=t=>new Xe({key:typeof t.pluginKey=="string"?new Xt(t.pluginKey):t.pluginKey,view:e=>new fO({view:e,...t})});Dt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[q1({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var zu={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO=Ae.exports,pO=Symbol.for("react.element"),hO=Symbol.for("react.fragment"),mO=Object.prototype.hasOwnProperty,gO=dO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yO={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mO.call(e,r)&&!yO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pO,type:t,key:o,ref:s,props:i,_owner:gO.current}}_u.Fragment=hO;_u.jsx=J1;_u.jsxs=J1;zu.exports=_u;const ne=zu.exports.jsx,at=zu.exports.jsxs,$p=zu.exports.Fragment,Q1=t=>{const[e,n]=Ae.exports.useState(null);return Ae.exports.useEffect(()=>{if(!e||t.editor.isDestroyed)return;const{pluginKey:r="bubbleMenu",editor:i,tippyOptions:o={},shouldShow:s=null}=t,l=q1({pluginKey:r,editor:i,element:e,tippyOptions:o,shouldShow:s});return i.registerPlugin(l),()=>i.unregisterPlugin(r)},[t.editor,e]),ne("div",{ref:n,className:t.className,style:{visibility:"hidden"},children:t.children})};class vO extends wA{constructor(){super(...arguments),this.contentComponent=null}}const DO=({renderers:t})=>ne($p,{children:Array.from(t).map(([e,n])=>eC.createPortal(n.reactElement,n.element,e))});class kO extends lo.Component{constructor(e){super(e),this.editorContentRef=lo.createRef(),this.state={renderers:new Map}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews()}}componentWillUnmount(){const{editor:e}=this.props;if(!e||(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return at($p,{children:[ne("div",{ref:this.editorContentRef,...n}),ne(DO,{renderers:this.state.renderers})]})}}const SO=lo.memo(kO),Y1=Ae.exports.createContext({onDragStart:void 0}),G1=()=>Ae.exports.useContext(Y1),CO=t=>{const e=t.as||"div",{nodeViewContentRef:n}=G1();return ne(e,{...t,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...t.style}})},EO=lo.forwardRef((t,e)=>{const{onDragStart:n}=G1(),r=t.as||"div";return ne(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function xO(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function wO(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class AO{constructor(e,{editor:n,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.render()}render(){var e;const n=this.component,r=this.props;(xO(n)||wO(n))&&(r.ref=i=>{this.ref=i}),this.reactElement=ne(n,{...r}),!((e=this.editor)===null||e===void 0)&&e.contentComponent&&this.editor.contentComponent.setState({renderers:this.editor.contentComponent.state.renderers.set(this.id,this)})}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;if(!((e=this.editor)===null||e===void 0)&&e.contentComponent){const{renderers:n}=this.editor.contentComponent.state;n.delete(this.id),this.editor.contentComponent.setState({renderers:n})}}}class bO extends IA{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const o=s=>s.charAt(0).toUpperCase()+s.substring(1);this.component.displayName=o(this.extension.name)}const n=o=>{const s=this.component,l=this.onDragStart.bind(this),a=u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&u.appendChild(this.contentDOMElement)};return ne(Y1.Provider,{value:{onDragStart:l,nodeViewContentRef:a},children:ne(s,{...o})})};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:i=""}=this.options;this.renderer=new AO(n,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${i}`.trim()})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,n){const r=i=>{this.renderer.updateProps(i)};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function OO(t,e){return n=>n.editor.contentComponent?new bO(t,n,e):{}}function TO(){const[,t]=Ae.exports.useState(0);return()=>t(e=>e+1)}const MO=(t={},e=[])=>{const[n,r]=Ae.exports.useState(null),i=TO();return Ae.exports.useEffect(()=>{let o=!0;const s=new vO(t);return r(s),s.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o&&i()})})}),()=>{s.destroy(),o=!1}},e),n};const NO=Qt.create({name:"text",group:"inline"}),FO=/^\s*([-+*])\s$/,PO=Qt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[T1({find:FO,type:this.type})]}}),IO=/^(\d+)\.\s$/,BO=Qt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",vt(this.options.HTMLAttributes,n),0]:["ol",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[T1({find:IO,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),RO=Qt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",vt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,zO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,_O=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,$O=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,VO=Ar.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ws({find:LO,type:this.type}),Ws({find:_O,type:this.type})]},addPasteRules(){return[ko({find:zO,type:this.type}),ko({find:$O,type:this.type})]}}),jO=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,HO=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,UO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,WO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,KO=Ar.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ws({find:jO,type:this.type}),Ws({find:UO,type:this.type})]},addPasteRules(){return[ko({find:HO,type:this.type}),ko({find:WO,type:this.type})]}}),qO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,JO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,QO=Ar.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ws({find:qO,type:this.type})]},addPasteRules(){return[ko({find:JO,type:this.type})]}}),YO=Ar.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function GO(t={}){return new Xe({view(e){return new XO(e,t)}})}class XO{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let s=e.nodeBefore,l=e.nodeAfter;if(s||l){let a=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),u=s?a.bottom:a.top;s&&l&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:a.left,right:a.right,top:u-this.width/2,bottom:u+this.width/2}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let s=r.getBoundingClientRect();i=s.left-r.scrollLeft,o=s.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=mp(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const ZO=Dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[GO(this.options)]}}),br=typeof navigator!="undefined"?navigator:null,Ig=typeof document!="undefined"?document:null,Br=br&&br.userAgent||"",ad=/Edge\/(\d+)/.exec(Br),X1=/MSIE \d/.exec(Br),ud=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Br),ol=!!(X1||ud||ad),Z1=X1?document.documentMode:ud?+ud[1]:ad?+ad[1]:0,$u=!ol&&/gecko\/(\d+)/i.test(Br);$u&&+(/Firefox\/(\d+)/.exec(Br)||[0,0])[1];const cd=!ol&&/Chrome\/(\d+)/.exec(Br),Di=!!cd,eT=cd?+cd[1]:0,ki=!ol&&!!br&&/Apple Computer/.test(br.vendor),Vp=ki&&(/Mobile\/\w+/.test(Br)||!!br&&br.maxTouchPoints>2),zt=Vp||(br?/Mac/.test(br.platform):!1),sl=/Android \d/.test(Br),jp=!!Ig&&"webkitFontSmoothing"in Ig.documentElement.style,tT=jp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,ll=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},nT=function(t,e,n,r){return n&&(Bg(t,e,n,r,-1)||Bg(t,e,n,r,1))},rT=/^(img|br|input|textarea|hr)$/i;function Bg(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$a(t))){let o=t.parentNode;if(!o||o.nodeType!=1||oT(t)||rT.test(t.nodeName)||t.contentEditable=="false")return!1;e=ll(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?$a(t):0}else return!1}}function $a(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function iT(t,e,n){for(let r=e==0,i=e==$a(t);r||i;){if(t==n)return!0;let o=ll(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==$a(t)}}function oT(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const eD=function(t){let e=t.isCollapsed;return e&&Di&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function tD(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function sT(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(eD(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&$.isSelectable(c)&&i.parent&&!(c.isInline&&iT(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new $(s==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=rD(t,a,l,c)}return u}function nD(t){return t.editable?t.hasFocus():cT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Hp(t,e=!1){let n=t.state.selection;if(uT(t,n),!!nD(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Di){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&nT(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)aT(t);else{let{anchor:r,head:i}=n,o,s;Rg&&!(n instanceof Q)&&(n.$from.parent.inlineContent||(o=Lg(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Lg(t,n.to))),t.docView.setSelection(r,i,t.root,e),Rg&&(o&&zg(o),s&&zg(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&lT(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Rg=ki||Di&&eT<63;function Lg(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(ki&&i&&i.contentEditable=="false")return Vc(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Vc(i);if(o)return Vc(o)}}function Vc(t){return t.contentEditable="true",ki&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function zg(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function lT(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nD(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function aT(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ll(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ol&&Z1<=11&&(r.disabled=!0,r.disabled=!1)}function uT(t,e){if(e instanceof $){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(_g(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else _g(t)}function _g(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function rD(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Q.between(e,n,r)}function cT(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function fd(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&X.findFrom(o,e)}function Ur(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function $g(t,e,n){let r=t.state.selection;if(r instanceof Q){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=fd(t.state,e);return i&&i instanceof $?Ur(t,i):!1}else if(!(zt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?$.isSelectable(o)?Ur(t,new $(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):jp?Ur(t,new Q(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof $&&r.node.isInline)return Ur(t,new Q(e>0?r.$to:r.$from));{let i=fd(t.state,e);return i?Ur(t,i):!1}}}function Va(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vs(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function jc(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for($u&&n.nodeType==1&&r<Va(n)&&vs(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(vs(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(iD(n))break;{let l=n.previousSibling;for(;l&&vs(l);)i=n.parentNode,o=ll(l),l=l.previousSibling;if(l)n=l,r=Va(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?dd(t,e,n,r):i&&dd(t,e,i,o)}function Hc(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Va(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(vs(l))o=n,s=++r;else break}else{if(iD(n))break;{let l=n.nextSibling;for(;l&&vs(l);)o=l.parentNode,s=ll(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Va(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&dd(t,e,o,s)}function iD(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function dd(t,e,n,r){if(eD(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Hp(t)},50)}function Vg(t,e,n){let r=t.state.selection;if(r instanceof Q&&!r.empty||n.indexOf("s")>-1||zt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=fd(t.state,e);if(s&&s instanceof $)return Ur(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Wt?X.near(s,e):X.findFrom(s,e);return l?Ur(t,l):!1}return!1}function jg(t,e){if(!(t.state.selection instanceof Q))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Hg(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function fT(t){if(!ki||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Hg(t,r,"true"),setTimeout(()=>Hg(t,r,"false"),20)}return!1}function dT(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function pT(t,e){let n=e.keyCode,r=dT(e);return n==8||zt&&n==72&&r=="c"?jg(t,-1)||jc(t):n==46||zt&&n==68&&r=="c"?jg(t,1)||Hc(t):n==13||n==27?!0:n==37||zt&&n==66&&r=="c"?$g(t,-1,r)||jc(t):n==39||zt&&n==70&&r=="c"?$g(t,1,r)||Hc(t):n==38||zt&&n==80&&r=="c"?Vg(t,-1,r)||jc(t):n==40||zt&&n==78&&r=="c"?fT(t)||Vg(t,1,r)||Hc(t):r==(zt?"m":"c")&&(n==66||n==73||n==89||n==90)}function oD(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||jt.fromSchema(t.state.schema),l=fD(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=cD[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function sD(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r)}),o)return e?new z(P.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):z.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r));if(f)l=f;else{let d=i.marks(),{schema:p}=t.state,h=jt.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let k=s.appendChild(document.createElement("p"));m&&k.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n)}),s=gT(n),jp&&yT(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0&&s.firstChild;f--)s=s.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||hi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!hT.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=vT(Ug(l,+c[1],+c[2]),c[4]);else if(l=z.maxOpen(mT(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let p=l.content.firstChild;f<l.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=Ug(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l)}),l}const hT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mT(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&aD(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=uD(s[s.length-1],o.length));let c=lD(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return P.from(s)}return t}function lD(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,P.from(t));return t}function aD(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=aD(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(P.from(lD(n,t,i+1))))}}function uD(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uD(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(P.empty,!0);return t.copy(n.append(r))}function pd(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=pd(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(P.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Ug(t,e,n){return e<t.openStart&&(t=new z(pd(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new z(pd(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const cD={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Wg=null;function fD(){return Wg||(Wg=document.implementation.createHTMLDocument("title"))}function gT(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fD().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&cD[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function yT(t){let e=t.querySelectorAll(Di?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function vT(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=P.from(a.create(r[l+1],i)),o++,s++}return new z(i,o,s)}const Fn={};let Tt={};function Xr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}Tt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pD(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(sl&&Di&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Vp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,tD(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||pT(t,n)?n.preventDefault():Xr(t,"key")};Tt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Tt.keypress=(t,e)=>{let n=e;if(pD(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||zt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Q)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Vu(t){return{left:t.clientX,top:t.clientY}}function DT(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Up(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function so(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function kT(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&$.isSelectable(r)?(so(t,new $(n),"pointer"),!0):!1}function ST(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof $&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if($.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(so(t,$.create(t.state.doc,i),"pointer"),!0):!1}function CT(t,e,n,r,i){return Up(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?ST(t,n):kT(t,n))}function ET(t,e,n,r){return Up(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function xT(t,e,n,r){return Up(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||wT(t,n,r)}function wT(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(so(t,Q.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)so(t,Q.create(r,l+1,l+1+s.content.size),"pointer");else if($.isSelectable(s))so(t,$.create(r,l),"pointer");else continue;return!0}}function Wp(t){return ja(t)}const dD=zt?"metaKey":"ctrlKey";Fn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Wp(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&DT(n,t.input.lastClick)&&!n[dD]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Vu(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new AT(t,s,n,!!r)):(o=="doubleClick"?ET:xT)(t,s.pos,s.inside,n)?n.preventDefault():Xr(t,"pointer"))};class AT{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[dD],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof $&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$u&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hp(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Vu(e))),this.allowDefault||!n?Xr(this.view,"pointer"):CT(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ki&&this.mightDrag&&!this.mightDrag.node.isAtom||Di&&!(this.view.state.selection instanceof Q)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(so(this.view,X.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Xr(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Xr(this.view,"pointer"),e.buttons==0&&this.done()}}Fn.touchdown=t=>{Wp(t),Xr(t,"pointer")};Fn.contextmenu=t=>Wp(t);function pD(t,e){return t.composing?!0:ki&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const bT=sl?5e3:-1;Tt.compositionstart=Tt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ja(t,!0),t.markCursor=null;else if(ja(t),$u&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}hD(t,bT)};Tt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,hD(t,20))};function hD(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ja(t),e))}function OT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=TT());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function TT(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ja(t,e=!1){if(!(sl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),OT(t),e||t.docView&&t.docView.dirty){let n=sT(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function MT(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ao=ol&&Z1<15||Vp&&tT<604;Fn.copy=Tt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Ao?null:n.clipboardData,s=r.content(),{dom:l,text:a}=oD(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):MT(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function NT(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function FT(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?hd(t,r.value,null,e):hd(t,r.textContent,r.innerHTML,e)},50)}function hd(t,e,n,r){let i=sD(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||z.empty)))return!0;if(!i)return!1;let o=NT(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Tt.paste=(t,e)=>{let n=e;if(t.composing&&!sl)return;let r=Ao?null:n.clipboardData;r&&hd(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():FT(t,n)};class PT{constructor(e,n){this.slice=e,this.move=n}}const mD=zt?"altKey":"ctrlKey";Fn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Vu(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof $?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection($.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection($.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:a}=oD(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Ao?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ao||n.dataTransfer.setData("text/plain",a),t.dragging=new PT(s,!n[mD])};Fn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Tt.dragover=Tt.dragenter=(t,e)=>e.preventDefault();Tt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Vu(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s)}):s=sD(t,n.dataTransfer.getData(Ao?"Text":"text/plain"),Ao?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[mD]);if(t.someProp("handleDrop",h=>h(t,n,s||z.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?mp(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&$.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new $(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((m,k,g,v)=>h=v),u.setSelection(rD(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Fn.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Hp(t)},20))};Fn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Fn.beforeinput=(t,e)=>{if(Di&&sl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,tD(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Tt)Fn[t]=Tt[t];function Js(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Kp{constructor(e,n){this.toDOM=e,this.spec=n||si,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new xn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Kp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Js(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Dr{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new xn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Dr&&Js(this.attrs,e.attrs)&&Js(this.spec,e.spec)}static is(e){return e.type instanceof Dr}destroy(){}}class qp{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new xn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof qp&&Js(this.attrs,e.attrs)&&Js(this.spec,e.spec)}destroy(){}}class xn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new xn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new xn(e,e,new Kp(n,r))}static inline(e,n,r,i){return new xn(e,n,new Dr(r,i))}static node(e,n,r,i){return new xn(e,n,new qp(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Dr}}const Ti=[],si={};class Je{constructor(e,n){this.local=e.length?e:Ti,this.children=n.length?n:Ti}static create(e,n){return n.length?Ha(n,e,0,si):et}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==et||e.maps.length==0?this:this.mapInner(e,n,0,0,r||si)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?IT(this.children,s||[],e,n,r,i,o):s?new Je(s.sort(li),Ti):et}add(e,n){return n.length?this==et?Je.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(!!(c=yD(n,l,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Ha(c,l,u+1,si)),o+=3}});let s=gD(o?vD(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Je(s.length?this.local.concat(s).sort(li):this.local,i||this.children)}remove(e){return e.length==0||this==et?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=et?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Je(i,r):et}forChild(e,n){if(this==et)return this;if(n.isLeaf)return Je.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof Dr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Je(i.sort(li),Ti);return r?new Wr([l,r]):l}return r||et}eq(e){if(this==e)return!0;if(!(e instanceof Je)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Jp(this.localsInner(e))}localsInner(e){if(this==et)return Ti;if(e.inlineContent||!this.local.some(Dr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Dr||n.push(this.local[r]);return n}}Je.empty=new Je([],[]);Je.removeOverlap=Jp;const et=Je.empty;class Wr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,si));return Wr.from(r)}forChild(e,n){if(n.isLeaf)return Je.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=et&&(o instanceof Wr?r=r.concat(o.members):r.push(o))}return Wr.from(r)}eq(e){if(!(e instanceof Wr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Jp(r?n:n.sort(li)):Ti}static from(e){switch(e.length){case 0:return et;case 1:return e[0];default:return new Wr(e)}}}function IT(t,e,n,r,i,o,s){let l=t.slice(),a=(c,f,d,p)=>{for(let h=0;h<l.length;h+=3){let m=l[h+1],k;if(m<0||c>m+o)continue;let g=l[h]+o;f>=g?l[h+1]=c<=g?-2:-1:d>=i&&(k=p-d-(f-c))&&(l[h]+=k,l[h+1]+=k)}};for(let c=0;c<n.maps.length;c++)n.maps[c].forEach(a);let u=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){u=!0,l[c+1]=-1;continue}let f=n.map(t[c]+o),d=f-i;if(d<0||d>=r.content.size){u=!0;continue}let p=n.map(t[c+1]+o,-1),h=p-i,{index:m,offset:k}=r.content.findIndex(d),g=r.maybeChild(m);if(g&&k==d&&k+g.nodeSize==h){let v=l[c+2].mapInner(n,g,f+1,t[c]+o+1,s);v!=et?(l[c]=d,l[c+1]=h,l[c+2]=v):(l[c+1]=-2,u=!0)}else u=!0}if(u){let c=BT(l,t,e,n,i,o,s),f=Ha(c,r,0,s);e=f.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let h=f.children[d];for(;p<l.length&&l[p]<h;)p+=3;l.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new Je(e.sort(li),l)}function gD(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new xn(i.from+e,i.to+e,i.type))}return n}function BT(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function yD(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function vD(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ha(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=yD(t,l,a+n);if(u){o=!0;let c=Ha(u,l,n+a+1,r);c!=et&&i.push(a,a+l.nodeSize,c)}});let s=gD(o?vD(t):t,-n).sort(li);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Je(s,i):et}function li(t,e){return t.from-e.from||t.to-e.to}function Jp(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Kg(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Kg(e,i,r.copy(o.from,r.to)));break}}}return e}function Kg(t,e,n){for(;e<t.length&&li(n,t[e])>0;)e++;t.splice(e,0,n)}class xe extends X{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return xe.valid(r)?new xe(r):X.near(r)}content(){return z.empty}eq(e){return e instanceof xe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new xe(e.resolve(n.pos))}getBookmark(){return new Qp(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!RT(e)||!LT(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&xe.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(xe.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!$.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(xe.valid(l))return l}return null}}}xe.prototype.visible=!1;xe.findFrom=xe.findGapCursorFrom;X.jsonID("gapcursor",xe);class Qp{constructor(e){this.pos=e}map(e){return new Qp(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return xe.valid(n)?new xe(n):X.near(n)}}function RT(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function LT(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function zT(){return new Xe({props:{decorations:jT,createSelectionBetween(t,e,n){return e.pos==n.pos&&xe.valid(n)?new xe(n):null},handleClick:$T,handleKeyDown:_T,handleDOMEvents:{beforeinput:VT}}})}const _T=d1({ArrowLeft:Rl("horiz",-1),ArrowRight:Rl("horiz",1),ArrowUp:Rl("vert",-1),ArrowDown:Rl("vert",1)});function Rl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof Q){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=xe.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new xe(u))),!0):!1}}function $T(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!xe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&$.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new xe(r))),!0)}function VT(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof xe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=P.empty;for(let s=r.length-1;s>=0;s--)i=P.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new z(i,0,0));return o.setSelection(Q.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function jT(t){if(!(t.selection instanceof xe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Je.create(t.doc,[xn.widget(t.selection.head,e,{key:"gapcursor"})])}const HT=Dt.create({name:"gapCursor",addProseMirrorPlugins(){return[zT()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=te(j(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Ua=200,je=function(){};je.prototype.append=function(e){return e.length?(e=je.from(e),!this.length&&e||e.length<Ua&&this.leafAppend(e)||this.length<Ua&&e.leafPrepend(this)||this.appendInner(e)):this};je.prototype.prepend=function(e){return e.length?je.from(e).append(this):this};je.prototype.appendInner=function(e){return new UT(this,e)};je.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?je.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};je.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};je.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};je.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};je.from=function(e){return e instanceof je?e:e&&e.length?new DD(e):je.empty};var DD=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ua)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ua)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(je);je.empty=new DD([]);var UT=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(je),kD=je;const WT=500;class an{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new yn(f.map));let p=f.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new yn(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(o)):f.selection,a=new an(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new yn(e.mapping.maps[c],f,n),p;(p=a&&a.merge(d))&&(d=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(d),n&&(s++,n=void 0),i||(a=d)}let u=s-r.depth;return u>qT&&(l=KT(l,u),s-=u),new an(l.append(o),s)}remapping(e,n){let r=new ro;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new an(this.items.append(e.map(n=>new yn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let a=n;this.items.forEach(d=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(d.step){let m=e.steps[p].invert(e.docs[p]),k=d.selection&&d.selection.map(o.slice(a+1,p));k&&l++,r.push(new yn(h,m,k))}else r.push(new yn(h))},i);let u=[];for(let d=n;d<s;d++)u.push(new yn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new an(c,l);return f.emptyItemCount()>WT&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new yn(u.invert(),a,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new an(kD.from(i.reverse()),o)}}an.empty=new an(kD.empty,0);function KT(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class yn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new yn(n.getMap().invert(),n,this.selection)}}}class tr{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const qT=20;function JT(t,e,n,r){let i=n.getMeta(kr),o;if(i)return i.historyState;n.getMeta(YT)&&(t=new tr(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(kr))return s.getMeta(kr).redo?new tr(t.done.addTransform(n,void 0,r,Xl(e)),t.undone,qg(n.mapping.maps[n.steps.length-1]),t.prevTime):new tr(t.done,t.undone.addTransform(n,void 0,r,Xl(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!QT(n,t.prevRanges)),a=s?Uc(t.prevRanges,n.mapping):qg(n.mapping.maps[n.steps.length-1]);return new tr(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Xl(e)),an.empty,a,n.time)}else return(o=n.getMeta("rebased"))?new tr(t.done.rebased(n,o),t.undone.rebased(n,o),Uc(t.prevRanges,n.mapping),t.prevTime):new tr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Uc(t.prevRanges,n.mapping),t.prevTime)}function QT(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function qg(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Uc(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function SD(t,e,n,r){let i=Xl(e),o=kr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new tr(r?a:s.remaining,r?s.remaining:a,null,0);n(s.transform.setSelection(l).setMeta(kr,{redo:r,historyState:u}).scrollIntoView())}let Wc=!1,Jg=null;function Xl(t){let e=t.plugins;if(Jg!=e){Wc=!1,Jg=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Wc=!0;break}}return Wc}const kr=new Xt("history"),YT=new Xt("closeHistory");function GT(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xe({key:kr,state:{init(){return new tr(an.empty,an.empty,null,0)},apply(e,n,r){return JT(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?CD:r=="historyRedo"?ED:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const CD=(t,e)=>{let n=kr.getState(t);return!n||n.done.eventCount==0?!1:(e&&SD(n,t,e,!1),!0)},ED=(t,e)=>{let n=kr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&SD(n,t,e,!0),!0)},XT=Dt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>CD(t,e),redo:()=>({state:t,dispatch:e})=>ED(t,e)}},addProseMirrorPlugins(){return[GT(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),ZT=Qt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",vt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const f=a.filter(d=>l.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eM=Qt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>PA({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),tM=Qt.create({name:"doc",topNode:!0,content:"draggableBlock+"}),nM=()=>at(EO,{as:"div",className:"flex gap-2 group w-full",children:[ne("section",{className:"flex mt-2 pt-[2px]","aria-label":"left-menu",contentEditable:"false",children:ne("div",{className:"btn btn-xs text-lg btn-ghost p-0 opacity-0 group-hover:opacity-100 transition duration-200 ease-in-out cursor-grab active:cursor-grabbing",contentEditable:!1,draggable:!0,"data-drag-handle":!0,children:ne("i",{className:"i-ic-baseline-drag-indicator"})})}),ne(CO,{})]}),rM=Qt.create({name:"draggableBlock",priority:1e3,group:"block",content:"block",draggable:!0,selectable:!0,inline:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'article[data-type="draggable-block"]'}]},renderHTML({HTMLAttributes:t}){return["article",vt(t,{"data-type":"draggable-block"}),0]},addCommands(){return{setDraggableBlock:()=>({chain:t,state:e,commands:n})=>{const{selection:{$head:r,from:i,to:o},doc:s}=e;if(r.node(r.depth-1).type.name!=="draggableBlock")return!1;let a=-1;s.descendants((f,d)=>{if(a!==-1)return!1;const[p,h]=[d,d+f.nodeSize];return p<=i&&o<=h&&(a=h),!1});let u;const c=s.textBetween(i,a);return c&&(u={type:"text",text:c}),t().focus("start").insertContentAt({from:i,to:a},{type:this.name,content:[{type:"paragraph",content:u?[u]:[]}]}).focus(i+3).run()}}},addNodeView(){return OO(nM)},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setDraggableBlock(),Enter:()=>this.editor.commands.setDraggableBlock()}}});function Yp(t){this.j={},this.jr=[],this.jd=null,this.t=t}Yp.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,i=this.j[e];if(i)return r&&(i.t=r),i;i=he();var o=Wa(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[e]=i,i}};var he=function(){return new Yp},q=function(e){return new Yp(e)},R=function(e,n,r){e.j[n]||(e.j[n]=r)},Fe=function(e,n,r){e.jr.push([n,r])},Wa=function(e,n){var r=e.j[n];if(r)return r;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(n))return s}return e.jd},re=function(e,n,r){for(var i=0;i<n.length;i++)R(e,n[i],r)},iM=function(e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];R(e,i,o)}},_r=function(e,n,r,i){for(var o=0,s=n.length,l;o<s&&(l=e.j[n[o]]);)e=l,o++;if(o>=s)return[];for(;o<s-1;)l=i(),R(e,n[o],l),e=l,o++;R(e,n[s-1],r)},rn="DOMAIN",Rn="LOCALHOST",vn="TLD",Rt="NUM",bo="PROTOCOL",Gp="MAILTO",xD="WS",Xp="NL",Ki="OPENBRACE",Ds="OPENBRACKET",ks="OPENANGLEBRACKET",Ss="OPENPAREN",Kr="CLOSEBRACE",qi="CLOSEBRACKET",Ji="CLOSEANGLEBRACKET",Qi="CLOSEPAREN",Ka="AMPERSAND",qa="APOSTROPHE",Ja="ASTERISK",Yi="AT",Qa="BACKSLASH",Ya="BACKTICK",Ga="CARET",Cs="COLON",Zp="COMMA",Xa="DOLLAR",nr="DOT",Za="EQUALS",eh="EXCLAMATION",eu="HYPHEN",tu="PERCENT",nu="PIPE",ru="PLUS",iu="POUND",ou="QUERY",th="QUOTE",nh="SEMI",zn="SLASH",su="TILDE",lu="UNDERSCORE",au="SYM",oM=Object.freeze({__proto__:null,DOMAIN:rn,LOCALHOST:Rn,TLD:vn,NUM:Rt,PROTOCOL:bo,MAILTO:Gp,WS:xD,NL:Xp,OPENBRACE:Ki,OPENBRACKET:Ds,OPENANGLEBRACKET:ks,OPENPAREN:Ss,CLOSEBRACE:Kr,CLOSEBRACKET:qi,CLOSEANGLEBRACKET:Ji,CLOSEPAREN:Qi,AMPERSAND:Ka,APOSTROPHE:qa,ASTERISK:Ja,AT:Yi,BACKSLASH:Qa,BACKTICK:Ya,CARET:Ga,COLON:Cs,COMMA:Zp,DOLLAR:Xa,DOT:nr,EQUALS:Za,EXCLAMATION:eh,HYPHEN:eu,PERCENT:tu,PIPE:nu,PLUS:ru,POUND:iu,QUERY:ou,QUOTE:th,SEMI:nh,SLASH:zn,TILDE:su,UNDERSCORE:lu,SYM:au}),Qg="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Uo=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Wo=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Ko=/\uFE0F/,qo=/\d/,Yg=/\s/;function sM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=he(),n=q(Rt),r=q(rn),i=he(),o=q(xD),s=[[qo,r],[Uo,r],[Wo,r],[Ko,r]],l=function(){var y=q(rn);return y.j={"-":i},y.jr=[].concat(s),y},a=function(y){var A=l();return A.t=y,A};iM(e,[["'",q(qa)],["{",q(Ki)],["[",q(Ds)],["<",q(ks)],["(",q(Ss)],["}",q(Kr)],["]",q(qi)],[">",q(Ji)],[")",q(Qi)],["&",q(Ka)],["*",q(Ja)],["@",q(Yi)],["`",q(Ya)],["^",q(Ga)],[":",q(Cs)],[",",q(Zp)],["$",q(Xa)],[".",q(nr)],["=",q(Za)],["!",q(eh)],["-",q(eu)],["%",q(tu)],["|",q(nu)],["+",q(ru)],["#",q(iu)],["?",q(ou)],['"',q(th)],["/",q(zn)],[";",q(nh)],["~",q(su)],["_",q(lu)],["\\",q(Qa)]]),R(e,`
`,q(Xp)),Fe(e,Yg,o),R(o,`
`,he()),Fe(o,Yg,o);for(var u=0;u<Qg.length;u++)_r(e,Qg[u],a(vn),l);var c=l(),f=l(),d=l(),p=l();_r(e,"file",c,l),_r(e,"ftp",f,l),_r(e,"http",d,l),_r(e,"mailto",p,l);var h=l(),m=q(bo),k=q(Gp);R(f,"s",h),R(f,":",m),R(d,"s",h),R(d,":",m),R(c,":",m),R(h,":",m),R(p,":",k);for(var g=l(),v=0;v<t.length;v++)_r(e,t[v],g,l);return R(g,":",m),_r(e,"localhost",a(Rn),l),Fe(e,qo,n),Fe(e,Uo,r),Fe(e,Wo,r),Fe(e,Ko,r),Fe(n,qo,n),Fe(n,Uo,r),Fe(n,Wo,r),Fe(n,Ko,r),R(n,"-",i),R(r,"-",i),R(i,"-",i),Fe(r,qo,r),Fe(r,Uo,r),Fe(r,Wo,r),Fe(r,Ko,r),Fe(i,qo,r),Fe(i,Uo,r),Fe(i,Wo,r),Fe(i,Ko,r),e.jd=q(au),e}function lM(t,e){for(var n=aM(e.replace(/[A-Z]/g,function(p){return p.toLowerCase()})),r=n.length,i=[],o=0,s=0;s<r;){for(var l=t,a=null,u=0,c=null,f=-1,d=-1;s<r&&(a=Wa(l,n[s]));)l=a,l.accepts()?(f=0,d=0,c=l):f>=0&&(f+=n[s].length,d++),u+=n[s].length,o+=n[s].length,s++;o-=f,s-=d,u-=f,i.push({t:c.t,v:e.substr(o-u,u),s:o-u,e:o})}return i}function aM(t){for(var e=[],n=t.length,r=0;r<n;){var i=t.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Zl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zl=function(e){return typeof e}:Zl=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}var Ke={defaultProtocol:"http",events:null,format:Gg,formatHref:Gg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function uM(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:Ke.defaultProtocol,this.events="events"in t?t.events:Ke.events,this.format="format"in t?t.format:Ke.format,this.formatHref="formatHref"in t?t.formatHref:Ke.formatHref,this.nl2br="nl2br"in t?t.nl2br:Ke.nl2br,this.tagName="tagName"in t?t.tagName:Ke.tagName,this.target="target"in t?t.target:Ke.target,this.rel="rel"in t?t.rel:Ke.rel,this.validate="validate"in t?t.validate:Ke.validate,this.truncate="truncate"in t?t.truncate:Ke.truncate,this.className="className"in t?t.className:Ke.className,this.attributes=t.attributes||Ke.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:Ke.ignoreTags,n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}uM.prototype={resolve:function(e){var n=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",n,e),tagName:this.get("tagName",n,e),className:this.get("className",n,e),target:this.get("target",n,e),rel:this.get("rel",n,e),events:this.getObject("events",n,e),attributes:this.getObject("attributes",n,e),truncate:this.get("truncate",n,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,r){var i=this[e];if(!i)return i;var o;switch(Zl(i)){case"function":return i(n,r.t);case"object":return o=r.t in i?i[r.t]:Ke[e],typeof o=="function"?o(n,r.t):o}return i},getObject:function(e,n,r){var i=this[e];return typeof i=="function"?i(n,r.t):i}};function Gg(t){return t}function cM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r.constructor=e,e.prototype=r,e}function uu(){}uu.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ke.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Si(t,e){function n(r,i){this.t=t,this.v=r,this.tk=i}return cM(uu,n,e),n}var wD=Si("email",{isLink:!0}),md=Si("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),gd=Si("text"),AD=Si("nl"),Xn=Si("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ke.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],s=0;n[s].t===bo;)r=!0,o.push(n[s].v),s++;for(;n[s].t===zn;)i=!0,o.push(n[s].v),s++;for(;s<n.length;s++)o.push(n[s].v);return o=o.join(""),r||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===bo}}),fM=Object.freeze({__proto__:null,MultiToken:uu,Base:uu,createTokenClass:Si,MailtoEmail:wD,Email:md,Text:gd,Nl:AD,Url:Xn});function dM(){var t=he(),e=he(),n=he(),r=he(),i=he(),o=he(),s=he(),l=q(Xn),a=he(),u=q(Xn),c=q(Xn),f=he(),d=he(),p=he(),h=he(),m=he(),k=q(Xn),g=q(Xn),v=q(Xn),D=q(Xn),y=he(),A=he(),E=he(),T=he(),C=he(),_=he(),L=q(md),Z=he(),H=q(md),ee=q(wD),ie=he(),I=he(),x=he(),F=he(),S=q(AD);R(t,Xp,S),R(t,bo,e),R(t,Gp,n),R(e,zn,r),R(r,zn,i),R(t,vn,o),R(t,rn,o),R(t,Rn,l),R(t,Rt,o),R(i,vn,c),R(i,rn,c),R(i,Rt,c),R(i,Rn,c),R(o,nr,s),R(C,nr,_),R(s,vn,l),R(s,rn,o),R(s,Rt,o),R(s,Rn,o),R(_,vn,L),R(_,rn,C),R(_,Rt,C),R(_,Rn,C),R(l,nr,s),R(L,nr,_),R(l,Cs,a),R(l,zn,c),R(a,Rt,u),R(u,zn,c),R(L,Cs,Z),R(Z,Rt,H);var w=[Ka,Ja,Yi,Qa,Ya,Ga,Xa,rn,Za,eu,Rn,Rt,tu,nu,ru,iu,bo,zn,au,su,vn,lu],b=[qa,Ji,Kr,qi,Qi,Cs,Zp,nr,eh,ks,Ki,Ds,Ss,ou,th,nh];R(c,Ki,d),R(c,Ds,p),R(c,ks,h),R(c,Ss,m),R(f,Ki,d),R(f,Ds,p),R(f,ks,h),R(f,Ss,m),R(d,Kr,c),R(p,qi,c),R(h,Ji,c),R(m,Qi,c),R(k,Kr,c),R(g,qi,c),R(v,Ji,c),R(D,Qi,c),R(y,Kr,c),R(A,qi,c),R(E,Ji,c),R(T,Qi,c),re(d,w,k),re(p,w,g),re(h,w,v),re(m,w,D),re(d,b,y),re(p,b,A),re(h,b,E),re(m,b,T),re(k,w,k),re(g,w,g),re(v,w,v),re(D,w,D),re(k,b,k),re(g,b,g),re(v,b,v),re(D,b,D),re(y,w,k),re(A,w,g),re(E,w,v),re(T,w,D),re(y,b,y),re(A,b,A),re(E,b,E),re(T,b,T),re(c,w,c),re(f,w,c),re(c,b,f),re(f,b,f),R(n,vn,ee),R(n,rn,ee),R(n,Rt,ee),R(n,Rn,ee),re(ee,w,ee),re(ee,b,ie),re(ie,w,ee),re(ie,b,ie);var M=[Ka,qa,Ja,Qa,Ya,Ga,Kr,Xa,rn,Za,eu,Rt,Ki,tu,nu,ru,iu,ou,zn,au,su,vn,lu];return re(o,M,I),R(o,Yi,x),re(l,M,I),R(l,Yi,x),re(s,M,I),re(I,M,I),R(I,Yi,x),R(I,nr,F),re(F,M,I),R(x,vn,C),R(x,rn,C),R(x,Rt,C),R(x,Rn,L),t}function pM(t,e,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var l=t,a=null,u=null,c=0,f=null,d=-1;i<r&&!(a=Wa(l,n[i].t));)s.push(n[i++]);for(;i<r&&(u=a||Wa(l,n[i].t));)a=null,l=u,l.accepts()?(d=0,f=l):d>=0&&d++,i++,c++;if(d<0)for(var p=i-c;p<i;p++)s.push(n[p]);else{s.length>0&&(o.push(Kc(gd,e,s)),s=[]),i-=d,c-=d;var h=f.t,m=n.slice(i-c,i);o.push(Kc(h,e,m))}}return s.length>0&&o.push(Kc(gd,e,s)),o}function Kc(t,e,n){var r=n[0].s,i=n[n.length-1].e,o=e.substr(r,i-r);return new t(o,n)}var hM=typeof console!="undefined"&&console&&console.warn||function(){},Ct={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function mM(t){if(Ct.initialized&&hM('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Ct.customProtocols.push(t)}function gM(){Ct.scanner={start:sM(Ct.customProtocols),tokens:oM},Ct.parser={start:dM(),tokens:fM};for(var t={createTokenClass:Si},e=0;e<Ct.pluginQueue.length;e++)Ct.pluginQueue[e][1]({scanner:Ct.scanner,parser:Ct.parser,utils:t});Ct.initialized=!0}function bD(t){return Ct.initialized||gM(),pM(Ct.parser.start,t,lM(Ct.scanner.start,t))}function rh(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=bD(t),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!e||o.t===e)&&r.push(o.toObject())}return r}function yd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=bD(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function yM(t){return new Xe({key:new Xt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=AA(n.doc,[...e]),{mapping:a}=l;if(MA(l).forEach(({oldRange:c,newRange:f})=>{La(c.from,c.to,n.doc).filter(d=>d.mark.type===t.type).forEach(d=>{const p=a.map(d.from),h=a.map(d.to),m=La(p,h,r.doc).filter(A=>A.mark.type===t.type);if(!m.length)return;const k=m[0],g=n.doc.textBetween(d.from,d.to,void 0," "),v=r.doc.textBetween(k.from,k.to,void 0," "),D=yd(g),y=yd(v);D&&!y&&s.removeMark(k.from,k.to,t.type)}),bA(r.doc,f,d=>d.isTextblock).forEach(d=>{const p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");rh(p).filter(h=>h.isLink).filter(h=>t.validate?t.validate(h.value):!0).map(h=>({...h,from:d.pos+h.start+1,to:d.pos+h.end+1})).filter(h=>{const m=f.from>=h.from&&f.from<=h.to,k=f.to>=h.from&&f.to<=h.to;return m||k}).forEach(h=>{s.addMark(h.from,h.to,t.type.create({href:h.href}))})})}),!!s.steps.length)return s}})}function vM(t){return new Xe({key:new Xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s;const i=O1(e.state,t.type.name);return((s=r.target)==null?void 0:s.closest("a"))&&i.href?(window.open(i.href,i.target),!0):!1}}})}function DM(t){return new Xe({key:new Xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const a=rh(l).find(u=>u.isLink&&u.value===l);return!l||!a?!1:(t.editor.commands.setMark(t.type,{href:a.href}),!0)}}})}const kM=Ar.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(mM)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0,onModKPressed:()=>!1}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ko({find:t=>rh(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addKeyboardShortcuts(){return{"Mod-k":()=>{var t,e;return(e=(t=this.options).onModKPressed)==null||e.call(t),!1}}},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(yM({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(vM({type:this.type})),this.options.linkOnPaste&&t.push(DM({editor:this.editor,type:this.type})),t}}),SM=Qt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}}}),CM=({openLinkModal:t})=>[tM,rM,SM,NO,ZO.configure({width:2,class:"notitap-dropcursor",color:"skyblue"}),HT,XT,ZT,VO,KO,QO,YO,kM.configure({autolink:!0,linkOnPaste:!0,protocols:["mailto"],openOnClick:!1,onModKPressed:t}),RO,PO,BO,eM.configure({levels:[1,2,3]})],EM=[{tooltip:"Bold",action:t=>t.chain().focus().toggleBold().run(),isActive:t=>t.isActive("bold"),iconClass:"i-ri-bold"},{tooltip:"Italic",action:t=>t.chain().focus().toggleItalic().run(),isActive:t=>t.isActive("italic"),iconClass:"i-ri-italic"}],xM=({editor:t})=>ne(Q1,{editor:t,className:"shadow bg-white rounded-sm overflow-hidden border border-slate-200 box-border",tippyOptions:{duration:200,animation:"shift-toward-subtle",moveTransition:"transform 0.2s ease-in-out"},children:EM.map(e=>ne("div",{className:"tooltip","data-tip":e.tooltip,children:ne("button",{type:"button",className:"btn btn-xs btn-ghost rounded-none h-8 px-2",onClick:()=>e.action(t),children:ne("i",{className:`${e.iconClass} scale-150`})})},e.tooltip))});var OD={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&r.push(l)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var a in o)e.call(o,a)&&o[a]&&r.push(a);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(OD);var wM=OD.exports;const AM=({editor:t})=>{const[e,n]=Ae.exports.useState(!1),[r,i]=Ae.exports.useState(""),[o,s]=Ae.exports.useState(!0);Ae.exports.useEffect(()=>{s(yd(r))},[r]);const l=()=>{var f;const u=t.isActive("link");if(n(u),!u){i("");return}const c=(f=t.getAttributes("link"))==null?void 0:f.href;i(c||"")};Ae.exports.useEffect(()=>(t.on("selectionUpdate",l),()=>{t.off("selectionUpdate",l)}));const a=()=>{!o||!e||t.chain().focus().extendMarkRange("link").setLink({href:r}).run()};return ne(Q1,{editor:t,className:`
        shadow bg-white rounded-sm overflow-hidden border border-slate-200 box-border p-2
      `,tippyOptions:{placement:"bottom",duration:200,animation:"shift-toward-subtle",moveTransition:"transform 0.2s ease-in-out"},shouldShow:({editor:u})=>u.isActive("link"),children:ne("input",{type:"url",placeholder:"https://example.com",className:wM("input input-bordered w-[30ch] input-sm",o?"":"input-error"),value:r,onChange:u=>i(u.target.value.trim()),onKeyDown:u=>u.code==="Enter"&&a()})})},qc=t=>(t.stopPropagation(),t.preventDefault(),t);lo.forwardRef(({items:t,command:e},n)=>{const[r,i]=Ae.exports.useState(0);Ae.exports.useEffect(()=>{i(0)},[t]),Ae.exports.useImperativeHandle(n,()=>({onKeyDown:({event:u})=>u.key==="ArrowUp"?(qc(u),o(),!0):u.key==="ArrowDown"?(qc(u),s(),!0):u.key==="Enter"?(qc(u),l(),!0):!1}));const o=()=>{i((r+t.length-1)%t.length)},s=()=>{i((r+1)%t.length)},l=()=>{a(r)},a=u=>{const c=t[u];c&&setTimeout(()=>e(c))};return ne("div",{className:"items hide-scrollbar min-w-[20rem]",children:t.length?ne($p,{children:t.map((u,c)=>at("button",{type:"button",className:`
                  item
                  ${c===r?"is-selected":""} 
                `,onClick:()=>a(c),onMouseEnter:()=>i(c),onKeyDown:f=>f.code==="Enter"&&a(c),children:[at("span",{className:"flex items-center gap-2",children:[ne("span",{className:"h-10 w-10 flex items-center justify-center bg-white border border-slate-400 rounded",children:ne("i",{className:`${u.iconClass} scale-150`})}),ne("span",{dangerouslySetInnerHTML:{__html:u.highlightedTitle||u.title}})]}),u.shortcut&&ne("code",{children:u.shortcut})]},u.title))}):ne("div",{className:"item",children:" No result "})})});function bM(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,l=BA(n),a=new RegExp(`\\s${l}$`),u=o?"^":"",c=r?new RegExp(`${u}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${u}(?:^)?${l}[^\\s${l}]*`,"gm"),f=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!f)return null;const d=s.pos-f.length,p=Array.from(f.matchAll(c)).pop();if(!p||p.input===void 0||p.index===void 0)return null;const h=p.input.slice(Math.max(0,p.index-1),p.index),m=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(h);if(i!==null&&!m)return null;const k=d+p.index;let g=k+p[0].length;return r&&a.test(f.slice(g-1,g+1))&&(p[0]+=" ",g+=1),k<s.pos&&g>=s.pos?{range:{from:k,to:g},query:p[0].slice(n.length),text:p[0]}:null}const OM=new Xt("suggestion");function TM({pluginKey:t=OM,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:a=()=>null,items:u=()=>[],render:c=()=>({}),allow:f=()=>!0}){let d;const p=c==null?void 0:c(),h=new Xe({key:t,view(){return{update:async(m,k)=>{var g,v,D,y,A,E,T;const C=(g=this.key)===null||g===void 0?void 0:g.getState(k),_=(v=this.key)===null||v===void 0?void 0:v.getState(m.state),L=C.active&&_.active&&C.range.from!==_.range.from,Z=!C.active&&_.active,H=C.active&&!_.active,ee=!Z&&!H&&C.query!==_.query,ie=Z||L,I=ee&&!L,x=H||L;if(!ie&&!I&&!x)return;const F=x&&!ie?C:_,S=document.querySelector(`[data-decoration-id="${F.decorationId}"]`);d={editor:e,range:F.range,query:F.query,text:F.text,items:[],command:w=>{a({editor:e,range:F.range,props:w})},decorationNode:S,clientRect:S?()=>{var w;const{decorationId:b}=(w=this.key)===null||w===void 0?void 0:w.getState(e.state),M=document.querySelector(`[data-decoration-id="${b}"]`);return(M==null?void 0:M.getBoundingClientRect())||null}:null},ie&&((D=p==null?void 0:p.onBeforeStart)===null||D===void 0||D.call(p,d)),I&&((y=p==null?void 0:p.onBeforeUpdate)===null||y===void 0||y.call(p,d)),(I||ie)&&(d.items=await u({editor:e,query:F.query})),x&&((A=p==null?void 0:p.onExit)===null||A===void 0||A.call(p,d)),I&&((E=p==null?void 0:p.onUpdate)===null||E===void 0||E.call(p,d)),ie&&((T=p==null?void 0:p.onStart)===null||T===void 0||T.call(p,d))},destroy:()=>{var m;!d||(m=p==null?void 0:p.onExit)===null||m===void 0||m.call(p,d)}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(m,k,g,v){const{isEditable:D}=e,{composing:y}=e.view,{selection:A}=m,{empty:E,from:T}=A,C={...k};if(C.composing=y,D&&(E||e.view.composing)){(T<k.range.from||T>k.range.to)&&!y&&!k.composing&&(C.active=!1);const _=bM({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:A.$from}),L=`id_${Math.floor(Math.random()*4294967295)}`;_&&f({editor:e,state:v,range:_.range})?(C.active=!0,C.decorationId=k.decorationId?k.decorationId:L,C.range=_.range,C.query=_.query,C.text=_.text):C.active=!1}else C.active=!1;return C.active||(C.decorationId=null,C.range={from:0,to:0},C.query=null,C.text=null),C}},props:{handleKeyDown(m,k){var g;const{active:v,range:D}=h.getState(m.state);return v&&((g=p==null?void 0:p.onKeyDown)===null||g===void 0?void 0:g.call(p,{view:m,event:k,range:D}))||!1},decorations(m){const{active:k,range:g,decorationId:v}=h.getState(m);return k?_e.create(m.doc,[Ht.inline(g.from,g.to,{nodeName:s,class:l,"data-decoration-id":v})]):null}}});return h}Dt.create({name:"slash-commands",addOptions(){return{suggestions:{char:"/",command:({editor:t,range:e,props:n})=>n.command({editor:t,range:e})}}},addProseMirrorPlugins(){return[TM({editor:this.editor,...this.options.suggestions})]}});var MM={exports:{}};(function(t){((e,n)=>{t.exports?t.exports=n():e.fuzzysort=n()})(RD,e=>{var n=(I,x)=>{if(I=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!I||!x)return H;var F=c(I);C(x)||(x=u(x));var S=F.bitflags;return(S&x._bitflags)!==S?H:d(F,x)},r=(I,x,F)=>{if(I=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:x?x[0]:H}];if(!I)return F&&F.all?f(I,x,F):Z;var S=c(I),w=S.bitflags;S.containsSpace;var b=F&&F.threshold||L,M=F&&F.limit||_,N=0,U=0,W=x.length;if(F&&F.key)for(var Y=F.key,J=0;J<W;++J){var me=x[J],oe=T(me,Y);if(!!oe&&(C(oe)||(oe=u(oe)),(w&oe._bitflags)===w)){var ce=d(S,oe);ce!==H&&(ce.score<b||(ce={target:ce.target,_targetLower:"",_targetLowerCodes:H,_nextBeginningIndexes:H,_bitflags:0,score:ce.score,_indexes:ce._indexes,obj:me},N<M?(ie.add(ce),++N):(++U,ce.score>ie.peek().score&&ie.replaceTop(ce))))}}else if(F&&F.keys)for(var kt=F.scoreFn||E,Zt=F.keys,Ft=Zt.length,J=0;J<W;++J){for(var me=x[J],Ne=new Array(Ft),ue=0;ue<Ft;++ue){var Y=Zt[ue],oe=T(me,Y);if(!oe){Ne[ue]=H;continue}C(oe)||(oe=u(oe)),(w&oe._bitflags)!==w?Ne[ue]=H:Ne[ue]=d(S,oe)}Ne.obj=me;var Pt=kt(Ne);Pt!==H&&(Pt<b||(Ne.score=Pt,N<M?(ie.add(Ne),++N):(++U,Pt>ie.peek().score&&ie.replaceTop(Ne))))}else for(var J=0;J<W;++J){var oe=x[J];if(!!oe&&(C(oe)||(oe=u(oe)),(w&oe._bitflags)===w)){var ce=d(S,oe);ce!==H&&(ce.score<b||(N<M?(ie.add(ce),++N):(++U,ce.score>ie.peek().score&&ie.replaceTop(ce))))}}if(N===0)return Z;for(var Oe=new Array(N),J=N-1;J>=0;--J)Oe[J]=ie.poll();return Oe.total=N+U,Oe},i=(I,x,F)=>{if(typeof x=="function")return o(I,x);if(I===H)return H;x===void 0&&(x="<b>"),F===void 0&&(F="</b>");var S="",w=0,b=!1,M=I.target,N=M.length,U=I._indexes;U=U.slice(0,U.len).sort((J,me)=>J-me);for(var W=0;W<N;++W){var Y=M[W];if(U[w]===W){if(++w,b||(b=!0,S+=x),w===U.length){S+=Y+F+M.substr(W+1);break}}else b&&(b=!1,S+=F);S+=Y}return S},o=(W,x)=>{if(W===H)return H;var F=W.target,S=F.length,w=W._indexes;w=w.slice(0,w.len).sort((me,oe)=>me-oe);for(var b="",M=0,N=0,U=!1,W=[],Y=0;Y<S;++Y){var J=F[Y];if(w[N]===Y){if(++N,U||(U=!0,W.push(b),b=""),N===w.length){b+=J,W.push(x(b,M++)),b="",W.push(F.substr(Y+1));break}}else U&&(U=!1,W.push(x(b,M++)),b="");b+=J}return W},s=I=>I._indexes.slice(0,I._indexes.len).sort((x,F)=>x-F),l=I=>{typeof I!="string"&&(I="");var x=h(I);return{target:I,_targetLower:x._lower,_targetLowerCodes:x.lowerCodes,_nextBeginningIndexes:H,_bitflags:x.bitflags,score:H,_indexes:[0],obj:H}},a=I=>{typeof I!="string"&&(I=""),I=I.trim();var x=h(I),F=[];if(x.containsSpace){var S=I.split(/\s+/);S=[...new Set(S)];for(var w=0;w<S.length;w++)if(S[w]!==""){var b=h(S[w]);F.push({lowerCodes:b.lowerCodes,_lower:S[w].toLowerCase(),containsSpace:!1})}}return{lowerCodes:x.lowerCodes,bitflags:x.bitflags,containsSpace:x.containsSpace,_lower:x._lower,spaceSearches:F}},u=I=>{if(I.length>999)return l(I);var x=v.get(I);return x!==void 0||(x=l(I),v.set(I,x)),x},c=I=>{if(I.length>999)return a(I);var x=D.get(I);return x!==void 0||(x=a(I),D.set(I,x)),x},f=(I,x,F)=>{var S=[];S.total=x.length;var w=F&&F.limit||_;if(F&&F.key)for(var b=0;b<x.length;b++){var M=x[b],N=T(M,F.key);if(!!N){C(N)||(N=u(N)),N.score=L,N._indexes.len=0;var U=N;if(U={target:U.target,_targetLower:"",_targetLowerCodes:H,_nextBeginningIndexes:H,_bitflags:0,score:N.score,_indexes:H,obj:M},S.push(U),S.length>=w)return S}}else if(F&&F.keys)for(var b=0;b<x.length;b++){for(var M=x[b],W=new Array(F.keys.length),Y=F.keys.length-1;Y>=0;--Y){var N=T(M,F.keys[Y]);if(!N){W[Y]=H;continue}C(N)||(N=u(N)),N.score=L,N._indexes.len=0,W[Y]=N}if(W.obj=M,W.score=L,S.push(W),S.length>=w)return S}else for(var b=0;b<x.length;b++){var N=x[b];if(!!N&&(C(N)||(N=u(N)),N.score=L,N._indexes.len=0,S.push(N),S.length>=w))return S}return S},d=(I,x)=>{if(I.containsSpace)return p(I,x);for(var F=I._lower,S=I.lowerCodes,w=S[0],b=x._targetLowerCodes,M=S.length,N=b.length,J=0,U=0,W=0;;){var Y=w===b[U];if(Y){if(y[W++]=U,++J,J===M)break;w=S[J]}if(++U,U>=N)return H}var J=0,me=!1,oe=0,ce=x._nextBeginningIndexes;ce===H&&(ce=x._nextBeginningIndexes=k(x.target)),U=y[0]===0?0:ce[y[0]-1];var kt=0;if(U!==N)for(;;)if(U>=N){if(J<=0||(++kt,kt>200))break;--J;var Zt=A[--oe];U=ce[Zt]}else{var Y=S[J]===b[U];if(Y){if(A[oe++]=U,++J,J===M){me=!0;break}++U}else U=ce[U]}var Ft=x._targetLower.indexOf(F,y[0]),Ne=~Ft;if(Ne&&!me)for(var ue=0;ue<W;++ue)y[ue]=Ft+ue;var Pt=!1;Ne&&(Pt=x._nextBeginningIndexes[Ft-1]===Ft);{if(me)var Oe=A,Pn=oe;else var Oe=y,Pn=W;for(var lt=0,Rr=0,ue=1;ue<M;++ue)Oe[ue]-Oe[ue-1]!==1&&(lt-=Oe[ue],++Rr);var en=Oe[M-1]-Oe[0]-(M-1);if(lt-=(12+en)*Rr,Oe[0]!==0&&(lt-=Oe[0]*10),!me)lt*=1e3;else{for(var It=1,ue=ce[0];ue<N;ue=ce[ue])++It;It>24&&(lt*=(It-24)*10)}Ne&&(lt/=10),Pt&&(lt/=10),lt-=N-M,x.score=lt;for(var ue=0;ue<Pn;++ue)x._indexes[ue]=Oe[ue];return x._indexes.len=Pn,x}},p=(I,x)=>{for(var F=new Set,S=0,w=H,b=0,M=I.spaceSearches,W=0;W<M.length;++W){var N=M[W];if(w=d(N,x),w===H)return H;S+=w.score,w._indexes[0]<b&&(S-=b-w._indexes[0]),b=w._indexes[0];for(var U=0;U<w._indexes.len;++U)F.add(w._indexes[U])}w.score=S;var W=0;for(let Y of F)w._indexes[W++]=Y;return w._indexes.len=W,w},h=I=>{for(var x=I.length,F=I.toLowerCase(),S=[],w=0,b=!1,M=0;M<x;++M){var N=S[M]=F.charCodeAt(M);if(N===32){b=!0;continue}var U=N>=97&&N<=122?N-97:N>=48&&N<=57?26:N<=127?30:31;w|=1<<U}return{lowerCodes:S,bitflags:w,containsSpace:b,_lower:F}},m=I=>{for(var x=I.length,F=[],S=0,w=!1,b=!1,M=0;M<x;++M){var N=I.charCodeAt(M),U=N>=65&&N<=90,W=U||N>=97&&N<=122||N>=48&&N<=57,Y=U&&!w||!b||!W;w=U,b=W,Y&&(F[S++]=M)}return F},k=I=>{for(var x=I.length,F=m(I),S=[],w=F[0],b=0,M=0;M<x;++M)w>M?S[M]=w:(w=F[++b],S[M]=w===void 0?x:w);return S},g=()=>{v.clear(),D.clear(),y=[],A=[]},v=new Map,D=new Map,y=[],A=[],E=I=>{for(var x=L,F=I.length,S=0;S<F;++S){var w=I[S];if(w!==H){var b=w.score;b>x&&(x=b)}}return x===L?H:x},T=(I,x)=>{var F=I[x];if(F!==void 0)return F;var S=x;Array.isArray(x)||(S=x.split("."));for(var w=S.length,b=-1;I&&++b<w;)I=I[S[b]];return I},C=I=>typeof I=="object",_=1/0,L=-_,Z=[];Z.total=0;var H=null,ee=I=>{var x=[],F=0,S={},w=b=>{for(var M=0,N=x[M],U=1;U<F;){var W=U+1;M=U,W<F&&x[W].score<x[U].score&&(M=W),x[M-1>>1]=x[M],U=1+(M<<1)}for(var Y=M-1>>1;M>0&&N.score<x[Y].score;Y=(M=Y)-1>>1)x[M]=x[Y];x[M]=N};return S.add=b=>{var M=F;x[F++]=b;for(var N=M-1>>1;M>0&&b.score<x[N].score;N=(M=N)-1>>1)x[M]=x[N];x[M]=b},S.poll=b=>{if(F!==0){var M=x[0];return x[0]=x[--F],w(),M}},S.peek=b=>{if(F!==0)return x[0]},S.replaceTop=b=>{x[0]=b,w()},S},ie=ee();return{single:n,go:r,highlight:i,prepare:l,indexes:s,cleanup:g}})})(MM);const NM={type:"doc",content:[{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"1 Something I think should work there"}]}]},{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"2 Something I think should work there"}]}]},{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"3 Something I think should work there"}]}]},{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"4 Something I think should work there"}]}]},{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"5 Something I think should work there"}]}]},{type:"draggableBlock",content:[{type:"paragraph",content:[{type:"text",text:"6 Something I think should work there"}]}]}]},FM="prose prose-p:my-2 prose-h1:my-2 prose-h2:my-2 prose-h3:my-2 prose-ul:my-2 prose-ol:my-2";const PM=()=>{const t=Ae.exports.useCallback(a=>console.log(JSON.stringify(a.getJSON())),[]),[e,n]=Ae.exports.useState(!1),r=()=>n(!0),i=()=>l==null?void 0:l.commands.setMedia({src:"https://source.unsplash.com/8xznAGy4HcY/800x400","media-type":"img",alt:"Something else",title:"Something",width:"800",height:"400"}),o="https://user-images.githubusercontent.com/45892659/178123048-0257e732-8cc2-466b-8447-1e2b7cd1b5d9.mov",s=()=>l==null?void 0:l.commands.setMedia({src:o,"media-type":"video",alt:"Some Video",title:"Some Title Video",width:"400",height:"400"}),l=MO({extensions:CM({openLinkModal:r}),content:NM,editorProps:{attributes:{class:`${FM} focus:outline-none w-full`,spellcheck:"false",suppressContentEditableWarning:"true"}},onUpdate({editor:a}){t(a)}});return l&&at("section",{className:"flex flex-col gap-2 w-full",children:[at("span",{className:"flex gap-2",children:[ne("button",{className:"btn btn-sm btn-outline",type:"button",onClick:()=>i(),children:"Add Image"}),ne("button",{className:"btn btn-sm btn-outline",type:"button",onClick:()=>s(),children:"Add Video"})]}),ne(SO,{className:"w-full",editor:l}),ne(xM,{editor:l}),ne(AM,{editor:l})]})};function IM(){return at("div",{className:"App container mx-auto px-16 flex flex-col gap-4 max-w-[100ch]",children:[at("header",{className:"flex flex-col gap-2 py-4 border-b border-slate-400",children:[at("section",{className:"flex flex-row items-center gap-4",children:[at("a",{className:"text-3xl link",href:"https://github.com/sereneinserenade/notitap-pro",children:["notitap-pro ",ne("i",{className:"i-mdi-github"})]}),at("a",{className:"btn btn-secondary btn-outline btn-sm",href:"https://github.com/sponsors/sereneinserenade",children:[ne("i",{className:"i-mdi-heart mr-2"})," Support My Work"]})]}),at("p",{className:"text-md pl-[1px]",children:["Notion like editor built on top of"," ",ne("a",{className:"link",href:"https://tiptap.dev/",children:"Tiptap."})]}),at("p",{className:"text-md pl-[1px]",children:["A Big thank you to all my"," ",at("a",{className:"text-pink-400",href:"https://github.com/sponsors/sereneinserenade",children:[ne("i",{className:"i-mdi-heart-outline"})," sponsors."]})," ","You people are awesome."]})]}),ne("main",{className:"flex justify-start w-full",children:ne(PM,{})})]})}Jc.createRoot(document.getElementById("root")).render(ne(lo.StrictMode,{children:ne(IM,{})}));
