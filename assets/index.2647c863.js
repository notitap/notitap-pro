var KP=Object.defineProperty;var qP=(t,e,n)=>e in t?KP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ls=(t,e,n)=>(qP(t,typeof e!="symbol"?e+"":e,n),n);const JP=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};JP();var vl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},be={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),GP=Symbol.for("react.portal"),YP=Symbol.for("react.fragment"),XP=Symbol.for("react.strict_mode"),QP=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),eI=Symbol.for("react.context"),tI=Symbol.for("react.forward_ref"),nI=Symbol.for("react.suspense"),rI=Symbol.for("react.memo"),iI=Symbol.for("react.lazy"),zx=Symbol.iterator;function oI(t){return t===null||typeof t!="object"?null:(t=zx&&t[zx]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,fE={};function Ea(t,e,n){this.props=t,this.context=e,this.refs=fE,this.updater=n||uE}Ea.prototype.isReactComponent={};Ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=Ea.prototype;function vy(t,e,n){this.props=t,this.context=e,this.refs=fE,this.updater=n||uE}var Cy=vy.prototype=new dE;Cy.constructor=vy;cE(Cy,Ea.prototype);Cy.isPureReactComponent=!0;var $x=Array.isArray,pE=Object.prototype.hasOwnProperty,xy={current:null},hE={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)pE.call(e,r)&&!hE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vc,type:t,key:o,ref:s,props:i,_owner:xy.current}}function sI(t,e){return{$$typeof:vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sy(t){return typeof t=="object"&&t!==null&&t.$$typeof===vc}function lI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hx=/\/+/g;function km(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lI(""+t.key):e.toString(36)}function Yf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vc:case GP:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+km(s,0):r,$x(i)?(n="",t!=null&&(n=t.replace(Hx,"$&/")+"/"),Yf(i,e,n,"",function(f){return f})):i!=null&&(Sy(i)&&(i=sI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",$x(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+km(o,l);s+=Yf(o,e,n,u,i)}else if(u=oI(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+km(o,l++),s+=Yf(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wf(t,e,n){if(t==null)return t;var r=[],i=0;return Yf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Xf={transition:null},uI={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Xf,ReactCurrentOwner:xy};Be.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!Sy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Ea;Be.Fragment=YP;Be.Profiler=QP;Be.PureComponent=vy;Be.StrictMode=XP;Be.Suspense=nI;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uI;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)pE.call(e,u)&&!hE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:vc,type:t.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:eI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZP,_context:t},t.Consumer=t};Be.createElement=mE;Be.createFactory=function(t){var e=mE.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:tI,render:t}};Be.isValidElement=Sy;Be.lazy=function(t){return{$$typeof:iI,_payload:{_status:-1,_result:t},_init:aI}};Be.memo=function(t,e){return{$$typeof:rI,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Xf.transition;Xf.transition={};try{t()}finally{Xf.transition=e}};Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Be.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Be.useContext=function(t){return Dn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Be.useId=function(){return Dn.current.useId()};Be.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Be.useRef=function(t){return Dn.current.useRef(t)};Be.useState=function(t){return Dn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Dn.current.useTransition()};Be.version="18.2.0";be.exports=Be;var na=be.exports,Pg={},Tp={exports:{}},nr={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,L){var B=_.length;_.push(L);e:for(;0<B;){var J=B-1>>>1,G=_[J];if(0<i(G,L))_[J]=L,_[B]=G,B=J;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var L=_[0],B=_.pop();if(B!==L){_[0]=B;e:for(var J=0,G=_.length,ce=G>>>1;J<ce;){var pe=2*(J+1)-1,ve=_[pe],Ce=pe+1,Ye=_[Ce];if(0>i(ve,B))Ce<G&&0>i(Ye,ve)?(_[J]=Ye,_[Ce]=B,J=Ce):(_[J]=ve,_[pe]=B,J=pe);else if(Ce<G&&0>i(Ye,B))_[J]=Ye,_[Ce]=B,J=Ce;else break e}}return L}function i(_,L){var B=_.sortIndex-L.sortIndex;return B!==0?B:_.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],d=1,h=null,m=3,g=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(_){for(var L=n(f);L!==null;){if(L.callback===null)r(f);else if(L.startTime<=_)r(f),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(f)}}function w(_){if(x=!1,A(_),!v)if(n(u)!==null)v=!0,I(R);else{var L=n(f);L!==null&&K(w,L.startTime-_)}}function R(_,L){v=!1,x&&(x=!1,S(F),F=-1),g=!0;var B=m;try{for(A(L),h=n(u);h!==null&&(!(h.expirationTime>L)||_&&!oe());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var G=J(h.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&r(u),A(L)}else r(u);h=n(u)}if(h!==null)var ce=!0;else{var pe=n(f);pe!==null&&K(w,pe.startTime-L),ce=!1}return ce}finally{h=null,m=B,g=!1}}var P=!1,$=null,F=-1,Z=5,ee=-1;function oe(){return!(t.unstable_now()-ee<Z)}function ne(){if($!==null){var _=t.unstable_now();ee=_;var L=!0;try{L=$(!0,_)}finally{L?ye():(P=!1,$=null)}}else P=!1}var ye;if(typeof b=="function")ye=function(){b(ne)};else if(typeof MessageChannel!="undefined"){var he=new MessageChannel,H=he.port2;he.port1.onmessage=ne,ye=function(){H.postMessage(null)}}else ye=function(){k(ne,0)};function I(_){$=_,P||(P=!0,ye())}function K(_,L){F=k(function(){_(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,I(R))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(_){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var B=m;m=L;try{return _()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,L){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var B=m;m=_;try{return L()}finally{m=B}},t.unstable_scheduleCallback=function(_,L,B){var J=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,_){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,_={id:d++,callback:L,priorityLevel:_,startTime:B,expirationTime:G,sortIndex:-1},B>J?(_.sortIndex=B,e(f,_),n(u)===null&&_===n(f)&&(x?(S(F),F=-1):x=!0,K(w,B-J))):(_.sortIndex=G,e(u,_),v||g||(v=!0,I(R))),_},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(_){var L=m;return function(){var B=m;m=L;try{return _.apply(this,arguments)}finally{m=B}}}})(yE);gE.exports=yE;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=be.exports,Zn=gE.exports;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CE=new Set,Uu={};function js(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(Uu[t]=e,t=0;t<e.length;t++)CE.add(e[t])}var Hi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ig=Object.prototype.hasOwnProperty,cI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vx={},Wx={};function fI(t){return Ig.call(Wx,t)?!0:Ig.call(Vx,t)?!1:cI.test(t)?Wx[t]=!0:(Vx[t]=!0,!1)}function dI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pI(t,e,n,r){if(e===null||typeof e=="undefined"||dI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dy=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dy,wy);Gt[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dy,wy);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dy,wy);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pI(e,n,i,r)&&(n=null),r||i===null?fI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ef=Symbol.for("react.element"),El=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Lg=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),zg=Symbol.for("react.suspense_list"),Ay=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),DE=Symbol.for("react.offscreen"),Ux=Symbol.iterator;function Za(t){return t===null||typeof t!="object"?null:(t=Ux&&t[Ux]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Am;function pu(t){if(Am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Am=e&&e[1]||""}return`
`+Am+t}var Tm=!1;function Om(t,e){if(!t||Tm)return"";Tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Tm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function hI(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=Om(t.type,!1),t;case 11:return t=Om(t.type.render,!1),t;case 1:return t=Om(t.type,!0),t;default:return""}}function $g(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case El:return"Portal";case Lg:return"Profiler";case by:return"StrictMode";case Bg:return"Suspense";case zg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SE:return(t.displayName||"Context")+".Consumer";case xE:return(t._context.displayName||"Context")+".Provider";case ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ay:return e=t.displayName||null,e!==null?e:$g(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return $g(t(e))}catch{}}return null}function mI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $g(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gI(t){var e=wE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bf(t){t._valueTracker||(t._valueTracker=gI(t))}function EE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hd(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hg(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function jx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bE(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function Vg(t,e){bE(t,e);var n=_o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wg(t,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wg(t,e,n){(e!=="number"||hd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hu=Array.isArray;function jl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_o(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ug(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(hu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_o(n)}}function kE(t,e){var n=_o(e.value),r=_o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,TE=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yI=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){yI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function OE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function ME(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vI=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kg(t,e){if(e){if(vI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jg=null;function Ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gg=null,Kl=null,ql=null;function Gx(t){if(t=Sc(t)){if(typeof Gg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Fp(e),Gg(t.stateNode,t.type,e))}}function NE(t){Kl?ql?ql.push(t):ql=[t]:Kl=t}function _E(){if(Kl){var t=Kl,e=ql;if(ql=Kl=null,Gx(t),e)for(t=0;t<e.length;t++)Gx(e[t])}}function FE(t,e){return t(e)}function RE(){}var Mm=!1;function PE(t,e,n){if(Mm)return t(e,n);Mm=!0;try{return FE(t,e,n)}finally{Mm=!1,(Kl!==null||ql!==null)&&(RE(),_E())}}function Ku(t,e){var n=t.stateNode;if(n===null)return null;var r=Fp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Yg=!1;if(Hi)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Yg=!1}function CI(t,e,n,r,i,o,s,l,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(d){this.onError(d)}}var Su=!1,md=null,gd=!1,Xg=null,xI={onError:function(t){Su=!0,md=t}};function SI(t,e,n,r,i,o,s,l,u){Su=!1,md=null,CI.apply(xI,arguments)}function DI(t,e,n,r,i,o,s,l,u){if(SI.apply(this,arguments),Su){if(Su){var f=md;Su=!1,md=null}else throw Error(X(198));gd||(gd=!0,Xg=f)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yx(t){if(Ks(t)!==t)throw Error(X(188))}function wI(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yx(i),t;if(o===r)return Yx(i),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function LE(t){return t=wI(t),t!==null?BE(t):null}function BE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BE(t);if(e!==null)return e;t=t.sibling}return null}var zE=Zn.unstable_scheduleCallback,Xx=Zn.unstable_cancelCallback,EI=Zn.unstable_shouldYield,bI=Zn.unstable_requestPaint,Ct=Zn.unstable_now,kI=Zn.unstable_getCurrentPriorityLevel,Oy=Zn.unstable_ImmediatePriority,$E=Zn.unstable_UserBlockingPriority,yd=Zn.unstable_NormalPriority,AI=Zn.unstable_LowPriority,HE=Zn.unstable_IdlePriority,Op=null,ci=null;function TI(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Op,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:NI,OI=Math.log,MI=Math.LN2;function NI(t){return t>>>=0,t===0?32:31-(OI(t)/MI|0)|0}var Af=64,Tf=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=mu(l):(o&=s,o!==0&&(r=mu(o)))}else s=n&~i,s!==0?r=mu(s):o!==0&&(r=mu(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),i=1<<n,r|=t[n],e&=~i;return r}function _I(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wr(o),l=1<<s,u=i[s];u===-1?((l&n)===0||(l&r)!==0)&&(i[s]=_I(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Qg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VE(){var t=Af;return Af<<=1,(Af&4194240)===0&&(Af=64),t}function Nm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function RI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function My(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function WE(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var UE,Ny,jE,KE,qE,Zg=!1,Of=[],Co=null,xo=null,So=null,qu=new Map,Ju=new Map,fo=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qx(t,e){switch(t){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function tu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function II(t,e,n,r,i){switch(e){case"focusin":return Co=tu(Co,t,e,n,r,i),!0;case"dragenter":return xo=tu(xo,t,e,n,r,i),!0;case"mouseover":return So=tu(So,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qu.set(o,tu(qu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ju.set(o,tu(Ju.get(o)||null,t,e,n,r,i)),!0}return!1}function JE(t){var e=vs(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=IE(n),e!==null){t.blockedOn=e,qE(t.priority,function(){jE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=e0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jg=r,n.target.dispatchEvent(r),Jg=null}else return e=Sc(n),e!==null&&Ny(e),t.blockedOn=n,!1;e.shift()}return!0}function Zx(t,e,n){Qf(t)&&n.delete(e)}function LI(){Zg=!1,Co!==null&&Qf(Co)&&(Co=null),xo!==null&&Qf(xo)&&(xo=null),So!==null&&Qf(So)&&(So=null),qu.forEach(Zx),Ju.forEach(Zx)}function nu(t,e){t.blockedOn===e&&(t.blockedOn=null,Zg||(Zg=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,LI)))}function Gu(t){function e(i){return nu(i,t)}if(0<Of.length){nu(Of[0],t);for(var n=1;n<Of.length;n++){var r=Of[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Co!==null&&nu(Co,t),xo!==null&&nu(xo,t),So!==null&&nu(So,t),qu.forEach(e),Ju.forEach(e),n=0;n<fo.length;n++)r=fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)JE(n),n.blockedOn===null&&fo.shift()}var Jl=Ki.ReactCurrentBatchConfig,Cd=!0;function BI(t,e,n,r){var i=Ge,o=Jl.transition;Jl.transition=null;try{Ge=1,_y(t,e,n,r)}finally{Ge=i,Jl.transition=o}}function zI(t,e,n,r){var i=Ge,o=Jl.transition;Jl.transition=null;try{Ge=4,_y(t,e,n,r)}finally{Ge=i,Jl.transition=o}}function _y(t,e,n,r){if(Cd){var i=e0(t,e,n,r);if(i===null)Hm(t,e,r,xd,n),Qx(t,r);else if(II(i,t,e,n,r))r.stopPropagation();else if(Qx(t,r),e&4&&-1<PI.indexOf(t)){for(;i!==null;){var o=Sc(i);if(o!==null&&UE(o),o=e0(t,e,n,r),o===null&&Hm(t,e,r,xd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hm(t,e,r,null,n)}}var xd=null;function e0(t,e,n,r){if(xd=null,t=Ty(r),t=vs(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xd=t,null}function GE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kI()){case Oy:return 1;case $E:return 4;case yd:case AI:return 16;case HE:return 536870912;default:return 16}default:return 16}}var go=null,Fy=null,Zf=null;function YE(){if(Zf)return Zf;var t,e=Fy,n=e.length,r,i="value"in go?go.value:go.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Zf=i.slice(t,1<r?1-r:void 0)}function ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mf(){return!0}function eS(){return!1}function rr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mf:eS,this.isPropagationStopped=eS,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=rr(ba),xc=ct({},ba,{view:0,detail:0}),$I=rr(xc),_m,Fm,ru,Mp=ct({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ru&&(ru&&t.type==="mousemove"?(_m=t.screenX-ru.screenX,Fm=t.screenY-ru.screenY):Fm=_m=0,ru=t),_m)},movementY:function(t){return"movementY"in t?t.movementY:Fm}}),tS=rr(Mp),HI=ct({},Mp,{dataTransfer:0}),VI=rr(HI),WI=ct({},xc,{relatedTarget:0}),Rm=rr(WI),UI=ct({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),jI=rr(UI),KI=ct({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qI=rr(KI),JI=ct({},ba,{data:0}),nS=rr(JI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XI[t])?!!e[t]:!1}function Py(){return QI}var ZI=ct({},xc,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(t){return t.type==="keypress"?ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eL=rr(ZI),tL=ct({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rS=rr(tL),nL=ct({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),rL=rr(nL),iL=ct({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),oL=rr(iL),sL=ct({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lL=rr(sL),aL=[9,13,27,32],Iy=Hi&&"CompositionEvent"in window,Du=null;Hi&&"documentMode"in document&&(Du=document.documentMode);var uL=Hi&&"TextEvent"in window&&!Du,XE=Hi&&(!Iy||Du&&8<Du&&11>=Du),iS=String.fromCharCode(32),oS=!1;function QE(t,e){switch(t){case"keyup":return aL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kl=!1;function cL(t,e){switch(t){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(oS=!0,iS);case"textInput":return t=e.data,t===iS&&oS?null:t;default:return null}}function fL(t,e){if(kl)return t==="compositionend"||!Iy&&QE(t,e)?(t=YE(),Zf=Fy=go=null,kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XE&&e.locale!=="ko"?null:e.data;default:return null}}var dL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dL[t.type]:e==="textarea"}function eb(t,e,n,r){NE(r),e=Sd(e,"onChange"),0<e.length&&(n=new Ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wu=null,Yu=null;function pL(t){fb(t,0)}function Np(t){var e=Ol(t);if(EE(e))return t}function hL(t,e){if(t==="change")return e}var tb=!1;if(Hi){var Pm;if(Hi){var Im="oninput"in document;if(!Im){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),Im=typeof lS.oninput=="function"}Pm=Im}else Pm=!1;tb=Pm&&(!document.documentMode||9<document.documentMode)}function aS(){wu&&(wu.detachEvent("onpropertychange",nb),Yu=wu=null)}function nb(t){if(t.propertyName==="value"&&Np(Yu)){var e=[];eb(e,Yu,t,Ty(t)),PE(pL,e)}}function mL(t,e,n){t==="focusin"?(aS(),wu=e,Yu=n,wu.attachEvent("onpropertychange",nb)):t==="focusout"&&aS()}function gL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Np(Yu)}function yL(t,e){if(t==="click")return Np(e)}function vL(t,e){if(t==="input"||t==="change")return Np(e)}function CL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:CL;function Xu(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!Kr(t[i],e[i]))return!1}return!0}function uS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cS(t,e){var n=uS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uS(n)}}function rb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ib(){for(var t=window,e=hd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hd(t.document)}return e}function Ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xL(t){var e=ib(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rb(n.ownerDocument.documentElement,n)){if(r!==null&&Ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cS(n,o);var s=cS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SL=Hi&&"documentMode"in document&&11>=document.documentMode,Al=null,t0=null,Eu=null,n0=!1;function fS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n0||Al==null||Al!==hd(r)||(r=Al,"selectionStart"in r&&Ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&Xu(Eu,r)||(Eu=r,r=Sd(t0,"onSelect"),0<r.length&&(e=new Ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Al)))}function Nf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tl={animationend:Nf("Animation","AnimationEnd"),animationiteration:Nf("Animation","AnimationIteration"),animationstart:Nf("Animation","AnimationStart"),transitionend:Nf("Transition","TransitionEnd")},Lm={},ob={};Hi&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function _p(t){if(Lm[t])return Lm[t];if(!Tl[t])return t;var e=Tl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ob)return Lm[t]=e[n];return t}var sb=_p("animationend"),lb=_p("animationiteration"),ab=_p("animationstart"),ub=_p("transitionend"),cb=new Map,dS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){cb.set(t,e),js(e,[t])}for(var Bm=0;Bm<dS.length;Bm++){var zm=dS[Bm],DL=zm.toLowerCase(),wL=zm[0].toUpperCase()+zm.slice(1);Ho(DL,"on"+wL)}Ho(sb,"onAnimationEnd");Ho(lb,"onAnimationIteration");Ho(ab,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(ub,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EL=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function pS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DI(r,e,void 0,t),t.currentTarget=null}function fb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;pS(i,l,f),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;pS(i,l,f),o=u}}}if(gd)throw t=Xg,gd=!1,Xg=null,t}function nt(t,e){var n=e[l0];n===void 0&&(n=e[l0]=new Set);var r=t+"__bubble";n.has(r)||(db(e,t,2,!1),n.add(r))}function $m(t,e,n){var r=0;e&&(r|=4),db(n,t,r,e)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[_f]){t[_f]=!0,CE.forEach(function(n){n!=="selectionchange"&&(EL.has(n)||$m(n,!1,t),$m(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_f]||(e[_f]=!0,$m("selectionchange",!1,e))}}function db(t,e,n,r){switch(GE(e)){case 1:var i=BI;break;case 4:i=zI;break;default:i=_y}n=i.bind(null,e,n,t),i=void 0,!Yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hm(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=vs(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}PE(function(){var f=o,d=Ty(n),h=[];e:{var m=cb.get(t);if(m!==void 0){var g=Ry,v=t;switch(t){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":g=eL;break;case"focusin":v="focus",g=Rm;break;case"focusout":v="blur",g=Rm;break;case"beforeblur":case"afterblur":g=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rL;break;case sb:case lb:case ab:g=jI;break;case ub:g=oL;break;case"scroll":g=$I;break;case"wheel":g=lL;break;case"copy":case"cut":case"paste":g=qI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rS}var x=(e&4)!==0,k=!x&&t==="scroll",S=x?m!==null?m+"Capture":null:m;x=[];for(var b=f,A;b!==null;){A=b;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,S!==null&&(w=Ku(b,S),w!=null&&x.push(Zu(b,w,A)))),k)break;b=b.return}0<x.length&&(m=new g(m,v,null,n,d),h.push({event:m,listeners:x}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Jg&&(v=n.relatedTarget||n.fromElement)&&(vs(v)||v[Vi]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?vs(v):null,v!==null&&(k=Ks(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(x=tS,w="onMouseLeave",S="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=rS,w="onPointerLeave",S="onPointerEnter",b="pointer"),k=g==null?m:Ol(g),A=v==null?m:Ol(v),m=new x(w,b+"leave",g,n,d),m.target=k,m.relatedTarget=A,w=null,vs(d)===f&&(x=new x(S,b+"enter",v,n,d),x.target=A,x.relatedTarget=k,w=x),k=w,g&&v)t:{for(x=g,S=v,b=0,A=x;A;A=ml(A))b++;for(A=0,w=S;w;w=ml(w))A++;for(;0<b-A;)x=ml(x),b--;for(;0<A-b;)S=ml(S),A--;for(;b--;){if(x===S||S!==null&&x===S.alternate)break t;x=ml(x),S=ml(S)}x=null}else x=null;g!==null&&hS(h,m,g,x,!1),v!==null&&k!==null&&hS(h,k,v,x,!0)}}e:{if(m=f?Ol(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var R=hL;else if(sS(m))if(tb)R=vL;else{R=gL;var P=mL}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=yL);if(R&&(R=R(t,f))){eb(h,R,n,d);break e}P&&P(t,m,f),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Wg(m,"number",m.value)}switch(P=f?Ol(f):window,t){case"focusin":(sS(P)||P.contentEditable==="true")&&(Al=P,t0=f,Eu=null);break;case"focusout":Eu=t0=Al=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,fS(h,n,d);break;case"selectionchange":if(SL)break;case"keydown":case"keyup":fS(h,n,d)}var $;if(Iy)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else kl?QE(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(XE&&n.locale!=="ko"&&(kl||F!=="onCompositionStart"?F==="onCompositionEnd"&&kl&&($=YE()):(go=d,Fy="value"in go?go.value:go.textContent,kl=!0)),P=Sd(f,F),0<P.length&&(F=new nS(F,t,null,n,d),h.push({event:F,listeners:P}),$?F.data=$:($=ZE(n),$!==null&&(F.data=$)))),($=uL?cL(t,n):fL(t,n))&&(f=Sd(f,"onBeforeInput"),0<f.length&&(d=new nS("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:f}),d.data=$))}fb(h,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ku(t,n),o!=null&&r.unshift(Zu(t,o,i)),o=Ku(t,e),o!=null&&r.push(Zu(t,o,i))),t=t.return}return r}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=Ku(n,o),u!=null&&s.unshift(Zu(n,u,l))):i||(u=Ku(n,o),u!=null&&s.push(Zu(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var bL=/\r\n?/g,kL=/\u0000|\uFFFD/g;function mS(t){return(typeof t=="string"?t:""+t).replace(bL,`
`).replace(kL,"")}function Ff(t,e,n){if(e=mS(e),mS(t)!==e&&n)throw Error(X(425))}function Dd(){}var r0=null,i0=null;function o0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,AL=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,TL=typeof queueMicrotask=="function"?queueMicrotask:typeof gS!="undefined"?function(t){return gS.resolve(null).then(t).catch(OL)}:s0;function OL(t){setTimeout(function(){throw t})}function Vm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gu(e)}function Do(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ka=Math.random().toString(36).slice(2),oi="__reactFiber$"+ka,ec="__reactProps$"+ka,Vi="__reactContainer$"+ka,l0="__reactEvents$"+ka,ML="__reactListeners$"+ka,NL="__reactHandles$"+ka;function vs(t){var e=t[oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vi]||n[oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yS(t);t!==null;){if(n=t[oi])return n;t=yS(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[oi]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Fp(t){return t[ec]||null}var a0=[],Ml=-1;function Vo(t){return{current:t}}function rt(t){0>Ml||(t.current=a0[Ml],a0[Ml]=null,Ml--)}function et(t,e){Ml++,a0[Ml]=t.current,t.current=e}var Fo={},un=Vo(Fo),_n=Vo(!1),Is=Fo;function ia(t,e){var n=t.type.contextTypes;if(!n)return Fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function wd(){rt(_n),rt(un)}function vS(t,e,n){if(un.current!==Fo)throw Error(X(168));et(un,e),et(_n,n)}function pb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,mI(t)||"Unknown",i));return ct({},n,r)}function Ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fo,Is=un.current,et(un,t),et(_n,_n.current),!0}function CS(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=pb(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,rt(_n),rt(un),et(un,t)):rt(_n),et(_n,n)}var Pi=null,Rp=!1,Wm=!1;function hb(t){Pi===null?Pi=[t]:Pi.push(t)}function _L(t){Rp=!0,hb(t)}function Wo(){if(!Wm&&Pi!==null){Wm=!0;var t=0,e=Ge;try{var n=Pi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pi=null,Rp=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),zE(Oy,Wo),i}finally{Ge=e,Wm=!1}}return null}var Nl=[],_l=0,bd=null,kd=0,yr=[],vr=0,Ls=null,Li=1,Bi="";function us(t,e){Nl[_l++]=kd,Nl[_l++]=bd,bd=t,kd=e}function mb(t,e,n){yr[vr++]=Li,yr[vr++]=Bi,yr[vr++]=Ls,Ls=t;var r=Li;t=Bi;var i=32-Wr(r)-1;r&=~(1<<i),n+=1;var o=32-Wr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Li=1<<32-Wr(e)+i|n<<i|r,Bi=o+t}else Li=1<<o|n<<i|r,Bi=t}function By(t){t.return!==null&&(us(t,1),mb(t,1,0))}function zy(t){for(;t===bd;)bd=Nl[--_l],Nl[_l]=null,kd=Nl[--_l],Nl[_l]=null;for(;t===Ls;)Ls=yr[--vr],yr[vr]=null,Bi=yr[--vr],yr[vr]=null,Li=yr[--vr],yr[vr]=null}var Yn=null,Jn=null,st=!1,Br=null;function gb(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Jn=Do(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:Li,overflow:Bi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Jn=null,!0):!1;default:return!1}}function u0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c0(t){if(st){var e=Jn;if(e){var n=e;if(!xS(t,e)){if(u0(t))throw Error(X(418));e=Do(n.nextSibling);var r=Yn;e&&xS(t,e)?gb(r,n):(t.flags=t.flags&-4097|2,st=!1,Yn=t)}}else{if(u0(t))throw Error(X(418));t.flags=t.flags&-4097|2,st=!1,Yn=t}}}function SS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function Rf(t){if(t!==Yn)return!1;if(!st)return SS(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!o0(t.type,t.memoizedProps)),e&&(e=Jn)){if(u0(t))throw yb(),Error(X(418));for(;e;)gb(t,e),e=Do(e.nextSibling)}if(SS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Do(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=Yn?Do(t.stateNode.nextSibling):null;return!0}function yb(){for(var t=Jn;t;)t=Do(t.nextSibling)}function oa(){Jn=Yn=null,st=!1}function $y(t){Br===null?Br=[t]:Br.push(t)}var FL=Ki.ReactCurrentBatchConfig;function Pr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ad=Vo(null),Td=null,Fl=null,Hy=null;function Vy(){Hy=Fl=Td=null}function Wy(t){var e=Ad.current;rt(Ad),t._currentValue=e}function f0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gl(t,e){Td=t,Hy=Fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Mn=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(Hy!==t)if(t={context:t,memoizedValue:e,next:null},Fl===null){if(Td===null)throw Error(X(308));Fl=t,Td.dependencies={lanes:0,firstContext:t}}else Fl=Fl.next=t;return e}var Cs=null;function Uy(t){Cs===null?Cs=[t]:Cs.push(t)}function vb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Uy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wi(t,r)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ao=!1;function jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wi(t,n)}return i=r.interleaved,i===null?(e.next=e,Uy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wi(t,n)}function td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}function DS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Od(t,e,n,r){var i=t.updateQueue;ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,s===null?o=f:s.next=f,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=f:l.next=f,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,d=f=u=null,l=o;do{var m=l.lane,g=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(m=e,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(g,h,m):v,m==null)break e;h=ct({},h,m);break e;case 2:ao=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(f=d=g,u=h):d=d.next=g,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);zs|=s,t.lanes=s,t.memoizedState=h}}function wS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var xb=new vE.Component().refs;function d0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pp={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=bo(t),o=$i(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Ur(e,t,i,r),td(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=bo(t),o=$i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Ur(e,t,i,r),td(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=bo(t),i=$i(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Ur(e,t,r,n),td(e,t,r))}};function ES(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Xu(n,r)||!Xu(i,o):!0}function Sb(t,e,n){var r=!1,i=Fo,o=e.contextType;return typeof o=="object"&&o!==null?o=Er(o):(i=Fn(e)?Is:un.current,r=e.contextTypes,o=(r=r!=null)?ia(t,i):Fo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pp.enqueueReplaceState(e,e.state,null)}function p0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=xb,jy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Er(o):(o=Fn(e)?Is:un.current,i.context=ia(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pp.enqueueReplaceState(i,i.state,null),Od(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function iu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===xb&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Pf(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kS(t){var e=t._init;return e(t._payload)}function Db(t){function e(S,b){if(t){var A=S.deletions;A===null?(S.deletions=[b],S.flags|=16):A.push(b)}}function n(S,b){if(!t)return null;for(;b!==null;)e(S,b),b=b.sibling;return null}function r(S,b){for(S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function i(S,b){return S=ko(S,b),S.index=0,S.sibling=null,S}function o(S,b,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<b?(S.flags|=2,b):A):(S.flags|=2,b)):(S.flags|=1048576,b)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,b,A,w){return b===null||b.tag!==6?(b=Ym(A,S.mode,w),b.return=S,b):(b=i(b,A),b.return=S,b)}function u(S,b,A,w){var R=A.type;return R===bl?d(S,b,A.props.children,w,A.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===lo&&kS(R)===b.type)?(w=i(b,A.props),w.ref=iu(S,b,A),w.return=S,w):(w=ld(A.type,A.key,A.props,null,S.mode,w),w.ref=iu(S,b,A),w.return=S,w)}function f(S,b,A,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Xm(A,S.mode,w),b.return=S,b):(b=i(b,A.children||[]),b.return=S,b)}function d(S,b,A,w,R){return b===null||b.tag!==7?(b=ks(A,S.mode,w,R),b.return=S,b):(b=i(b,A),b.return=S,b)}function h(S,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ym(""+b,S.mode,A),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ef:return A=ld(b.type,b.key,b.props,null,S.mode,A),A.ref=iu(S,null,b),A.return=S,A;case El:return b=Xm(b,S.mode,A),b.return=S,b;case lo:var w=b._init;return h(S,w(b._payload),A)}if(hu(b)||Za(b))return b=ks(b,S.mode,A,null),b.return=S,b;Pf(S,b)}return null}function m(S,b,A,w){var R=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return R!==null?null:l(S,b,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ef:return A.key===R?u(S,b,A,w):null;case El:return A.key===R?f(S,b,A,w):null;case lo:return R=A._init,m(S,b,R(A._payload),w)}if(hu(A)||Za(A))return R!==null?null:d(S,b,A,w,null);Pf(S,A)}return null}function g(S,b,A,w,R){if(typeof w=="string"&&w!==""||typeof w=="number")return S=S.get(A)||null,l(b,S,""+w,R);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ef:return S=S.get(w.key===null?A:w.key)||null,u(b,S,w,R);case El:return S=S.get(w.key===null?A:w.key)||null,f(b,S,w,R);case lo:var P=w._init;return g(S,b,A,P(w._payload),R)}if(hu(w)||Za(w))return S=S.get(A)||null,d(b,S,w,R,null);Pf(b,w)}return null}function v(S,b,A,w){for(var R=null,P=null,$=b,F=b=0,Z=null;$!==null&&F<A.length;F++){$.index>F?(Z=$,$=null):Z=$.sibling;var ee=m(S,$,A[F],w);if(ee===null){$===null&&($=Z);break}t&&$&&ee.alternate===null&&e(S,$),b=o(ee,b,F),P===null?R=ee:P.sibling=ee,P=ee,$=Z}if(F===A.length)return n(S,$),st&&us(S,F),R;if($===null){for(;F<A.length;F++)$=h(S,A[F],w),$!==null&&(b=o($,b,F),P===null?R=$:P.sibling=$,P=$);return st&&us(S,F),R}for($=r(S,$);F<A.length;F++)Z=g($,S,F,A[F],w),Z!==null&&(t&&Z.alternate!==null&&$.delete(Z.key===null?F:Z.key),b=o(Z,b,F),P===null?R=Z:P.sibling=Z,P=Z);return t&&$.forEach(function(oe){return e(S,oe)}),st&&us(S,F),R}function x(S,b,A,w){var R=Za(A);if(typeof R!="function")throw Error(X(150));if(A=R.call(A),A==null)throw Error(X(151));for(var P=R=null,$=b,F=b=0,Z=null,ee=A.next();$!==null&&!ee.done;F++,ee=A.next()){$.index>F?(Z=$,$=null):Z=$.sibling;var oe=m(S,$,ee.value,w);if(oe===null){$===null&&($=Z);break}t&&$&&oe.alternate===null&&e(S,$),b=o(oe,b,F),P===null?R=oe:P.sibling=oe,P=oe,$=Z}if(ee.done)return n(S,$),st&&us(S,F),R;if($===null){for(;!ee.done;F++,ee=A.next())ee=h(S,ee.value,w),ee!==null&&(b=o(ee,b,F),P===null?R=ee:P.sibling=ee,P=ee);return st&&us(S,F),R}for($=r(S,$);!ee.done;F++,ee=A.next())ee=g($,S,F,ee.value,w),ee!==null&&(t&&ee.alternate!==null&&$.delete(ee.key===null?F:ee.key),b=o(ee,b,F),P===null?R=ee:P.sibling=ee,P=ee);return t&&$.forEach(function(ne){return e(S,ne)}),st&&us(S,F),R}function k(S,b,A,w){if(typeof A=="object"&&A!==null&&A.type===bl&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ef:e:{for(var R=A.key,P=b;P!==null;){if(P.key===R){if(R=A.type,R===bl){if(P.tag===7){n(S,P.sibling),b=i(P,A.props.children),b.return=S,S=b;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===lo&&kS(R)===P.type){n(S,P.sibling),b=i(P,A.props),b.ref=iu(S,P,A),b.return=S,S=b;break e}n(S,P);break}else e(S,P);P=P.sibling}A.type===bl?(b=ks(A.props.children,S.mode,w,A.key),b.return=S,S=b):(w=ld(A.type,A.key,A.props,null,S.mode,w),w.ref=iu(S,b,A),w.return=S,S=w)}return s(S);case El:e:{for(P=A.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){n(S,b.sibling),b=i(b,A.children||[]),b.return=S,S=b;break e}else{n(S,b);break}else e(S,b);b=b.sibling}b=Xm(A,S.mode,w),b.return=S,S=b}return s(S);case lo:return P=A._init,k(S,b,P(A._payload),w)}if(hu(A))return v(S,b,A,w);if(Za(A))return x(S,b,A,w);Pf(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,b!==null&&b.tag===6?(n(S,b.sibling),b=i(b,A),b.return=S,S=b):(n(S,b),b=Ym(A,S.mode,w),b.return=S,S=b),s(S)):n(S,b)}return k}var sa=Db(!0),wb=Db(!1),Dc={},fi=Vo(Dc),tc=Vo(Dc),nc=Vo(Dc);function xs(t){if(t===Dc)throw Error(X(174));return t}function Ky(t,e){switch(et(nc,e),et(tc,t),et(fi,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}rt(fi),et(fi,e)}function la(){rt(fi),rt(tc),rt(nc)}function Eb(t){xs(nc.current);var e=xs(fi.current),n=jg(e,t.type);e!==n&&(et(tc,t),et(fi,n))}function qy(t){tc.current===t&&(rt(fi),rt(tc))}var at=Vo(0);function Md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function Jy(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var nd=Ki.ReactCurrentDispatcher,jm=Ki.ReactCurrentBatchConfig,Bs=0,ut=null,kt=null,Nt=null,Nd=!1,bu=!1,rc=0,RL=0;function tn(){throw Error(X(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function Yy(t,e,n,r,i,o){if(Bs=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nd.current=t===null||t.memoizedState===null?BL:zL,t=n(r,i),bu){o=0;do{if(bu=!1,rc=0,25<=o)throw Error(X(301));o+=1,Nt=kt=null,e.updateQueue=null,nd.current=$L,t=n(r,i)}while(bu)}if(nd.current=_d,e=kt!==null&&kt.next!==null,Bs=0,Nt=kt=ut=null,Nd=!1,e)throw Error(X(300));return t}function Xy(){var t=rc!==0;return rc=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ut.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function br(){if(kt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Nt===null?ut.memoizedState:Nt.next;if(e!==null)Nt=e,kt=t;else{if(t===null)throw Error(X(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Nt===null?ut.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ic(t,e){return typeof e=="function"?e(t):e}function Km(t){var e=br(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,f=o;do{var d=f.lane;if((Bs&d)===d)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=h,s=r):u=u.next=h,ut.lanes|=d,zs|=d}f=f.next}while(f!==null&&f!==o);u===null?s=r:u.next=l,Kr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,zs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qm(t){var e=br(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Kr(o,e.memoizedState)||(Mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bb(){}function kb(t,e){var n=ut,r=br(),i=e(),o=!Kr(r.memoizedState,i);if(o&&(r.memoizedState=i,Mn=!0),r=r.queue,Qy(Ob.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,oc(9,Tb.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(X(349));(Bs&30)!==0||Ab(n,e,i)}return i}function Ab(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tb(t,e,n,r){e.value=n,e.getSnapshot=r,Mb(e)&&Nb(t)}function Ob(t,e,n){return n(function(){Mb(e)&&Nb(t)})}function Mb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function Nb(t){var e=Wi(t,1);e!==null&&Ur(e,t,1,-1)}function AS(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=LL.bind(null,ut,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _b(){return br().memoizedState}function rd(t,e,n,r){var i=ti();ut.flags|=t,i.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function Ip(t,e,n,r){var i=br();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&Gy(r,s.deps)){i.memoizedState=oc(e,n,o,r);return}}ut.flags|=t,i.memoizedState=oc(1|e,n,o,r)}function TS(t,e){return rd(8390656,8,t,e)}function Qy(t,e){return Ip(2048,8,t,e)}function Fb(t,e){return Ip(4,2,t,e)}function Rb(t,e){return Ip(4,4,t,e)}function Pb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ib(t,e,n){return n=n!=null?n.concat([t]):null,Ip(4,4,Pb.bind(null,e,t),n)}function Zy(){}function Lb(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bb(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zb(t,e,n){return(Bs&21)===0?(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n):(Kr(n,e)||(n=VE(),ut.lanes|=n,zs|=n,t.baseState=!0),e)}function PL(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=jm.transition;jm.transition={};try{t(!1),e()}finally{Ge=n,jm.transition=r}}function $b(){return br().memoizedState}function IL(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hb(t))Vb(e,n);else if(n=vb(t,e,n,r),n!==null){var i=Cn();Ur(n,t,r,i),Wb(n,e,r)}}function LL(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hb(t))Vb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Kr(l,s)){var u=e.interleaved;u===null?(i.next=i,Uy(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=vb(t,e,i,r),n!==null&&(i=Cn(),Ur(n,t,r,i),Wb(n,e,r))}}function Hb(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Vb(t,e){bu=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Wb(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}var _d={readContext:Er,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},BL={readContext:Er,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:TS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4194308,4,Pb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IL.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:AS,useDebugValue:Zy,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=AS(!1),e=t[0];return t=PL.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=ti();if(st){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),_t===null)throw Error(X(349));(Bs&30)!==0||Ab(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,TS(Ob.bind(null,r,o,t),[t]),r.flags|=2048,oc(9,Tb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ti(),e=_t.identifierPrefix;if(st){var n=Bi,r=Li;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zL={readContext:Er,useCallback:Lb,useContext:Er,useEffect:Qy,useImperativeHandle:Ib,useInsertionEffect:Fb,useLayoutEffect:Rb,useMemo:Bb,useReducer:Km,useRef:_b,useState:function(){return Km(ic)},useDebugValue:Zy,useDeferredValue:function(t){var e=br();return zb(e,kt.memoizedState,t)},useTransition:function(){var t=Km(ic)[0],e=br().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:kb,useId:$b,unstable_isNewReconciler:!1},$L={readContext:Er,useCallback:Lb,useContext:Er,useEffect:Qy,useImperativeHandle:Ib,useInsertionEffect:Fb,useLayoutEffect:Rb,useMemo:Bb,useReducer:qm,useRef:_b,useState:function(){return qm(ic)},useDebugValue:Zy,useDeferredValue:function(t){var e=br();return kt===null?e.memoizedState=t:zb(e,kt.memoizedState,t)},useTransition:function(){var t=qm(ic)[0],e=br().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:kb,useId:$b,unstable_isNewReconciler:!1};function aa(t,e){try{var n="",r=e;do n+=hI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jm(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function h0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HL=typeof WeakMap=="function"?WeakMap:Map;function Ub(t,e,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,E0=r),h0(t,e)},n}function jb(t,e,n){n=$i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){h0(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function OS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tB.bind(null,t,e,n),e.then(t,t))}function MS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NS(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$i(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var VL=Ki.ReactCurrentOwner,Mn=!1;function yn(t,e,n,r){e.child=t===null?wb(e,null,n,r):sa(e,t.child,n,r)}function _S(t,e,n,r,i){n=n.render;var o=e.ref;return Gl(e,i),r=Yy(t,e,n,r,o,i),n=Xy(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(st&&n&&By(e),e.flags|=1,yn(t,e,r,i),e.child)}function FS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!l1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Kb(t,e,o,r,i)):(t=ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(s,r)&&t.ref===e.ref)return Ui(t,e,i)}return e.flags|=1,t=ko(o,r),t.ref=e.ref,t.return=e,e.child=t}function Kb(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xu(o,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Mn=!0);else return e.lanes=t.lanes,Ui(t,e,i)}return m0(t,e,n,r,i)}function qb(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Pl,jn),jn|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Pl,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Pl,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Pl,jn),jn|=r;return yn(t,e,i,n),e.child}function Jb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function m0(t,e,n,r,i){var o=Fn(n)?Is:un.current;return o=ia(e,o),Gl(e,i),n=Yy(t,e,n,r,o,i),r=Xy(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(st&&r&&By(e),e.flags|=1,yn(t,e,n,i),e.child)}function RS(t,e,n,r,i){if(Fn(n)){var o=!0;Ed(e)}else o=!1;if(Gl(e,i),e.stateNode===null)id(t,e),Sb(e,n,r),p0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Er(f):(f=Fn(n)?Is:un.current,f=ia(e,f));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==f)&&bS(e,s,r,f),ao=!1;var m=e.memoizedState;s.state=m,Od(e,r,s,i),u=e.memoizedState,l!==r||m!==u||_n.current||ao?(typeof d=="function"&&(d0(e,n,d,r),u=e.memoizedState),(l=ao||ES(e,n,l,r,m,u,f))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=f,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Cb(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:Pr(e.type,l),s.props=f,h=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Er(u):(u=Fn(n)?Is:un.current,u=ia(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||m!==u)&&bS(e,s,r,u),ao=!1,m=e.memoizedState,s.state=m,Od(e,r,s,i);var v=e.memoizedState;l!==h||m!==v||_n.current||ao?(typeof g=="function"&&(d0(e,n,g,r),v=e.memoizedState),(f=ao||ES(e,n,f,r,m,v,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=u,r=f):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return g0(t,e,n,r,o,i)}function g0(t,e,n,r,i,o){Jb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&CS(e,n,!1),Ui(t,e,o);r=e.stateNode,VL.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=sa(e,t.child,null,o),e.child=sa(e,null,l,o)):yn(t,e,l,o),e.memoizedState=r.state,i&&CS(e,n,!0),e.child}function Gb(t){var e=t.stateNode;e.pendingContext?vS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vS(t,e.context,!1),Ky(t,e.containerInfo)}function PS(t,e,n,r,i){return oa(),$y(i),e.flags|=256,yn(t,e,n,r),e.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function v0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yb(t,e,n){var r=e.pendingProps,i=at.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(at,i&1),t===null)return c0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zp(s,r,0,null),t=ks(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=v0(n),e.memoizedState=y0,t):e1(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WL(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ko(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ko(l,o):(o=ks(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?v0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=y0,r}return o=t.child,t=o.sibling,r=ko(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e1(t,e){return e=zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function If(t,e,n,r){return r!==null&&$y(r),sa(e,t.child,null,n),t=e1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WL(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jm(Error(X(422))),If(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zp({mode:"visible",children:r.children},i,0,null),o=ks(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&sa(e,t.child,null,s),e.child.memoizedState=v0(s),e.memoizedState=y0,o);if((e.mode&1)===0)return If(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(X(419)),r=Jm(o,r,void 0),If(t,e,s,r)}if(l=(s&t.childLanes)!==0,Mn||l){if(r=_t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wi(t,i),Ur(r,t,i,-1))}return s1(),r=Jm(Error(X(421))),If(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Jn=Do(i.nextSibling),Yn=e,st=!0,Br=null,t!==null&&(yr[vr++]=Li,yr[vr++]=Bi,yr[vr++]=Ls,Li=t.id,Bi=t.overflow,Ls=e),e=e1(e,r.children),e.flags|=4096,e)}function IS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),f0(t.return,e,n)}function Gm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Xb(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yn(t,e,r.children,n),r=at.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IS(t,n,e);else if(t.tag===19)IS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(at,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Md(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Md(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gm(e,!0,n,null,o);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function id(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UL(t,e,n){switch(e.tag){case 3:Gb(e),oa();break;case 5:Eb(e);break;case 1:Fn(e.type)&&Ed(e);break;case 4:Ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(at,at.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Yb(t,e,n):(et(at,at.current&1),t=Ui(t,e,n),t!==null?t.sibling:null);et(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Xb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,qb(t,e,n)}return Ui(t,e,n)}var Qb,C0,Zb,ek;Qb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};Zb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(fi.current);var o=null;switch(n){case"input":i=Hg(t,i),r=Hg(t,r),o=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),o=[];break;case"textarea":i=Ug(t,i),r=Ug(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dd)}Kg(n,r);var s;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Uu.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&nt("scroll",t),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};ek=function(t,e,n,r){n!==r&&(e.flags|=4)};function ou(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jL(t,e,n){var r=e.pendingProps;switch(zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Fn(e.type)&&wd(),nn(e),null;case 3:return r=e.stateNode,la(),rt(_n),rt(un),Jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Br!==null&&(A0(Br),Br=null))),C0(t,e),nn(e),null;case 5:qy(e);var i=xs(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)Zb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return nn(e),null}if(t=xs(fi.current),Rf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[oi]=e,r[ec]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)nt(gu[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":jx(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":qx(r,o),nt("invalid",r)}Kg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ff(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ff(r.textContent,l,t),i=["children",""+l]):Uu.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":bf(r),Kx(r,o,!0);break;case"textarea":bf(r),Jx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[oi]=e,t[ec]=r,Qb(t,e,!1,!1),e.stateNode=t;e:{switch(s=qg(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)nt(gu[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":jx(t,r),i=Hg(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),nt("invalid",t);break;case"textarea":qx(t,r),i=Ug(t,r),nt("invalid",t);break;default:i=r}Kg(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?ME(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&TE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ju(t,u):typeof u=="number"&&ju(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&nt("scroll",t):u!=null&&Ey(t,o,u,s))}switch(n){case"input":bf(t),Kx(t,r,!1);break;case"textarea":bf(t),Jx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_o(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?jl(t,!!r.multiple,o,!1):r.defaultValue!=null&&jl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)ek(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=xs(nc.current),xs(fi.current),Rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[oi]=e,(o=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:Ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ff(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oi]=e,e.stateNode=r}return nn(e),null;case 13:if(rt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Jn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)yb(),oa(),e.flags|=98560,o=!1;else if(o=Rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[oi]=e}else oa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else Br!==null&&(A0(Br),Br=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(at.current&1)!==0?At===0&&(At=3):s1())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return la(),C0(t,e),t===null&&Qu(e.stateNode.containerInfo),nn(e),null;case 10:return Wy(e.type._context),nn(e),null;case 17:return Fn(e.type)&&wd(),nn(e),null;case 19:if(rt(at),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ou(o,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Md(t),s!==null){for(e.flags|=128,ou(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>ua&&(e.flags|=128,r=!0,ou(o,!1),e.lanes=4194304)}else{if(!r)if(t=Md(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ou(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!st)return nn(e),null}else 2*Ct()-o.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,ou(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=at.current,et(at,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return o1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(jn&1073741824)!==0&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function KL(t,e){switch(zy(e),e.tag){case 1:return Fn(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return la(),rt(_n),rt(un),Jy(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if(rt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(at),null;case 4:return la(),null;case 10:return Wy(e.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var Lf=!1,ln=!1,qL=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function x0(t,e,n){try{n()}catch(r){dt(t,e,r)}}var LS=!1;function JL(t,e){if(r0=Cd,t=ib(),Ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,f=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++f===i&&(l=s),m===o&&++d===r&&(u=s),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(i0={focusedElem:t,selectionRange:n},Cd=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,S=e.stateNode,b=S.getSnapshotBeforeUpdate(e.elementType===e.type?x:Pr(e.type,x),k);S.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){dt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=LS,LS=!1,v}function ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&x0(e,n,o)}i=i.next}while(i!==r)}}function Lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function S0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tk(t){var e=t.alternate;e!==null&&(t.alternate=null,tk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oi],delete e[ec],delete e[l0],delete e[ML],delete e[NL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nk(t){return t.tag===5||t.tag===3||t.tag===4}function BS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dd));else if(r!==4&&(t=t.child,t!==null))for(D0(t,e,n),t=t.sibling;t!==null;)D0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var Vt=null,Lr=!1;function ro(t,e,n){for(n=n.child;n!==null;)rk(t,e,n),n=n.sibling}function rk(t,e,n){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 5:ln||Rl(n,e);case 6:var r=Vt,i=Lr;Vt=null,ro(t,e,n),Vt=r,Lr=i,Vt!==null&&(Lr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Lr?(t=Vt,n=n.stateNode,t.nodeType===8?Vm(t.parentNode,n):t.nodeType===1&&Vm(t,n),Gu(t)):Vm(Vt,n.stateNode));break;case 4:r=Vt,i=Lr,Vt=n.stateNode.containerInfo,Lr=!0,ro(t,e,n),Vt=r,Lr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&x0(n,e,s),i=i.next}while(i!==r)}ro(t,e,n);break;case 1:if(!ln&&(Rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dt(n,e,l)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,ro(t,e,n),ln=r):ro(t,e,n);break;default:ro(t,e,n)}}function zS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qL),e.forEach(function(r){var i=rB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,Lr=!1;break e;case 3:Vt=l.stateNode.containerInfo,Lr=!0;break e;case 4:Vt=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(Vt===null)throw Error(X(160));rk(o,s,i),Vt=null,Lr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){dt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ik(e,t),e=e.sibling}function ik(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),ei(t),r&4){try{ku(3,t,t.return),Lp(3,t)}catch(x){dt(t,t.return,x)}try{ku(5,t,t.return)}catch(x){dt(t,t.return,x)}}break;case 1:Rr(e,t),ei(t),r&512&&n!==null&&Rl(n,n.return);break;case 5:if(Rr(e,t),ei(t),r&512&&n!==null&&Rl(n,n.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(x){dt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&bE(i,o),qg(l,s);var f=qg(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?ME(i,h):d==="dangerouslySetInnerHTML"?TE(i,h):d==="children"?ju(i,h):Ey(i,d,h,f)}switch(l){case"input":Vg(i,o);break;case"textarea":kE(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?jl(i,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?jl(i,!!o.multiple,o.defaultValue,!0):jl(i,!!o.multiple,o.multiple?[]:"",!1))}i[ec]=o}catch(x){dt(t,t.return,x)}}break;case 6:if(Rr(e,t),ei(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){dt(t,t.return,x)}}break;case 3:if(Rr(e,t),ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gu(e.containerInfo)}catch(x){dt(t,t.return,x)}break;case 4:Rr(e,t),ei(t);break;case 13:Rr(e,t),ei(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(r1=Ct())),r&4&&zS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(f=ln)||d,Rr(e,t),ln=f):Rr(e,t),ei(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!d&&(t.mode&1)!==0)for(ue=t,d=t.child;d!==null;){for(h=ue=d;ue!==null;){switch(m=ue,g=m.child,m.tag){case 0:case 11:case 14:case 15:ku(4,m,m.return);break;case 1:Rl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){dt(r,n,x)}}break;case 5:Rl(m,m.return);break;case 22:if(m.memoizedState!==null){HS(h);continue}}g!==null?(g.return=m,ue=g):HS(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=OE("display",s))}catch(x){dt(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(x){dt(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rr(e,t),ei(t),r&4&&zS(t);break;case 21:break;default:Rr(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nk(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ju(i,""),r.flags&=-33);var o=BS(t);w0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=BS(t);D0(t,l,s);break;default:throw Error(X(161))}}catch(u){dt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GL(t,e,n){ue=t,ok(t)}function ok(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Lf;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ln;l=Lf;var f=ln;if(Lf=s,(ln=u)&&!f)for(ue=i;ue!==null;)s=ue,u=s.child,s.tag===22&&s.memoizedState!==null?VS(i):u!==null?(u.return=s,ue=u):VS(i);for(;o!==null;)ue=o,ok(o),o=o.sibling;ue=i,Lf=l,ln=f}$S(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ue=o):$S(t)}}function $S(t){for(;ue!==null;){var e=ue;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ln||Lp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wS(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ln||e.flags&512&&S0(e)}catch(m){dt(e,e.return,m)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function HS(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function VS(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lp(4,e)}catch(u){dt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){dt(e,i,u)}}var o=e.return;try{S0(e)}catch(u){dt(e,o,u)}break;case 5:var s=e.return;try{S0(e)}catch(u){dt(e,s,u)}}}catch(u){dt(e,e.return,u)}if(e===t){ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ue=l;break}ue=e.return}}var YL=Math.ceil,Fd=Ki.ReactCurrentDispatcher,t1=Ki.ReactCurrentOwner,Dr=Ki.ReactCurrentBatchConfig,Ue=0,_t=null,xt=null,qt=0,jn=0,Pl=Vo(0),At=0,sc=null,zs=0,Bp=0,n1=0,Au=null,On=null,r1=0,ua=1/0,_i=null,Rd=!1,E0=null,Eo=null,Bf=!1,yo=null,Pd=0,Tu=0,b0=null,od=-1,sd=0;function Cn(){return(Ue&6)!==0?Ct():od!==-1?od:od=Ct()}function bo(t){return(t.mode&1)===0?1:(Ue&2)!==0&&qt!==0?qt&-qt:FL.transition!==null?(sd===0&&(sd=VE()),sd):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:GE(t.type)),t)}function Ur(t,e,n,r){if(50<Tu)throw Tu=0,b0=null,Error(X(185));Cc(t,n,r),((Ue&2)===0||t!==_t)&&(t===_t&&((Ue&2)===0&&(Bp|=n),At===4&&po(t,qt)),Rn(t,r),n===1&&Ue===0&&(e.mode&1)===0&&(ua=Ct()+500,Rp&&Wo()))}function Rn(t,e){var n=t.callbackNode;FI(t,e);var r=vd(t,t===_t?qt:0);if(r===0)n!==null&&Xx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xx(n),e===1)t.tag===0?_L(WS.bind(null,t)):hb(WS.bind(null,t)),TL(function(){(Ue&6)===0&&Wo()}),n=null;else{switch(WE(r)){case 1:n=Oy;break;case 4:n=$E;break;case 16:n=yd;break;case 536870912:n=HE;break;default:n=yd}n=pk(n,sk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sk(t,e){if(od=-1,sd=0,(Ue&6)!==0)throw Error(X(327));var n=t.callbackNode;if(Yl()&&t.callbackNode!==n)return null;var r=vd(t,t===_t?qt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Id(t,r);else{e=r;var i=Ue;Ue|=2;var o=ak();(_t!==t||qt!==e)&&(_i=null,ua=Ct()+500,bs(t,e));do try{ZL();break}catch(l){lk(t,l)}while(1);Vy(),Fd.current=o,Ue=i,xt!==null?e=0:(_t=null,qt=0,e=At)}if(e!==0){if(e===2&&(i=Qg(t),i!==0&&(r=i,e=k0(t,i))),e===1)throw n=sc,bs(t,0),po(t,r),Rn(t,Ct()),n;if(e===6)po(t,r);else{if(i=t.current.alternate,(r&30)===0&&!XL(i)&&(e=Id(t,r),e===2&&(o=Qg(t),o!==0&&(r=o,e=k0(t,o))),e===1))throw n=sc,bs(t,0),po(t,r),Rn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:cs(t,On,_i);break;case 3:if(po(t,r),(r&130023424)===r&&(e=r1+500-Ct(),10<e)){if(vd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s0(cs.bind(null,t,On,_i),e);break}cs(t,On,_i);break;case 4:if(po(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YL(r/1960))-r,10<r){t.timeoutHandle=s0(cs.bind(null,t,On,_i),r);break}cs(t,On,_i);break;case 5:cs(t,On,_i);break;default:throw Error(X(329))}}}return Rn(t,Ct()),t.callbackNode===n?sk.bind(null,t):null}function k0(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=Id(t,e),t!==2&&(e=On,On=n,e!==null&&A0(e)),t}function A0(t){On===null?On=t:On.push.apply(On,t)}function XL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(t,e){for(e&=~n1,e&=~Bp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function WS(t){if((Ue&6)!==0)throw Error(X(327));Yl();var e=vd(t,0);if((e&1)===0)return Rn(t,Ct()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=Qg(t);r!==0&&(e=r,n=k0(t,r))}if(n===1)throw n=sc,bs(t,0),po(t,e),Rn(t,Ct()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,On,_i),Rn(t,Ct()),null}function i1(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(ua=Ct()+500,Rp&&Wo())}}function $s(t){yo!==null&&yo.tag===0&&(Ue&6)===0&&Yl();var e=Ue;Ue|=1;var n=Dr.transition,r=Ge;try{if(Dr.transition=null,Ge=1,t)return t()}finally{Ge=r,Dr.transition=n,Ue=e,(Ue&6)===0&&Wo()}}function o1(){jn=Pl.current,rt(Pl)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AL(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:la(),rt(_n),rt(un),Jy();break;case 5:qy(r);break;case 4:la();break;case 13:rt(at);break;case 19:rt(at);break;case 10:Wy(r.type._context);break;case 22:case 23:o1()}n=n.return}if(_t=t,xt=t=ko(t.current,null),qt=jn=e,At=0,sc=null,n1=Bp=zs=0,On=Au=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cs=null}return t}function lk(t,e){do{var n=xt;try{if(Vy(),nd.current=_d,Nd){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(Bs=0,Nt=kt=ut=null,bu=!1,rc=0,t1.current=null,n===null||n.return===null){At=1,sc=e,xt=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=qt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,d=l,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=MS(s);if(g!==null){g.flags&=-257,NS(g,s,l,o,e),g.mode&1&&OS(o,f,e),e=g,u=f;var v=e.updateQueue;if(v===null){var x=new Set;x.add(u),e.updateQueue=x}else v.add(u);break e}else{if((e&1)===0){OS(o,f,e),s1();break e}u=Error(X(426))}}else if(st&&l.mode&1){var k=MS(s);if(k!==null){(k.flags&65536)===0&&(k.flags|=256),NS(k,s,l,o,e),$y(aa(u,l));break e}}o=u=aa(u,l),At!==4&&(At=2),Au===null?Au=[o]:Au.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Ub(o,u,e);DS(o,S);break e;case 1:l=u;var b=o.type,A=o.stateNode;if((o.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Eo===null||!Eo.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=jb(o,l,e);DS(o,w);break e}}o=o.return}while(o!==null)}ck(n)}catch(R){e=R,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function ak(){var t=Fd.current;return Fd.current=_d,t===null?_d:t}function s1(){(At===0||At===3||At===2)&&(At=4),_t===null||(zs&268435455)===0&&(Bp&268435455)===0||po(_t,qt)}function Id(t,e){var n=Ue;Ue|=2;var r=ak();(_t!==t||qt!==e)&&(_i=null,bs(t,e));do try{QL();break}catch(i){lk(t,i)}while(1);if(Vy(),Ue=n,Fd.current=r,xt!==null)throw Error(X(261));return _t=null,qt=0,At}function QL(){for(;xt!==null;)uk(xt)}function ZL(){for(;xt!==null&&!EI();)uk(xt)}function uk(t){var e=dk(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?ck(t):xt=e,t1.current=null}function ck(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=jL(n,e,jn),n!==null){xt=n;return}}else{if(n=KL(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,xt=null;return}}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);At===0&&(At=5)}function cs(t,e,n){var r=Ge,i=Dr.transition;try{Dr.transition=null,Ge=1,eB(t,e,n,r)}finally{Dr.transition=i,Ge=r}return null}function eB(t,e,n,r){do Yl();while(yo!==null);if((Ue&6)!==0)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(RI(t,o),t===_t&&(xt=_t=null,qt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Bf||(Bf=!0,pk(yd,function(){return Yl(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Dr.transition,Dr.transition=null;var s=Ge;Ge=1;var l=Ue;Ue|=4,t1.current=null,JL(t,n),ik(n,t),xL(i0),Cd=!!r0,i0=r0=null,t.current=n,GL(n),bI(),Ue=l,Ge=s,Dr.transition=o}else t.current=n;if(Bf&&(Bf=!1,yo=t,Pd=i),o=t.pendingLanes,o===0&&(Eo=null),TI(n.stateNode),Rn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,t=E0,E0=null,t;return(Pd&1)!==0&&t.tag!==0&&Yl(),o=t.pendingLanes,(o&1)!==0?t===b0?Tu++:(Tu=0,b0=t):Tu=0,Wo(),null}function Yl(){if(yo!==null){var t=WE(Pd),e=Dr.transition,n=Ge;try{if(Dr.transition=null,Ge=16>t?16:t,yo===null)var r=!1;else{if(t=yo,yo=null,Pd=0,(Ue&6)!==0)throw Error(X(331));var i=Ue;for(Ue|=4,ue=t.current;ue!==null;){var o=ue,s=o.child;if((ue.flags&16)!==0){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(ue=f;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:ku(8,d,o)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var m=d.sibling,g=d.return;if(tk(d),d===f){ue=null;break}if(m!==null){m.return=g,ue=m;break}ue=g}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}ue=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:ku(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ue=S;break e}ue=o.return}}var b=t.current;for(ue=b;ue!==null;){s=ue;var A=s.child;if((s.subtreeFlags&2064)!==0&&A!==null)A.return=s,ue=A;else e:for(s=b;ue!==null;){if(l=ue,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Lp(9,l)}}catch(R){dt(l,l.return,R)}if(l===s){ue=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ue=w;break e}ue=l.return}}if(Ue=i,Wo(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Op,t)}catch{}r=!0}return r}finally{Ge=n,Dr.transition=e}}return!1}function US(t,e,n){e=aa(n,e),e=Ub(t,e,1),t=wo(t,e,1),e=Cn(),t!==null&&(Cc(t,1,e),Rn(t,e))}function dt(t,e,n){if(t.tag===3)US(t,t,n);else for(;e!==null;){if(e.tag===3){US(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=aa(n,t),t=jb(e,t,1),e=wo(e,t,1),t=Cn(),e!==null&&(Cc(e,1,t),Rn(e,t));break}}e=e.return}}function tB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(qt&n)===n&&(At===4||At===3&&(qt&130023424)===qt&&500>Ct()-r1?bs(t,0):n1|=n),Rn(t,e)}function fk(t,e){e===0&&((t.mode&1)===0?e=1:(e=Tf,Tf<<=1,(Tf&130023424)===0&&(Tf=4194304)));var n=Cn();t=Wi(t,e),t!==null&&(Cc(t,e,n),Rn(t,n))}function nB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fk(t,n)}function rB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),fk(t,n)}var dk;dk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)Mn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Mn=!1,UL(t,e,n);Mn=(t.flags&131072)!==0}else Mn=!1,st&&(e.flags&1048576)!==0&&mb(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;id(t,e),t=e.pendingProps;var i=ia(e,un.current);Gl(e,n),i=Yy(null,e,r,t,i,n);var o=Xy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(o=!0,Ed(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jy(e),i.updater=Pp,e.stateNode=i,i._reactInternals=e,p0(e,r,t,n),e=g0(null,e,r,!0,o,n)):(e.tag=0,st&&o&&By(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(id(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oB(r),t=Pr(r,t),i){case 0:e=m0(null,e,r,t,n);break e;case 1:e=RS(null,e,r,t,n);break e;case 11:e=_S(null,e,r,t,n);break e;case 14:e=FS(null,e,r,Pr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),m0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),RS(t,e,r,i,n);case 3:e:{if(Gb(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Cb(t,e),Od(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=aa(Error(X(423)),e),e=PS(t,e,r,n,i);break e}else if(r!==i){i=aa(Error(X(424)),e),e=PS(t,e,r,n,i);break e}else for(Jn=Do(e.stateNode.containerInfo.firstChild),Yn=e,st=!0,Br=null,n=wb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===i){e=Ui(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return Eb(e),t===null&&c0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,o0(r,i)?s=null:o!==null&&o0(r,o)&&(e.flags|=32),Jb(t,e),yn(t,e,s,n),e.child;case 6:return t===null&&c0(e),null;case 13:return Yb(t,e,n);case 4:return Ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),_S(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,et(Ad,r._currentValue),r._currentValue=s,o!==null)if(Kr(o.value,s)){if(o.children===i.children&&!_n.current){e=Ui(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=$i(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?u.next=u:(u.next=d.next,d.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),f0(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),f0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gl(e,n),i=Er(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=Pr(r,e.pendingProps),i=Pr(r.type,i),FS(t,e,r,i,n);case 15:return Kb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),id(t,e),e.tag=1,Fn(r)?(t=!0,Ed(e)):t=!1,Gl(e,n),Sb(e,r,i),p0(e,r,i,n),g0(null,e,r,!0,t,n);case 19:return Xb(t,e,n);case 22:return qb(t,e,n)}throw Error(X(156,e.tag))};function pk(t,e){return zE(t,e)}function iB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new iB(t,e,n,r)}function l1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oB(t){if(typeof t=="function")return l1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ky)return 11;if(t===Ay)return 14}return 2}function ko(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ld(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")l1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case bl:return ks(n.children,i,o,e);case by:s=8,i|=8;break;case Lg:return t=xr(12,n,e,i|2),t.elementType=Lg,t.lanes=o,t;case Bg:return t=xr(13,n,e,i),t.elementType=Bg,t.lanes=o,t;case zg:return t=xr(19,n,e,i),t.elementType=zg,t.lanes=o,t;case DE:return zp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xE:s=10;break e;case SE:s=9;break e;case ky:s=11;break e;case Ay:s=14;break e;case lo:s=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=xr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ks(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function zp(t,e,n,r){return t=xr(22,t,r,e),t.elementType=DE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ym(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a1(t,e,n,r,i,o,s,l,u){return t=new sB(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jy(o),t}function lB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:El,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hk(t){if(!t)return Fo;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Fn(n))return pb(t,n,e)}return e}function mk(t,e,n,r,i,o,s,l,u){return t=a1(n,r,!0,t,i,o,s,l,u),t.context=hk(null),n=t.current,r=Cn(),i=bo(n),o=$i(r,i),o.callback=e!=null?e:null,wo(n,o,i),t.current.lanes=i,Cc(t,i,r),Rn(t,r),t}function $p(t,e,n,r){var i=e.current,o=Cn(),s=bo(i);return n=hk(n),e.context===null?e.context=n:e.pendingContext=n,e=$i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Ur(t,i,s,o),td(t,i,s)),s}function Ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u1(t,e){jS(t,e),(t=t.alternate)&&jS(t,e)}function aB(){return null}var gk=typeof reportError=="function"?reportError:function(t){console.error(t)};function c1(t){this._internalRoot=t}Hp.prototype.render=c1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));$p(t,e,null,null)};Hp.prototype.unmount=c1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$s(function(){$p(null,t,null,null)}),e[Vi]=null}};function Hp(t){this._internalRoot=t}Hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fo.length&&e!==0&&e<fo[n].priority;n++);fo.splice(n,0,t),n===0&&JE(t)}};function f1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KS(){}function uB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Ld(s);o.call(f)}}var s=mk(e,r,t,0,null,!1,!1,"",KS);return t._reactRootContainer=s,t[Vi]=s.current,Qu(t.nodeType===8?t.parentNode:t),$s(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Ld(u);l.call(f)}}var u=a1(t,0,!1,null,null,!1,!1,"",KS);return t._reactRootContainer=u,t[Vi]=u.current,Qu(t.nodeType===8?t.parentNode:t),$s(function(){$p(e,u,n,r)}),u}function Wp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Ld(s);l.call(u)}}$p(e,s,t,i)}else s=uB(n,e,t,i,r);return Ld(s)}UE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(My(e,n|1),Rn(e,Ct()),(Ue&6)===0&&(ua=Ct()+500,Wo()))}break;case 13:$s(function(){var r=Wi(t,1);if(r!==null){var i=Cn();Ur(r,t,1,i)}}),u1(t,1)}};Ny=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=Cn();Ur(e,t,134217728,n)}u1(t,134217728)}};jE=function(t){if(t.tag===13){var e=bo(t),n=Wi(t,e);if(n!==null){var r=Cn();Ur(n,t,e,r)}u1(t,e)}};KE=function(){return Ge};qE=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Gg=function(t,e,n){switch(e){case"input":if(Vg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fp(r);if(!i)throw Error(X(90));EE(r),Vg(r,i)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&jl(t,!!n.multiple,e,!1)}};FE=i1;RE=$s;var cB={usingClientEntryPoint:!1,Events:[Sc,Ol,Fp,NE,_E,i1]},su={findFiberByHostInstance:vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fB={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LE(t),t===null?null:t.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||aB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Op=zf.inject(fB),ci=zf}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cB;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f1(e))throw Error(X(200));return lB(t,e,null,n)};nr.createRoot=function(t,e){if(!f1(t))throw Error(X(299));var n=!1,r="",i=gk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a1(t,1,!1,null,null,n,!1,r,i),t[Vi]=e.current,Qu(t.nodeType===8?t.parentNode:t),new c1(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=LE(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return $s(t)};nr.hydrate=function(t,e,n){if(!Vp(e))throw Error(X(200));return Wp(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!f1(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=mk(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Vi]=e.current,Qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hp(e)};nr.render=function(t,e,n){if(!Vp(e))throw Error(X(200));return Wp(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Vp(t))throw Error(X(40));return t._reactRootContainer?($s(function(){Wp(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};nr.unstable_batchedUpdates=i1;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vp(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Wp(t,e,n,!1,r)};nr.version="18.2.0-next-9e3b772b8-20220608";function yk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yk)}catch(t){console.error(t)}}yk(),Tp.exports=nr;var dB=Tp.exports,qS=Tp.exports;Pg.createRoot=qS.createRoot,Pg.hydrateRoot=qS.hydrateRoot;function Wt(t){this.content=t}Wt.prototype={constructor:Wt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Wt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Wt(n)},addToStart:function(t,e){return new Wt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Wt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Wt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Wt.from(t),t.size?new Wt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Wt.from(t),t.size?new Wt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Wt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};Wt.from=function(t){if(t instanceof Wt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Wt(e)};function vk(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=vk(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Ck(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,d=Math.min(s.text.length,l.text.length);for(;f<d&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=Ck(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class U{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>e&&r(u,i+l,o||null,s)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,u)=>{l.isText?(o+=l.text.slice(Math.max(e,u)-u,n-u),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new U(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],u=s+l.nodeSize;u>e&&((s<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=u}return new U(r,i)}cutByIndex(e,n){return e==n?U.empty:e==0&&n==this.content.length?this:new U(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new U(i,o)}addToStart(e){return new U([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new U(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return vk(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Ck(this,e,n,r)}findIndex(e,n=-1){if(e==0)return $f(0,e);if(e==this.size)return $f(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?$f(r+1,s):$f(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return U.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new U(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return U.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new U(n||e,r)}static from(e){if(!e)return U.empty;if(e instanceof U)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new U([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}U.empty=new U([],0);const Qm={index:0,offset:0};function $f(t,e){return Qm.index=t,Qm.offset=e,Qm}function Bd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Bd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Bd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Je{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Je.none;if(e instanceof Je)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Je.none=[];class lc extends Error{}class te{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Sk(this.content,e+this.openStart,n);return r&&new te(r,this.openStart,this.openEnd)}removeBetween(e,n){return new te(xk(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(U.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new te(e,r,i)}}te.empty=new te(U.empty,0,0);function xk(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(xk(o.content,e-i-1,n-i-1)))}function Sk(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=Sk(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function pB(t,e,n){if(n.openStart>t.depth)throw new lc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new lc("Inconsistent open depths");return Dk(t,e,n,0)}function Dk(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=Dk(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return Ts(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=hB(n,t);return Ts(o,Ek(t,s,l,e,r))}else return Ts(o,zd(t,e,r))}function wk(t,e){if(!e.type.compatibleContent(t.type))throw new lc("Cannot join "+e.type.name+" onto "+t.type.name)}function T0(t,e,n){let r=t.node(n);return wk(r,e.node(n)),r}function As(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ou(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(As(t.nodeAfter,r),o++));for(let l=o;l<s;l++)As(i.child(l),r);e&&e.depth==n&&e.textOffset&&As(e.nodeBefore,r)}function Ts(t,e){if(!t.type.validContent(e))throw new lc("Invalid content for node "+t.type.name);return t.copy(e)}function Ek(t,e,n,r,i){let o=t.depth>i&&T0(t,e,i+1),s=r.depth>i&&T0(n,r,i+1),l=[];return Ou(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(wk(o,s),As(Ts(o,Ek(t,e,n,r,i+1)),l)):(o&&As(Ts(o,zd(t,e,i+1)),l),Ou(e,n,i,l),s&&As(Ts(s,zd(n,r,i+1)),l)),Ou(r,null,i,l),new U(l)}function zd(t,e,n){let r=[];if(Ou(null,t,n,r),t.depth>n){let i=T0(t,e,n+1);As(Ts(i,zd(t,e,n+1)),r)}return Ou(e,null,n,r),new U(r)}function hB(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(U.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ac{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Je.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new $d(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:u}=s.content.findIndex(o),f=o-u;if(r.push(s,l,i+u),!f||(s=s.child(l),s.isText))break;o=f-1,i+=u+1}return new ac(n,r,o)}static resolveCached(e,n){for(let i=0;i<Zm.length;i++){let o=Zm[i];if(o.pos==n&&o.doc==e)return o}let r=Zm[eg]=ac.resolve(e,n);return eg=(eg+1)%mB,r}}let Zm=[],eg=0,mB=12;class $d{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const gB=Object.create(null);class di{constructor(e,n,r,i=Je.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||U.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Bd(this.attrs,n||e.defaultAttrs||gB)&&Je.sameSet(this.marks,r||Je.none)}copy(e=null){return e==this.content?this:new di(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new di(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return te.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),f=i.node(s).content.cut(i.pos-l,o.pos-l);return new te(f,i.depth-s,o.depth-s)}replace(e,n,r){return pB(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ac.resolveCached(this,e)}resolveNoCache(e){return ac.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bk(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=U.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Je.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Je.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=U.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}di.prototype.text=void 0;class Hd extends di{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bk(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bk(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Hs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new yB(e,n);if(r.next==null)return Hs.empty;let i=kk(r);r.next&&r.err("Unexpected trailing text");let o=EB(wB(i));return bB(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return U.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:d,next:h}=s.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let m=o(h,l.concat(d));if(m)return m}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:u}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Hs.empty=new Hs(!0);class yB{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function kk(t){let e=[];do e.push(vB(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vB(t){let e=[];do e.push(CB(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function CB(t){let e=DB(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=xB(t,e);else break;return e}function JS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function xB(t,e){let n=JS(t),r=n;return t.eat(",")&&(t.next!="}"?r=JS(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function SB(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function DB(t){if(t.eat("(")){let e=kk(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=SB(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function wB(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,u){let f={term:u,to:l};return e[s].push(f),f}function i(s,l){s.forEach(u=>u.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(o(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=o(s.exprs[u],l);if(u==s.exprs.length-1)return f;i(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),i(o(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(o(s.expr,l),u),i(o(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let d=n();i(o(s.expr,u),d),u=d}if(s.max==-1)i(o(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let d=n();r(u,d),i(o(s.expr,u),d),u=d}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Ak(t,e){return e-t}function GS(t,e){let n=[];return r(e),n.sort(Ak);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:u}=o[s];!l&&n.indexOf(u)==-1&&r(u)}}}function EB(t){let e=Object.create(null);return n(GS(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);GS(t,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let o=e[r.join(",")]=new Hs(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(Ak);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function bB(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];s.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Tk(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Ok(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Mk(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new kB(t[n]);return e}class Vd{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Mk(r.attrs),this.defaultAttrs=Tk(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ok(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new di(this,this.computeAttrs(e),U.from(n),Je.setFrom(r))}createChecked(e=null,n,r){if(n=U.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new di(this,this.computeAttrs(e),n,Je.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=U.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(U.empty,!0);return o?new di(this,e,n.append(o),Je.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Je.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Vd(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class kB{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Up{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Mk(i.attrs),this.excluded=null;let o=Tk(this.attrs);this.instance=o?new Je(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Je(this,Ok(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Up(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class AB{constructor(e){this.cached=Object.create(null),this.spec={nodes:Wt.from(e.nodes),marks:Wt.from(e.marks||{}),topNode:e.topNode},this.nodes=Vd.compile(this.spec.nodes,this),this.marks=Up.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=Hs.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=s=="_"?null:s?YS(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:YS(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Vd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Hd(r,r.defaultAttrs,e,Je.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return di.fromJSON(this,e)}markFromJSON(e){return Je.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function YS(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Ro{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new QS(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new QS(this,n,!0);return r.addAll(e,n.from,n.to),te.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(MB(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ZS(s)),s.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ZS(s)),s.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ro(e,Ro.schemaRules(e)))}}const Nk={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},TB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_k={ol:!0,ul:!0},Wd=1,Ud=2,Mu=4;function XS(t,e,n){return e!=null?(e?Wd:0)|(e==="full"?Ud:0):t&&t.whitespace=="pre"?Wd|Ud:n&~Mu}class Hf{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Je.none,this.stashMarks=[],this.match=s||(l&Mu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(U.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Wd)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=U.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(U.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):_B(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Nk.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class QS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=XS(null,n.preserveWhitespace,0)|(r?Mu:0);i?o=new Hf(i.type,i.attrs,Je.none,Je.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Hf(null,null,Je.none,Je.none,!0,null,s):o=new Hf(e.schema.topNodeType,null,Je.none,Je.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(NB(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ud||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Wd)r.options&Ud?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;_k.hasOwnProperty(r)&&this.parser.normalizeLists&&OB(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:TB.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,u=this.needsBlock;if(Nk.hasOwnProperty(r))s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(l),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Je.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=XS(e,i,o.options);o.options&Mu&&o.content.length==0&&(s|=Mu),this.nodes.push(new Hf(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=o;u--)if(s(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!d||d.name!=f&&d.groups.indexOf(f)==-1)return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=FB(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function OB(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&_k.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function MB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function NB(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function ZS(t){let e={};for(let n in t)e[n]=t[n];return e}function _B(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==e||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}function FB(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Nn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=tg(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,u=0;for(;l<o.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(o[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<o.length;)i=o.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],d=this.serializeMark(f,s.isInline,n);d&&(o.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Nn.renderSpec(tg(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Nn.renderSpec(tg(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),u=n[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let d in u)if(u[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),u[d]):l.setAttribute(d,u[d])}}for(let d=f;d<n.length;d++){let h=n[d];if(h===0){if(d<n.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:g}=Nn.renderSpec(e,h,r);if(l.appendChild(m),g){if(s)throw new RangeError("Multiple content holes");s=g}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Nn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=eD(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return eD(e.marks)}}function eD(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tg(t){return t.document||window.document}const Fk=65535,Rk=Math.pow(2,16);function RB(t,e){return t+e*Rk}function tD(t){return t&Fk}function PB(t){return(t-(t&Fk))/Rk}const Pk=1,Ik=2,ad=4,Lk=8;class O0{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Lk)>0}get deletedBefore(){return(this.delInfo&(Pk|ad))>0}get deletedAfter(){return(this.delInfo&(Ik|ad))>0}get deletedAcross(){return(this.delInfo&ad)>0}}class zr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&zr.empty)return zr.empty}recover(e){let n=0,r=tD(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+PB(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+o],d=this.ranges[l+s],h=u+f;if(e<=h){let m=f?e==u?-1:e==h?1:n:n,g=u+i+(m<0?0:d);if(r)return g;let v=e==(n<0?u:h)?null:RB(l/3,e-u),x=e==u?Ik:e==h?Pk:ad;return(n<0?e!=u:e!=h)&&(x|=Lk),new O0(g,x,v)}i+=d-f}return r?e+i:new O0(e+i,0,null)}touches(e,n){let r=0,i=tD(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+o],d=u+f;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),u=s+(this.inverted?0:o),f=this.ranges[i+n],d=this.ranges[i+r];e(l,l+f,u,u+d),o+=d-f}}invert(){return new zr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zr.empty:new zr(e<0?[0,-e,0]:[0,0,e])}}zr.empty=new zr([]);class Xl{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Xl(this.maps,this.mirror,e,n)}copy(){return new Xl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Xl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new O0(e,i,null)}}const ng=Object.create(null);class Uo{getMap(){return zr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ng[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ng)throw new RangeError("Duplicate use of step JSON ID "+e);return ng[e]=n,n.prototype.jsonID=e,n}}class Gn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Gn(e,null)}static fail(e){return new Gn(null,e)}static fromReplace(e,n,r,i){try{return Gn.ok(e.replace(n,r,i))}catch(o){if(o instanceof lc)return Gn.fail(o.message);throw o}}}function d1(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(d1(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return U.fromArray(r)}class vo extends Uo{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new te(d1(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Gn.fromReplace(e,this.from,this.to,o)}invert(){return new ai(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new vo(n.pos,r.pos,this.mark)}merge(e){return e instanceof vo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new vo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new vo(n.from,n.to,e.markFromJSON(n.mark))}}Uo.jsonID("addMark",vo);class ai extends Uo{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new te(d1(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Gn.fromReplace(e,this.from,this.to,r)}invert(){return new vo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ai(n.pos,r.pos,this.mark)}merge(e){return e instanceof ai&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ai(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ai(n.from,n.to,e.markFromJSON(n.mark))}}Uo.jsonID("removeMark",ai);class an extends Uo{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&M0(e,this.from,this.to)?Gn.fail("Structure replace would overwrite content"):Gn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zr([this.from,this.to-this.from,this.slice.size])}invert(e){return new an(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new an(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof an)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new an(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new an(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new an(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Uo.jsonID("replace",an);class Ft extends Uo{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(M0(e,this.from,this.gapFrom)||M0(e,this.gapTo,this.to)))return Gn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Gn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Gn.fromReplace(e,this.from,this.to,r):Gn.fail("Content does not fit in gap")}getMap(){return new zr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ft(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ft(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ft(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Uo.jsonID("replaceAround",Ft);function M0(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function IB(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(u,f,d)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let m=Math.max(f,e),g=Math.min(f+u.nodeSize,n),v=r.addToSet(h);for(let x=0;x<h.length;x++)h[x].isInSet(v)||(s&&s.to==m&&s.mark.eq(h[x])?s.to=g:i.push(s=new ai(m,g,h[x])));l&&l.to==m?l.to=g:o.push(l=new vo(m,g,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function LB(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let u=null;if(r instanceof Up){let f=s.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let d=0;d<u.length;d++){let h=u[d],m;for(let g=0;g<i.length;g++){let v=i[g];v.step==o-1&&h.eq(i[g].style)&&(m=v)}m?(m.to=f,m.step=o):i.push({style:h,from:Math.max(l,e),to:f,step:o})}}}),i.forEach(s=>t.step(new ai(s.from,s.to,s.style)))}function BB(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),f=s+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new an(s,f,te.empty));else{r=d;for(let h=0;h<u.marks.length;h++)n.allowsMarkType(u.marks[h].type)||t.step(new ai(s,f,u.marks[h]))}s=f}if(!r.validEnd){let l=r.fillBefore(U.empty,!0);t.replace(s,s,new te(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function zB(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Aa(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!zB(i,o,s))break}return null}function $B(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),u=s,f=l,d=U.empty,h=0;for(let v=o,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,d=U.from(r.node(v).copy(d)),h++):u--;let m=U.empty,g=0;for(let v=o,x=!1;v>n;v--)x||i.after(v+1)<i.end(v)?(x=!0,m=U.from(i.node(v).copy(m)),g++):f++;t.step(new Ft(u,f,s,l,new te(d.append(m),h,g),d.size-h,!0))}function p1(t,e,n=null,r=t){let i=HB(t,e),o=i&&VB(r,e);return o?i.map(nD).concat({type:e,attrs:n}).concat(o.map(nD)):null}function nD(t){return{type:t,attrs:null}}function HB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function VB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let u=(s.length?s[s.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:s}function WB(t,e,n){let r=U.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=U.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ft(i,o,i,o,new te(r,0,0),n.length,!0))}function UB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&jB(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let u=t.mapping.slice(o),f=u.map(l,1),d=u.map(l+s.nodeSize,1);return t.step(new Ft(f,d,f+1,d-1,new te(U.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function jB(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function KB(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ft(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new te(U.from(s),0,0),1,!0))}function Ql(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>o;f--,d--){let h=i.node(f),m=i.index(f);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(m,h.childCount),v=r&&r[d]||h;if(v!=h&&(g=g.replaceChild(0,v.type.create(v.attrs))),!h.canReplace(m+1,h.childCount)||!v.type.validContent(g))return!1}let l=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(l,l,u?u.type:i.node(o+1).type)}function qB(t,e,n=1,r){let i=t.doc.resolve(e),o=U.empty,s=U.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){o=U.from(i.node(l).copy(o));let d=r&&r[f];s=U.from(d?d.type.create(d.attrs,s):i.node(l).copy(s))}t.step(new an(e,e,new te(o.append(s),n,n),!0))}function wc(t,e){let n=t.resolve(e),r=n.index();return JB(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function JB(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function GB(t,e,n){let r=new an(e-n,e+n,te.empty,!0);t.step(r)}function YB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function jp(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),d=!1;if(o==1)d=f.canReplace(u,u,i);else{let h=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=h&&f.canReplaceWith(u,u,h[0])}if(d)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function h1(t,e,n=e,r=te.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Bk(i,o,r)?new an(e,n,r):new XB(i,o,r).fit()}function Bk(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class XB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=U.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=U.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let u=new te(o,s,l);return e>-1?new Ft(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new an(r.pos,i.pos,u):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=rg(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],f,d=null;if(e==1&&(o?u.matchType(o.type)||(d=u.fillBefore(U.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:d};if(e==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:f};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=rg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=rg(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new te(yu(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new te(yu(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-e,f=0,d=[],{match:h,type:m}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)d.push(i.child(x));h=h.matchFragment(i)}let g=l.size+e-(s.content.size-s.openEnd);for(;f<l.childCount;){let x=l.child(f),k=h.matchType(x.type);if(!k)break;f++,(f>1||u==0||x.content.size)&&(h=k,d.push(zk(x.mark(m.allowedMarks(x.marks)),f==1?u:0,f==l.childCount?g:-1)))}let v=f==l.childCount;v||(g=-1),this.placed=vu(this.placed,n,U.from(d)),this.frontier[n].match=h,v&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,k=l;x<g;x++){let S=k.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),k=S.content}this.unplaced=v?e==0?te.empty:new te(yu(s.content,e-1,1),e-1,g<0?s.openEnd:e-1):new te(yu(s.content,e,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ig(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=ig(e,n,i,r,o);if(!!s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=ig(e,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vu(this.placed,this.depth,U.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(U.empty,!0);n.childCount&&(this.placed=vu(this.placed,this.frontier.length,n))}}function yu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(yu(t.firstChild.content,e-1,n)))}function vu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vu(t.lastChild.content,e-1,n)))}function rg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function zk(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,zk(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(U.empty,!0)))),t.copy(r)}function ig(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!QB(n,o.content,s)?l:null}function QB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ZB(t){return t.spec.defining||t.spec.definingForContent}function e3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Bk(i,o,r))return t.step(new an(e,n,r));let s=Hk(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let m=i.depth,g=i.pos-1;m>0;m--,g--){let v=i.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;s.indexOf(m)>-1?l=m:i.before(m)==g&&s.splice(1,0,-m)}let u=s.indexOf(l),f=[],d=r.openStart;for(let m=r.content,g=0;;g++){let v=m.firstChild;if(f.push(v),g==r.openStart)break;m=v.content}for(let m=d-1;m>=0;m--){let g=f[m].type,v=ZB(g);if(v&&i.node(u).type!=g)d=m;else if(v||!g.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+d+1)%(r.openStart+1),v=f[g];if(!!v)for(let x=0;x<s.length;x++){let k=s[(x+u)%s.length],S=!0;k<0&&(S=!1,k=-k);let b=i.node(k-1),A=i.index(k-1);if(b.canReplaceWith(A,A,v.type,v.marks))return t.replace(i.before(k),S?o.after(k):n,new te($k(r.content,0,r.openStart,g),g,r.openEnd))}}let h=t.steps.length;for(let m=s.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>h));m--){let g=s[m];g<0||(e=i.before(g),n=o.after(g))}}function $k(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy($k(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(U.empty,!0))}return t}function t3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=YB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new te(U.from(r),0,0))}function n3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Hk(r,i);for(let s=0;s<o.length;s++){let l=o[s],u=s==o.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Hk(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let ca=class extends Error{};ca=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ca.prototype=Object.create(Error.prototype);ca.prototype.constructor=ca;ca.prototype.name="TransformError";class m1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ca(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=te.empty){let i=h1(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new te(U.from(r),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return e3(this,e,n,r),this}replaceRangeWith(e,n,r){return t3(this,e,n,r),this}deleteRange(e,n){return n3(this,e,n),this}lift(e,n){return $B(this,e,n),this}join(e,n=1){return GB(this,e,n),this}wrap(e,n){return WB(this,e,n),this}setBlockType(e,n=e,r,i=null){return UB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return KB(this,e,n,r,i),this}split(e,n=1,r){return qB(this,e,n,r),this}addMark(e,n,r){return IB(this,e,n,r),this}removeMark(e,n,r){return LB(this,e,n,r),this}clearIncompatible(e,n,r){return BB(this,e,n,r),this}}const og=Object.create(null);class ge{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Vk(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],d=e.mapping.slice(o);e.replaceRange(d.map(u.pos),d.map(f.pos),l?te.empty:n),l==0&&oD(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],u=e.mapping.slice(r),f=u.map(s.pos),d=u.map(l.pos);o?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),oD(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ae(e):Cl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Cl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Cl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Xn(e.node(0))}static atStart(e){return Cl(e,e,0,0,1)||new Xn(e)}static atEnd(e){return Cl(e,e,e.content.size,e.childCount,-1)||new Xn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=og[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in og)throw new RangeError("Duplicate use of selection JSON ID "+e);return og[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ae.between(this.$anchor,this.$head).getBookmark()}}ge.prototype.visible=!0;class Vk{constructor(e,n){this.$from=e,this.$to=n}}let rD=!1;function iD(t){!rD&&!t.parent.inlineContent&&(rD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ae extends ge{constructor(e,n=e){iD(e),iD(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ge.near(r);let i=e.resolve(n.map(this.anchor));return new ae(i.parent.inlineContent?i:r,r)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ae&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Kp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ae(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ge.findFrom(n,r,!0)||ge.findFrom(n,-r,!0);if(o)n=o.$head;else return ge.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ge.findFrom(e,-r,!0)||ge.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ae(e,n)}}ge.jsonID("text",ae);class Kp{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Kp(e.map(this.anchor),e.map(this.head))}resolve(e){return ae.between(e.resolve(this.anchor),e.resolve(this.head))}}class Q extends ge{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ge.near(o):new Q(o)}content(){return new te(U.from(this.node),0,0)}eq(e){return e instanceof Q&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new g1(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Q(e.resolve(n.anchor))}static create(e,n){return new Q(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Q.prototype.visible=!1;ge.jsonID("node",Q);class g1{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Kp(r,r):new g1(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Q.isSelectable(r)?new Q(n):ge.near(n)}}class Xn extends ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let r=ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Xn(e)}map(e){return new Xn(e)}eq(e){return e instanceof Xn}getBookmark(){return r3}}ge.jsonID("all",Xn);const r3={map(){return this},resolve(t){return new Xn(t)}};function Cl(t,e,n,r,i,o=!1){if(e.inlineContent)return ae.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&Q.isSelectable(l))return Q.create(t,n-(i<0?l.nodeSize:0))}else{let u=Cl(t,l,n+i,i<0?l.childCount:0,i,o);if(u)return u}n+=l.nodeSize*i}return null}function oD(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof an||i instanceof Ft))return;let o=t.mapping.maps[r],s;o.forEach((l,u,f,d)=>{s==null&&(s=d)}),t.setSelection(ge.near(t.doc.resolve(s),n))}const sD=1,Vf=2,lD=4;class i3 extends m1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|sD)&~Vf,this.storedMarks=null,this}get selectionSet(){return(this.updated&sD)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vf,this}ensureMarks(e){return Je.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Vf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Je.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ge.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=lD,this}get scrolledIntoView(){return(this.updated&lD)>0}}function aD(t,e){return!e||!t?t:t.bind(e)}class Cu{constructor(e,n,r){this.name=e,this.init=aD(n.init,r),this.apply=aD(n.apply,r)}}const o3=[new Cu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Cu("selection",{init(t,e){return t.selection||ge.atStart(e.doc)},apply(t){return t.selection}}),new Cu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Cu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class sg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=o3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Cu(r.key,r.spec.state,r))})}}class Il{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=i?i[s].n:0,f=i?i[s].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Il(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new i3(this)}static create(e){let n=new sg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Il(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new sg(this.schema,e.plugins),r=n.fields,i=new Il(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new sg(e.schema,e.plugins),o=new Il(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=di.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ge.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=f.fromJSON.call(u,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Wk(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Wk(i,e,{})),n[r]=i}return n}class Dt{constructor(e){this.spec=e,this.props={},e.props&&Wk(e.props,this,this.props),this.key=e.key?e.key.key:Uk("plugin")}getState(e){return e[this.key]}}const lg=Object.create(null);function Uk(t){return t in lg?t+"$"+ ++lg[t]:(lg[t]=0,t+"$")}class Xt{constructor(e="key"){this.key=Uk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Po=typeof navigator!="undefined"?navigator:null,uD=typeof document!="undefined"?document:null,jo=Po&&Po.userAgent||"",N0=/Edge\/(\d+)/.exec(jo),jk=/MSIE \d/.exec(jo),_0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jo),Qn=!!(jk||_0||N0),Ao=jk?document.documentMode:_0?+_0[1]:N0?+N0[1]:0,hi=!Qn&&/gecko\/(\d+)/i.test(jo);hi&&+(/Firefox\/(\d+)/.exec(jo)||[0,0])[1];const F0=!Qn&&/Chrome\/(\d+)/.exec(jo),vn=!!F0,s3=F0?+F0[1]:0,Ln=!Qn&&!!Po&&/Apple Computer/.test(Po.vendor),fa=Ln&&(/Mobile\/\w+/.test(jo)||!!Po&&Po.maxTouchPoints>2),hr=fa||(Po?/Mac/.test(Po.platform):!1),si=/Android \d/.test(jo),qp=!!uD&&"webkitFontSmoothing"in uD.documentElement.style,l3=qp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,qn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},y1=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let cD=null;const Fi=function(t,e,n){let r=cD||(cD=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},uc=function(t,e,n,r){return n&&(fD(t,e,n,r,-1)||fD(t,e,n,r,1))},a3=/^(img|br|input|textarea|hr)$/i;function fD(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:li(t))){let o=t.parentNode;if(!o||o.nodeType!=1||c3(t)||a3.test(t.nodeName)||t.contentEditable=="false")return!1;e=qn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?li(t):0}else return!1}}function li(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function u3(t,e,n){for(let r=e==0,i=e==li(t);r||i;){if(t==n)return!0;let o=qn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==li(t)}}function c3(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const v1=function(t){let e=t.isCollapsed;return e&&vn&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Ll(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function f3(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function io(t,e){return typeof t=="number"?t:t[e]}function d3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function dD(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=y1(s)){if(s.nodeType!=1)continue;let l=s,u=l==o.body,f=u?f3(o):d3(l),d=0,h=0;if(e.top<f.top+io(r,"top")?h=-(f.top-e.top+io(i,"top")):e.bottom>f.bottom-io(r,"bottom")&&(h=e.bottom-f.bottom+io(i,"bottom")),e.left<f.left+io(r,"left")?d=-(f.left-e.left+io(i,"left")):e.right>f.right-io(r,"right")&&(d=e.right-f.right+io(i,"right")),d||h)if(u)o.defaultView.scrollBy(d,h);else{let m=l.scrollLeft,g=l.scrollTop;h&&(l.scrollTop+=h),d&&(l.scrollLeft+=d);let v=l.scrollLeft-m,x=l.scrollTop-g;e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x}}if(u)break}}function p3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:Kk(t.dom)}}function Kk(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=y1(r));return e}function h3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;qk(n,r==0?0:r-e)}function qk(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let gl=null;function m3(t){if(t.setActive)return t.setActive();if(gl)return t.focus(gl);let e=Kk(t);t.focus(gl==null?{get preventScroll(){return gl={preventScroll:!0},!0}}:void 0),gl||(gl=!1,qk(e,0))}function Jk(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Fi(u).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.top<=s&&m.bottom>=l){s=Math.max(m.bottom,s),l=Math.min(m.top,l);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(o=f+(e.left>=(m.left+m.right)/2?1:0));continue}}!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(o=f+1)}}return n&&n.nodeType==3?g3(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Jk(n,i)}function g3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=oo(r,1);if(o.top!=o.bottom&&C1(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function C1(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function y3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function v3(t,e,n){let{node:r,offset:i}=Jk(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function C3(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let l=s.dom.getBoundingClientRect();if(l.left>r.left||l.top>r.top)i=s.posBefore;else if(l.right<r.left||l.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function Gk(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(C1(e,f))return Gk(s,e,f)}}if((o=(o+1)%r)==i)break}return t}function x3(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let u=n.caretPositionFromPoint(e.left,e.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&n.caretRangeFromPoint){let u=n.caretRangeFromPoint(e.left,e.top);u&&({startContainer:r,startOffset:i}=u)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top+1),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!C1(e,u)||(o=Gk(t.dom,e,u),!o))return null}if(Ln)for(let u=o;r&&u;u=y1(u))u.draggable&&(r=void 0);if(o=y3(o,e),r){if(hi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=C3(t,r,i,e))}s==null&&(s=v3(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function oo(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const S3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Yk(t,e,n){let{node:r,offset:i}=t.docView.domFromPos(e,n<0?-1:1),o=qp||hi;if(r.nodeType==3)if(o&&(S3.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let s=oo(Fi(r,i,i),n);if(hi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=oo(Fi(r,i-1,i-1),-1);if(l.top==s.top){let u=oo(Fi(r,i,i+1),-1);if(u.top!=s.top)return lu(u,u.left<l.left)}}return s}else{let s=i,l=i,u=n<0?1:-1;return n<0&&!i?(l++,u=-1):n>=0&&i==r.nodeValue.length?(s--,u=1):n<0?s--:l++,lu(oo(Fi(r,s,l),u),u<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==li(r))){let s=r.childNodes[i-1];if(s.nodeType==1)return ag(s.getBoundingClientRect(),!1)}if(i<li(r)){let s=r.childNodes[i];if(s.nodeType==1)return ag(s.getBoundingClientRect(),!0)}return ag(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==li(r))){let s=r.childNodes[i-1],l=s.nodeType==3?Fi(s,li(s)-(o?0:1)):s.nodeType==1&&(s.nodeName!="BR"||!s.nextSibling)?s:null;if(l)return lu(oo(l,1),!1)}if(i<li(r)){let s=r.childNodes[i];for(;s.pmViewDesc&&s.pmViewDesc.ignoreForCoords;)s=s.nextSibling;let l=s?s.nodeType==3?Fi(s,0,o?0:1):s.nodeType==1?s:null:null;if(l)return lu(oo(l,-1),!0)}return lu(oo(r.nodeType==3?Fi(r):r,-n),n>=0)}function lu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ag(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Xk(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function D3(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Xk(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.dom;break}o=l.dom.parentNode}let s=Yk(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Fi(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const w3=/[\u0590-\u08ac]/;function E3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!w3.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:Xk(t,e,()=>{let u=l.getRangeAt(0),f=l.focusNode,d=l.focusOffset,h=l.caretBidiLevel;l.modify("move",n,"character");let g=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||f==l.focusNode&&d==l.focusOffset;return l.removeAllRanges(),l.addRange(u),h!=null&&(l.caretBidiLevel=h),g})}let pD=null,hD=null,mD=!1;function b3(t,e,n){return pD==e&&hD==n?mD:(pD=e,hD=n,mD=n=="up"||n=="down"?D3(t,e,n):E3(t,e,n))}const jr=0,gD=1,Bl=2,mi=3;class Ec{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=jr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>qn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof Zk){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Qk&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?qn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?qn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(i==-1&&e<=f){let d=s+u.border;if(e>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=s;for(let h=l;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=qn(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=qn(h.dom);break}n+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let m=0,g=0;m<this.children.length;m++){let v=this.children[m],x=g+v.size;if(o>g&&s<x)return v.setSelection(e-g-v.border,n-g-v.border,r,i);g=x}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.getSelection(),d=!1;if((hi||Ln)&&e==n){let{node:m,offset:g}=l;if(m.nodeType==3){if(d=!!(g&&m.nodeValue[g-1]==`
`),d&&g==m.nodeValue.length)for(let v=m,x;v;v=v.parentNode){if(x=v.nextSibling){x.nodeName=="BR"&&(l=u={node:x.parentNode,offset:qn(x)+1});break}let k=v.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let v=m.childNodes[g-1];d=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(hi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let m=f.focusNode.childNodes[f.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||d&&Ln)&&uc(l.node,l.offset,f.anchorNode,f.anchorOffset)&&uc(u.node,u.offset,f.focusNode,f.focusOffset))return;let h=!1;if((f.extend||e==n)&&!d){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),h=!0}catch(m){if(!(m instanceof DOMException))throw m}}if(!h){if(e>n){let g=l;l=u,u=g}let m=document.createRange();m.setEnd(u.node,u.offset),m.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,u=s-o.border;if(e>=l&&n<=u){this.dirty=e==r||n==s?Bl:gD,e==l&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=mi:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Bl:mi}r=s}this.dirty=Bl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Bl:gD;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Qk extends Ec{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==jr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class k3 extends Ec{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Vs extends Ec{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Nn.renderSpec(document,n.type.spec.toDOM(n,r))),new Vs(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&mi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=mi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=jr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=jr}}slice(e,n,r){let i=Vs.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=I0(o,n,s,r)),e>0&&(o=I0(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Ws extends Ec{constructor(e,n,r,i,o,s,l,u,f){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(u,f)}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],u,f=l&&l(n,o,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,h=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Nn.renderSpec(document,n.type.spec.toDOM(n)));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=nA(d,r,n),f?u=new A3(e,n,r,i,d,h||null,m,f,o,s+1):n.isText?new Jp(e,n,r,i,d,m,o):new Ws(e,n,r,i,d,h||null,m,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>U.empty)}return e}matchesNode(e,n,r){return this.dirty==jr&&e.eq(this.node)&&P0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,u=new O3(this,s&&s.node);_3(this.node,this.innerDeco,(f,d,h)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!h&&u.syncToMarks(d==this.node.childCount?Je.none:this.node.child(d).marks,r,e),u.placeWidget(f,e,i)},(f,d,h,m)=>{u.syncToMarks(f.marks,r,e);let g;u.findNodeMatch(f,d,h,m)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(g=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(f,d,h,g,e)||u.updateNextNode(f,d,h,e,m)||u.addNode(f,d,h,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Bl)&&(s&&this.protectLocalComposition(e,s),eA(this.contentDOM,this.children,e),fa&&F3(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ae)||r<n||i>n+this.node.content.size)return null;let o=e.domSelection(),s=R3(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,u=P3(this.node.content,l,r-n,i-n);return u<0?null:{node:s,pos:u,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new k3(this,o,n,i);e.input.compositionNodes.push(s),this.children=I0(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==mi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=jr}updateOuterDeco(e){if(P0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=tA(this.dom,this.nodeDOM,R0(this.outerDeco,this.node,n),R0(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function yD(t,e,n,r,i){return nA(r,e,t),new Ws(void 0,t,e,n,r,r,r,i,0)}class Jp extends Ws{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==mi||this.dirty!=jr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=jr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=jr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Jp(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=mi)}get domAtom(){return!1}}class Zk extends Ec{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==jr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class A3 extends Ws{constructor(e,n,r,i,o,s,l,u,f,d){super(e,n,r,i,o,s,l,f,d),this.spec=u}update(e,n,r,i){if(this.dirty==mi)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eA(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=vD(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof Vs){let u=r?r.previousSibling:t.lastChild;eA(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=vD(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Nu=function(t){t&&(this.nodeName=t)};Nu.prototype=Object.create(null);const Ss=[new Nu];function R0(t,e,n){if(t.length==0)return Ss;let r=n?Ss[0]:new Nu,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new Nu(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&i.length==1&&i.push(r=new Nu(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function tA(t,e,n,r){if(n==Ss&&r==Ss)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let u;l&&l.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Ss[0]),i=u}T3(i,l||Ss[0],s)}return i}function T3(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function nA(t,e,n){return tA(t,t,Ss,R0(e,n,t.nodeType!=1))}function P0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function vD(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class O3{constructor(e,n){this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=M3(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=jr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++)if(this.top.children[u].matchesMark(e[o])){l=u;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=Vs.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==mi&&s.dom==s.contentDOM&&(s.dirty=Bl),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ws){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let f=l.dom;if(!(this.lock&&(f==this.lock||f.nodeType==1&&f.contains(this.lock.parentNode))&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=mi&&P0(n,l.outerDeco)))&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,Ws.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Qk(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Vs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jp)||/\n$/.test(e.node.text))&&((Ln||vn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Zk(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function M3(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof Vs)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(!!u){if(u!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function N3(t,e){return t.type.side-e.type.side}function _3(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(o,d),f),o+=d.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){if(s<i.length&&i[s].to==o){let v=i[s++],x;for(;s<i.length&&i[s].to==o;)(x||(x=[v])).push(i[s++]);if(x){x.sort(N3);for(let k=0;k<x.length;k++)n(x[k],f,!!u)}else n(v,f,!!u)}let d,h;if(u)h=-1,d=u,u=null;else if(f<t.childCount)h=f,d=t.child(f++);else break;for(let v=0;v<l.length;v++)l[v].to<=o&&l.splice(v--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let m=o+d.nodeSize;if(d.isText){let v=m;s<i.length&&i[s].from<v&&(v=i[s].from);for(let x=0;x<l.length;x++)l[x].to<v&&(v=l[x].to);v<m&&(u=d.cut(v-o),d=d.cut(0,v-o),m=v,h=-1)}let g=d.isInline&&!d.isLeaf?l.filter(v=>!v.inline):l.slice();r(d,g,e.forChild(o,d),h),o=m}}function F3(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function R3(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=li(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function P3(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<t.childCount;){let f=t.child(i++);if(o+=f.nodeSize,!f.isText)break;u+=f.text}if(o>=n){let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function I0(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let u=t[s],f=l,d=l+=u.size;f>=n||d<=e?o.push(u):(f<e&&o.push(u.slice(0,e-f,r)),i&&(o.push(i),i=void 0),d>n&&o.push(u.slice(n-f,u.size,r)))}return o}function rA(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(v1(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Q.isSelectable(d)&&i.parent&&!(d.isInline&&u3(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;f=new Q(s==h?l:r.resolve(h))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;f=x1(t,u,l,d)}return f}function iA(t){return t.editable?t.hasFocus():sA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Io(t,e=!1){let n=t.state.selection;if(oA(t,n),!!iA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vn){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&uc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)L3(t);else{let{anchor:r,head:i}=n,o,s;CD&&!(n instanceof ae)&&(n.$from.parent.inlineContent||(o=xD(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=xD(t,n.to))),t.docView.setSelection(r,i,t.root,e),CD&&(o&&SD(o),s&&SD(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&I3(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CD=Ln||vn&&s3<63;function xD(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ln&&i&&i.contentEditable=="false")return ug(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return ug(i);if(o)return ug(o)}}function ug(t){return t.contentEditable="true",Ln&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function SD(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function I3(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!iA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function L3(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,qn(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Qn&&Ao<=11&&(r.disabled=!0,r.disabled=!1)}function oA(t,e){if(e instanceof Q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(DD(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else DD(t)}function DD(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function x1(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ae.between(e,n,r)}function wD(t){return t.editable&&t.root.activeElement!=t.dom?!1:sA(t)}function sA(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function B3(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return uc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function L0(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ge.findFrom(o,e)}function ds(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ED(t,e,n){let r=t.state.selection;if(r instanceof ae){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=L0(t.state,e);return i&&i instanceof Q?ds(t,i):!1}else if(!(hr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Q.isSelectable(o)?ds(t,new Q(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):qp?ds(t,new ae(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof Q&&r.node.isInline)return ds(t,new ae(e>0?r.$to:r.$from));{let i=L0(t.state,e);return i?ds(t,i):!1}}}function jd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _u(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function cg(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(hi&&n.nodeType==1&&r<jd(n)&&_u(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(_u(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(lA(n))break;{let l=n.previousSibling;for(;l&&_u(l);)i=n.parentNode,o=qn(l),l=l.previousSibling;if(l)n=l,r=jd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?B0(t,e,n,r):i&&B0(t,e,i,o)}function fg(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=jd(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(_u(l))o=n,s=++r;else break}else{if(lA(n))break;{let l=n.nextSibling;for(;l&&_u(l);)o=l.parentNode,s=qn(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=jd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&B0(t,e,o,s)}function lA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function B0(t,e,n,r){if(v1(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Io(t)},50)}function bD(t,e,n){let r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1||hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=L0(t.state,e);if(s&&s instanceof Q)return ds(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Xn?ge.near(s,e):ge.findFrom(s,e);return l?ds(t,l):!1}return!1}function kD(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function AD(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function z3(t){if(!Ln||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;AD(t,r,"true"),setTimeout(()=>AD(t,r,"false"),20)}return!1}function $3(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function H3(t,e){let n=e.keyCode,r=$3(e);return n==8||hr&&n==72&&r=="c"?kD(t,-1)||cg(t):n==46||hr&&n==68&&r=="c"?kD(t,1)||fg(t):n==13||n==27?!0:n==37||hr&&n==66&&r=="c"?ED(t,-1,r)||cg(t):n==39||hr&&n==70&&r=="c"?ED(t,1,r)||fg(t):n==38||hr&&n==80&&r=="c"?bD(t,-1,r)||cg(t):n==40||hr&&n==78&&r=="c"?z3(t)||bD(t,1,r)||fg(t):r==(hr?"m":"c")&&(n==66||n==73||n==89||n==90)}function aA(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=t.someProp("clipboardSerializer")||Nn.fromSchema(t.state.schema),l=hA(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,h=0;for(;f&&f.nodeType==1&&(d=pA[f.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let v=l.createElement(d[g]);for(;u.firstChild;)v.appendChild(u.firstChild);u.appendChild(v),h++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:m}}function uA(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",m=>{e=m(e,o||r)}),o)return e?new te(U.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let h=t.someProp("clipboardTextParser",m=>m(e,i,r));if(h)l=h;else{let m=i.marks(),{schema:g}=t.state,v=Nn.fromSchema(g);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let k=s.appendChild(document.createElement("p"));x&&k.appendChild(v.serializeNode(g.text(x,m)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n)}),s=U3(n),qp&&j3(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0&&s.firstChild;h--)s=s.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ro.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!V3.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=K3(TD(l,+d[1],+d[2]),d[4]);else if(l=te.maxOpen(W3(l.content,i),!0),l.openStart||l.openEnd){let h=0,m=0;for(let g=l.content.firstChild;h<l.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=l.content.lastChild;m<l.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);l=TD(l,h,m)}return t.someProp("transformPasted",h=>{l=h(l)}),l}const V3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function W3(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&fA(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=dA(s[s.length-1],o.length));let d=cA(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return U.from(s)}return t}function cA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,U.from(t));return t}function fA(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=fA(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(U.from(cA(n,t,i+1))))}}function dA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,dA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(U.empty,!0);return t.copy(n.append(r))}function z0(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=z0(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(U.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function TD(t,e,n){return e<t.openStart&&(t=new te(z0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(z0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const pA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let OD=null;function hA(){return OD||(OD=document.implementation.createHTMLDocument("title"))}function U3(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hA().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&pA[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function j3(t){let e=t.querySelectorAll(vn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function K3(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=U.from(u.create(r[l+1],i)),o++,s++}return new te(i,o,s)}const Bn={};let xn={};class q3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function J3(t){for(let e in Bn){let n=Bn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Y3(t,r)&&!S1(t,r)&&(t.editable||!(r.type in xn))&&n(t,r)})}Ln&&t.dom.addEventListener("input",()=>null),$0(t)}function Ds(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function G3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function $0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>S1(t,r))})}function S1(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Y3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function X3(t,e){!S1(t,e)&&Bn[e.type]&&(t.editable||!(e.type in xn))&&Bn[e.type](t,e)}xn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gA(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(si&&vn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),fa&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ll(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||H3(t,n)?n.preventDefault():Ds(t,"key")};xn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};xn.keypress=(t,e)=>{let n=e;if(gA(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||hr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Gp(t){return{left:t.clientX,top:t.clientY}}function Q3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function D1(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Zl(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function Z3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Q.isSelectable(r)?(Zl(t,new Q(n),"pointer"),!0):!1}function ez(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Q&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(Q.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Zl(t,Q.create(t.state.doc,i),"pointer"),!0):!1}function tz(t,e,n,r,i){return D1(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?ez(t,n):Z3(t,n))}function nz(t,e,n,r){return D1(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function rz(t,e,n,r){return D1(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||iz(t,n,r)}function iz(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Zl(t,ae.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Zl(t,ae.create(r,l+1,l+1+s.content.size),"pointer");else if(Q.isSelectable(s))Zl(t,Q.create(r,l),"pointer");else continue;return!0}}function w1(t){return Kd(t)}const mA=hr?"metaKey":"ctrlKey";Bn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=w1(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Q3(n,t.input.lastClick)&&!n[mA]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Gp(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new oz(t,s,n,!!r)):(o=="doubleClick"?nz:rz)(t,s.pos,s.inside,n)?n.preventDefault():Ds(t,"pointer"))};class oz{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[mA],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof Q&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ds(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Io(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Gp(e))),this.allowDefault||!n?Ds(this.view,"pointer"):tz(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ln&&this.mightDrag&&!this.mightDrag.node.isAtom||vn&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zl(this.view,ge.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ds(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ds(this.view,"pointer"),e.buttons==0&&this.done()}}Bn.touchdown=t=>{w1(t),Ds(t,"pointer")};Bn.contextmenu=t=>w1(t);function gA(t,e){return t.composing?!0:Ln&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const sz=si?5e3:-1;xn.compositionstart=xn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Kd(t,!0),t.markCursor=null;else if(Kd(t),hi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}yA(t,sz)};xn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,yA(t,20))};function yA(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Kd(t),e))}function vA(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=lz());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function lz(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Kd(t,e=!1){if(!(si&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),vA(t),e||t.docView&&t.docView.dirty){let n=rA(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function az(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const da=Qn&&Ao<15||fa&&l3<604;Bn.copy=xn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=da?null:n.clipboardData,s=r.content(),{dom:l,text:u}=aA(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):az(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function uz(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function cz(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?H0(t,r.value,null,e):H0(t,r.textContent,r.innerHTML,e)},50)}function H0(t,e,n,r){let i=uA(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||te.empty)))return!0;if(!i)return!1;let o=uz(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}xn.paste=(t,e)=>{let n=e;if(t.composing&&!si)return;let r=da?null:n.clipboardData;r&&H0(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():cz(t,n)};class fz{constructor(e,n){this.slice=e,this.move=n}}const CA=hr?"altKey":"ctrlKey";Bn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Gp(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Q?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,f.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:u}=aA(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(da?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",da||n.dataTransfer.setData("text/plain",u),t.dragging=new fz(s,!n[CA])};Bn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};xn.dragover=xn.dragenter=(t,e)=>e.preventDefault();xn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Gp(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",v=>{s=v(s)}):s=uA(t,n.dataTransfer.getData(da?"Text":"text/plain"),da?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[CA]);if(t.someProp("handleDrop",v=>v(t,n,s||te.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?jp(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=t.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=f.doc;if(h?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(m))return;let g=f.doc.resolve(d);if(h&&Q.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new Q(g));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((x,k,S,b)=>v=b),f.setSelection(x1(t,g,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Bn.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Io(t)},20))};Bn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bn.beforeinput=(t,e)=>{if(vn&&si&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ll(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in xn)Bn[t]=xn[t];function cc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class E1{constructor(e,n){this.toDOM=e,this.spec=n||Os,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Sr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof E1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class To{constructor(e,n){this.attrs=e,this.spec=n||Os}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Sr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof To&&cc(this.attrs,e.attrs)&&cc(this.spec,e.spec)}static is(e){return e.type instanceof To}destroy(){}}class b1{constructor(e,n){this.attrs=e,this.spec=n||Os}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Sr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof b1&&cc(this.attrs,e.attrs)&&cc(this.spec,e.spec)}destroy(){}}class Sr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Sr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Sr(e,e,new E1(n,r))}static inline(e,n,r,i){return new Sr(e,n,new To(r,i))}static node(e,n,r,i){return new Sr(e,n,new b1(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof To}}const xl=[],Os={};class Ut{constructor(e,n){this.local=e.length?e:xl,this.children=n.length?n:xl}static create(e,n){return n.length?qd(n,e,0,Os):on}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==on||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Os)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?dz(this.children,s||[],e,n,r,i,o):s?new Ut(s.sort(Ms),xl):on}add(e,n){return n.length?this==on?Ut.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,u)=>{let f=u+r,d;if(!!(d=SA(n,l,f))){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,qd(d,l,f+1,Os)),o+=3}});let s=xA(o?DA(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Ut(s.length?this.local.concat(s).sort(Ms):this.local,i||this.children)}remove(e){return e.length==0||this==on?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<u&&(e[d]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=on?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ut(i,r):on}forChild(e,n){if(this==on)return this;if(n.isLeaf)return Ut.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof To){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new Ut(i.sort(Ms),xl);return r?new ho([l,r]):l}return r||on}eq(e){if(this==e)return!0;if(!(e instanceof Ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return k1(this.localsInner(e))}localsInner(e){if(this==on)return xl;if(e.inlineContent||!this.local.some(To.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof To||n.push(this.local[r]);return n}}Ut.empty=new Ut([],[]);Ut.removeOverlap=k1;const on=Ut.empty;class ho{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Os));return ho.from(r)}forChild(e,n){if(n.isLeaf)return Ut.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=on&&(o instanceof ho?r=r.concat(o.members):r.push(o))}return ho.from(r)}eq(e){if(!(e instanceof ho)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?k1(r?n:n.sort(Ms)):xl}static from(e){switch(e.length){case 0:return on;case 1:return e[0];default:return new ho(e)}}}function dz(t,e,n,r,i,o,s){let l=t.slice(),u=(d,h,m,g)=>{for(let v=0;v<l.length;v+=3){let x=l[v+1],k;if(x<0||d>x+o)continue;let S=l[v]+o;h>=S?l[v+1]=d<=S?-2:-1:m>=i&&(k=g-m-(h-d))&&(l[v]+=k,l[v+1]+=k)}};for(let d=0;d<n.maps.length;d++)n.maps[d].forEach(u);let f=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){f=!0,l[d+1]=-1;continue}let h=n.map(t[d]+o),m=h-i;if(m<0||m>=r.content.size){f=!0;continue}let g=n.map(t[d+1]+o,-1),v=g-i,{index:x,offset:k}=r.content.findIndex(m),S=r.maybeChild(x);if(S&&k==m&&k+S.nodeSize==v){let b=l[d+2].mapInner(n,S,h+1,t[d]+o+1,s);b!=on?(l[d]=m,l[d+1]=v,l[d+2]=b):(l[d+1]=-2,f=!0)}else f=!0}if(f){let d=pz(l,t,e,n,i,o,s),h=qd(d,r,0,s);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let v=h.children[m];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new Ut(e.sort(Ms),l)}function xA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Sr(i.from+e,i.to+e,i.type))}return n}function pz(t,e,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let h=u.local[d].map(r,i,f);h?n.push(h):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+o+1);return n}function SA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function DA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qd(t,e,n,r){let i=[],o=!1;e.forEach((l,u)=>{let f=SA(t,l,u+n);if(f){o=!0;let d=qd(f,l,n+u+1,r);d!=on&&i.push(u,u+l.nodeSize,d)}});let s=xA(o?DA(t):t,-n).sort(Ms);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Ut(s,i):on}function Ms(t,e){return t.from-e.from||t.to-e.to}function k1(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),MD(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),MD(e,i,r.copy(o.from,r.to)));break}}}return e}function MD(t,e,n){for(;e<t.length&&Ms(n,t[e])>0;)e++;t.splice(e,0,n)}function dg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=on&&e.push(r)}),t.cursorWrapper&&e.push(Ut.create(t.state.doc,[t.cursorWrapper.deco])),ho.from(e)}const hz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mz=Qn&&Ao<=11;class gz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class yz{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new gz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Qn&&Ao<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),mz&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,hz),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!wD(this.view)){if(this.suppressingSelectionUpdates)return Io(this.view);if(Qn&&Ao<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&uc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(e.rangeCount==0)return!0;let n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&wD(this.view)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,l=[];if(this.view.editable)for(let u=0;u<e.length;u++){let f=this.registerMutation(e[u],l);f&&(i=i<0?f.from:Math.min(f.from,i),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(s=!0))}if(hi&&l.length>1){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let f=u[0],d=u[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),vz(this.view)),this.handleDOMChange(i,o,s,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||Io(this.view),this.currentSelection.set(n))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Qn&&Ao<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:m}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m)}let s=i&&i.parentNode==e.target?qn(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),u=o&&o.parentNode==e.target?qn(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let ND=!1;function vz(t){ND||(ND=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Cz(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),u=t.domSelection(),f,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],v1(u)||f.push({node:u.focusNode,offset:u.focusOffset})),vn&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let S=r.childNodes[k-1],b=S.pmViewDesc;if(S.nodeName=="BR"&&!b){o=k;break}if(!b||b.size)break}let h=t.state.doc,m=t.someProp("domParser")||Ro.fromSchema(t.state.schema),g=h.resolve(s),v=null,x=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:o,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:xz,context:g});if(f&&f[0].pos!=null){let k=f[0].pos,S=f[1]&&f[1].pos;S==null&&(S=k),v={anchor:k+s,head:S+s}}return{doc:x,sel:v,from:s,to:l}}function xz(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ln&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ln&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Sz(t,e,n,r,i){if(e<0){let F=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Z=rA(t,F);if(Z&&!t.state.selection.eq(Z)){let ee=t.state.tr.setSelection(Z);F=="pointer"?ee.setMeta("pointer",!0):F=="key"&&ee.scrollIntoView(),t.dispatch(ee)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,u=Cz(t,e,n);if(vn&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from){let F=t.cursorWrapper.deco.type.toDOM.nextSibling,Z=F&&F.nodeValue?F.nodeValue.length:1;u.sel={anchor:u.sel.anchor+Z,head:u.sel.anchor+Z}}let f=t.state.doc,d=f.slice(u.from,u.to),h,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,m="end"):(h=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let g=Ez(d.content,u.doc.content,u.from,h,m);if((fa&&t.input.lastIOSEnter>Date.now()-225||si)&&i.some(F=>F.nodeName=="DIV"||F.nodeName=="P")&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",F=>F(t,Ll(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof ae&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let F=_D(t,t.state.doc,u.sel);F&&!F.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(F))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof ae&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Qn&&Ao<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);let v=u.doc.resolveNoCache(g.start-u.from),x=u.doc.resolveNoCache(g.endB-u.from),k=f.resolve(g.start),S=v.sameParent(x)&&v.parent.inlineContent&&k.end()>=g.endA,b;if((fa&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(b=ge.findFrom(u.doc.resolve(v.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",F=>F(t,Ll(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&wz(f,g.start,g.endA,v,x)&&t.someProp("handleKeyDown",F=>F(t,Ll(8,"Backspace")))){si&&vn&&t.domObserver.suppressSelectionUpdates();return}vn&&si&&g.endB==g.start&&(t.input.lastAndroidDelete=Date.now()),si&&!S&&v.start()!=x.start()&&x.parentOffset==0&&v.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,x=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(F){return F(t,Ll(13,"Enter"))})},20));let A=g.start,w=g.endA,R,P,$;if(S){if(v.pos==x.pos)Qn&&Ao<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Io(t),20)),R=t.state.tr.delete(A,w),P=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&($=Dz(v.parent.content.cut(v.parentOffset,x.parentOffset),k.parent.content.cut(k.parentOffset,g.endA-k.start()))))R=t.state.tr,$.type=="add"?R.addMark(A,w,$.mark):R.removeMark(A,w,$.mark);else if(v.parent.child(v.index()).isText&&v.index()==x.index()-(x.textOffset?0:1)){let F=v.parent.textBetween(v.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",Z=>Z(t,A,w,F)))return;R=t.state.tr.insertText(F,A,w)}}if(R||(R=t.state.tr.replace(A,w,u.doc.slice(g.start-u.from,g.endB-u.from))),u.sel){let F=_D(t,R.doc,u.sel);F&&!(vn&&si&&t.composing&&F.empty&&(g.start!=g.endB||t.input.lastAndroidDelete<Date.now()-100)&&(F.head==A||F.head==R.mapping.map(w)-1)||Qn&&F.empty&&F.head==A)&&R.setSelection(F)}P&&R.ensureMarks(P),t.dispatch(R.scrollIntoView())}function _D(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:x1(t,e.resolve(n.anchor),e.resolve(n.head))}function Dz(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(u(e.child(d)));if(U.from(f).eq(t))return{mark:l,type:s}}function wz(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||pg(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(pg(o,!0,!0));return!s.parent.isTextblock||s.pos>n||pg(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function pg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Ez(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(s,l));r-=s+u-o}return s<o&&t.size<e.size?(o-=r<=o&&r>=s?o-r:0,l=o+(l-s),s=o):l<o&&(o-=r<=o&&r>=l?o-r:0,s=o+(s-l),l=o),{start:o,endA:s,endB:l}}class bz{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new q3,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(LD),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=PD(this),RD(this),this.nodeViews=ID(this),this.docView=yD(this.state.doc,FD(this),dg(this),this.dom,this),this.domObserver=new yz(this,(r,i,o,s)=>Sz(this,r,i,o,s)),this.domObserver.start(),J3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$0(this),this._props=e,e.plugins&&(e.plugins.forEach(LD),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;if(e.storedMarks&&this.composing&&(vA(this),o=!0),this.state=e,n){let h=ID(this);Az(h,this.nodeViews)&&(this.nodeViews=h,i=!0),$0(this)}this.editable=PD(this),RD(this);let s=dg(this),l=FD(this),u=n?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,l,s);(f||!e.selection.eq(r.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&p3(this);if(o){this.domObserver.stop();let h=f&&(Qn||vn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&kz(r.selection,e.selection);if(f){let m=vn?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=yD(e.doc,l,s,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&B3(this))?Io(this,h):(oA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),u=="reset")this.dom.scrollTop=0;else if(u=="to selection"){let h=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",m=>m(this)))if(e.selection instanceof Q){let m=this.docView.domAfterPos(e.selection.from);m.nodeType==1&&dD(this,m.getBoundingClientRect(),h)}else dD(this,this.coordsAtPos(e.selection.head,1),h)}else d&&h3(d)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&m3(this.dom),Io(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return x3(this,e)}coordsAtPos(e,n=1){return Yk(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return b3(this,n||this.state,e)}destroy(){!this.docView||(G3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return X3(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function FD(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Sr.node(0,t.state.doc.content.size,e)]}function RD(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function PD(t){return!t.someProp("editable",e=>e(t.state)===!1)}function kz(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ID(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Az(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function LD(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Lo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Jd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},BD=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Tz=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Oz=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),zD=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Mz=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Nz=BD&&(zD||+BD[1]<57)||Oz&&zD;for(var Kt=0;Kt<10;Kt++)Lo[48+Kt]=Lo[96+Kt]=String(Kt);for(var Kt=1;Kt<=24;Kt++)Lo[Kt+111]="F"+Kt;for(var Kt=65;Kt<=90;Kt++)Lo[Kt]=String.fromCharCode(Kt+32),Jd[Kt]=String.fromCharCode(Kt);for(var hg in Lo)Jd.hasOwnProperty(hg)||(Jd[hg]=Lo[hg]);function _z(t){var e=Nz&&(t.ctrlKey||t.altKey||t.metaKey)||(Tz||Mz)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?Jd:Lo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Fz=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Rz(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Fz?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Pz(t){let e=Object.create(null);for(let n in t)e[Rz(n)]=t[n];return e}function mg(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function Iz(t){return new Dt({props:{handleKeyDown:A1(t)}})}function A1(t){let e=Pz(t);return function(n,r){let i=_z(r),o=i.length==1&&i!=" ",s,l=e[mg(i,r,!o)];if(l&&l(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Lo[r.keyCode])&&s!=i){let u=e[mg(s,r,!0)];if(u&&u(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let u=e[mg(i,r,!0)];if(u&&u(n.state,n.dispatch,n))return!0}return!1}}const Lz=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),Bz=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=wA(r);if(!i){let s=r.blockRange(),l=s&&Aa(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&kA(t,i,e))return!0;if(r.parent.content.size==0&&(pa(o,"end")||Q.isSelectable(o))){let s=h1(t.doc,r.before(),r.after(),te.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(pa(o,"end")?ge.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Q.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function pa(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const zz=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=wA(r)}let s=o&&o.nodeBefore;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function wA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const $z=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=EA(r);if(!i)return!1;let o=i.nodeAfter;if(kA(t,i,e))return!0;if(r.parent.content.size==0&&(pa(o,"start")||Q.isSelectable(o))){let s=h1(t.doc,r.before(),r.after(),te.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(pa(o,"start")?ge.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Q.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Hz=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=EA(r)}let s=o&&o.nodeAfter;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos)).scrollIntoView()),!0)};function EA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Vz=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Aa(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},Wz=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function bA(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Uz=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=bA(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,s.createAndFill());u.setSelection(ge.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},jz=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Xn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=bA(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(ae.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},Kz=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ql(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Aa(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},qz=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Q.create(t.doc,i))),!0)};function Jz(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||wc(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function kA(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Jz(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,m=U.empty;for(let x=o.length-1;x>=0;x--)m=U.from(o[x].create(null,m));m=U.from(r.copy(m));let g=t.tr.step(new Ft(e.pos-1,h,e.pos,h,new te(m,1,0),o.length,!0)),v=h+2*o.length;wc(g.doc,v)&&g.join(v),n(g.scrollIntoView())}return!0}let u=ge.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&Aa(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(l&&pa(i,"start",!0)&&pa(r,"end")){let h=r,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=i,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let x=U.empty;for(let S=m.length-1;S>=0;S--)x=U.from(m[S].copy(x));let k=t.tr.step(new Ft(e.pos-m.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new te(x,m.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function AA(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(ae.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Gz=AA(-1),Yz=AA(1);function Xz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&p1(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function $D(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,(l,u)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let f=n.doc.resolve(u),d=f.index();s=f.parent.canReplaceWith(d,d+1,t)}}),s?(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function Qz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);u=new $d(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new $d(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let f=p1(u,t,e,s);return f?(r&&r(Zz(n.tr,s,f,l,t).scrollIntoView()),!0):!1}}function Zz(t,e,n,r,i){let o=U.empty;for(let d=n.length-1;d>=0;d--)o=U.from(n[d].type.create(n[d].attrs,o));t.step(new Ft(e.start-(r?2:0),e.end,e.start,e.end,new te(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let l=n.length-s,u=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,h=e.endIndex,m=!0;d<h;d++,m=!1)!m&&Ql(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return t}function e$(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?t$(e,n,t,o):n$(e,n,o):!0:!1}}function t$(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new Ft(o-1,s,o,s,new te(U.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new $d(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),e(i.lift(r,Aa(r)).scrollIntoView()),!0}function n$(t,e,n){let r=t.tr,i=n.parent;for(let g=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)g-=i.child(v).nodeSize,r.delete(g-1,g+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=o.node(-1),d=o.index(-1);if(!f.canReplace(d+(l?0:1),d+1,s.content.append(u?U.empty:U.from(i))))return!1;let h=o.pos,m=h+s.nodeSize;return r.step(new Ft(h-(l?1:0),m+(u?1:0),h+1,m-1,new te((l?U.empty:U.from(i.copy(U.empty))).append(u?U.empty:U.from(i.copy(U.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function r$(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,u=l.child(s-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=U.from(f?t.create():null),h=new te(U.from(t.create(null,U.from(l.type.create(null,d)))),f?3:1,0),m=o.start,g=o.end;n(e.tr.step(new Ft(m-(f?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}function Yp(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Xp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>{const h=u(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],u=!!e,f=e||o.tr,d=()=>(!u&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...x)=>{const k=this.buildProps(f,n),S=g(...x)(k);return l.push(S),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:r}=this,i=void 0,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...d)=>f(...d)({...s,dispatch:i})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const l={tr:e,editor:i,view:s,state:Yp({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...d)=>f(...d)(l)]))}};return l}}class i${constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function de(t,e,n){return t.config[e]===void 0&&t.parent?de(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?de(t.parent,e,n):null}):t.config[e]}function Qp(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function TA(t){const e=[],{nodeExtensions:n,markExtensions:r}=Qp(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=de(s,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([m,g])=>{e.push({type:h,name:m,attribute:{...o,...g}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=de(s,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,h])=>{const m={...o,...h};h.isRequired&&h.default===void 0&&delete m.default,e.push({type:s.name,name:d,attribute:m})})}),e}function Pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function St(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function V0(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>St(n,r),{})}function OA(t){return typeof t=="function"}function Ne(t,e=void 0,...n){return OA(t)?e?t.bind(e)(...n):t(...n):t}function o$(t={}){return Object.keys(t).length===0&&t.constructor===Object}function s$(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function HD(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):s$(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function VD(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&o$(n)?!1:n!=null))}function l$(t){var e;const n=TA(t),{nodeExtensions:r,markExtensions:i}=Qp(t),o=(e=r.find(u=>de(u,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(r.map(u=>{const f=n.filter(k=>k.type===u.name),d={name:u.name,options:u.options,storage:u.storage},h=t.reduce((k,S)=>{const b=de(S,"extendNodeSchema",d);return{...k,...b?b(u):{}}},{}),m=VD({...h,content:Ne(de(u,"content",d)),marks:Ne(de(u,"marks",d)),group:Ne(de(u,"group",d)),inline:Ne(de(u,"inline",d)),atom:Ne(de(u,"atom",d)),selectable:Ne(de(u,"selectable",d)),draggable:Ne(de(u,"draggable",d)),code:Ne(de(u,"code",d)),defining:Ne(de(u,"defining",d)),isolating:Ne(de(u,"isolating",d)),attrs:Object.fromEntries(f.map(k=>{var S;return[k.name,{default:(S=k==null?void 0:k.attribute)===null||S===void 0?void 0:S.default}]}))}),g=Ne(de(u,"parseHTML",d));g&&(m.parseDOM=g.map(k=>HD(k,f)));const v=de(u,"renderHTML",d);v&&(m.toDOM=k=>v({node:k,HTMLAttributes:V0(k,f)}));const x=de(u,"renderText",d);return x&&(m.toText=x),[u.name,m]})),l=Object.fromEntries(i.map(u=>{const f=n.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage},h=t.reduce((x,k)=>{const S=de(k,"extendMarkSchema",d);return{...x,...S?S(u):{}}},{}),m=VD({...h,inclusive:Ne(de(u,"inclusive",d)),excludes:Ne(de(u,"excludes",d)),group:Ne(de(u,"group",d)),spanning:Ne(de(u,"spanning",d)),code:Ne(de(u,"code",d)),attrs:Object.fromEntries(f.map(x=>{var k;return[x.name,{default:(k=x==null?void 0:x.attribute)===null||k===void 0?void 0:k.default}]}))}),g=Ne(de(u,"parseHTML",d));g&&(m.parseDOM=g.map(x=>HD(x,f)));const v=de(u,"renderHTML",d);return v&&(m.toDOM=x=>v({mark:x,HTMLAttributes:V0(x,f)})),[u.name,m]}));return new AB({topNode:o,nodes:s,marks:l})}function gg(t,e){return e.nodes[t]||e.marks[t]||null}function WD(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const a$=(t,e=500)=>{let n="";return t.parent.nodesBetween(Math.max(0,t.parentOffset-e),t.parentOffset,(r,i,o,s)=>{var l,u,f;n+=((u=(l=r.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:r,pos:i,parent:o,index:s}))||((f=t.nodeBefore)===null||f===void 0?void 0:f.text)||"%leaf%"}),n};function T1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Zp{constructor(e){this.find=e.find,this.handler=e.handler}}const u$=(t,e)=>{if(T1(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function yg(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!!(!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code)))return!1;let d=!1;const h=a$(f)+o;return s.forEach(m=>{if(d)return;const g=u$(h,m.find);if(!g)return;const v=u.state.tr,x=Yp({state:u.state,transaction:v}),k={from:r-(g[0].length-o.length),to:i},{commands:S,chain:b,can:A}=new Xp({editor:n,state:x});m.handler({state:x,range:k,match:g,commands:S,chain:b,can:A})===null||!v.steps.length||(v.setMeta(l,{transform:v,from:r,to:i,text:o}),u.dispatch(v),d=!0)}),d}function c$(t){const{editor:e,rules:n}=t,r=new Dt({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return yg({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&yg({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?yg({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function f$(t){return typeof t=="number"}class d${constructor(e){this.find=e.find,this.handler=e.handler}}const p$=(t,e)=>{if(T1(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function h$(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:l,can:u}=new Xp({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,m),v=Math.min(i,m+h.content.size),x=h.textBetween(g-m,v-m,void 0,"\uFFFC");p$(x,o.find).forEach(S=>{if(S.index===void 0)return;const b=g+S.index+1,A=b+S[0].length,w={from:n.tr.mapping.map(b),to:n.tr.mapping.map(A)},R=o.handler({state:n,range:w,match:S,commands:s,chain:l,can:u});f.push(R)})}),f.every(h=>h!==null)}function m$(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(l=>new Dt({view(u){const f=d=>{var h;r=!((h=u.dom.parentElement)===null||h===void 0)&&h.contains(d.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:u=>(o=r===u.dom.parentElement,!1),paste:(u,f)=>{var d;const h=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,d)=>{const h=u[0],m=h.getMeta("uiEvent")==="paste"&&!i,g=h.getMeta("uiEvent")==="drop"&&!o;if(!m&&!g)return;const v=f.doc.content.findDiffStart(d.doc.content),x=f.doc.content.findDiffEnd(d.doc.content);if(!f$(v)||!x||v===x.b)return;const k=d.tr,S=Yp({state:d,transaction:k});if(!(!h$({editor:e,state:S,from:Math.max(v-1,0),to:x.b,rule:l})||!k.steps.length))return k}}))}function g$(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class zl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=zl.resolve(e),this.schema=l$(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:gg(r.name,this.schema)};r.type==="mark"&&((i=Ne(de(r,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const s=de(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=de(r,"onCreate",o);l&&this.editor.on("create",l);const u=de(r,"onUpdate",o);u&&this.editor.on("update",u);const f=de(r,"onSelectionUpdate",o);f&&this.editor.on("selectionUpdate",f);const d=de(r,"onTransaction",o);d&&this.editor.on("transaction",d);const h=de(r,"onFocus",o);h&&this.editor.on("focus",h);const m=de(r,"onBlur",o);m&&this.editor.on("blur",m);const g=de(r,"onDestroy",o);g&&this.editor.on("destroy",g)})}static resolve(e){const n=zl.sort(zl.flatten(e)),r=g$(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=de(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=de(r,"priority")||100,s=de(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:gg(n.name,this.schema)},i=de(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=zl.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:gg(s.name,this.schema)},u=[],f=de(s,"addKeyboardShortcuts",l);if(f){const g=Object.fromEntries(Object.entries(f()).map(([x,k])=>[x,()=>k({editor:e})])),v=Iz(g);u.push(v)}const d=de(s,"addInputRules",l);WD(s,e.options.enableInputRules)&&d&&r.push(...d());const h=de(s,"addPasteRules",l);WD(s,e.options.enablePasteRules)&&h&&i.push(...h());const m=de(s,"addProseMirrorPlugins",l);if(m){const g=m();u.push(...g)}return u}).flat();return[c$({editor:e,rules:r}),...m$({editor:e,rules:i}),...o]}get attributes(){return TA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Qp(this.extensions);return Object.fromEntries(n.filter(r=>!!de(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pt(r.name,this.schema)},s=de(r,"addNodeView",o);if(!s)return[];const l=(u,f,d,h)=>{const m=V0(u,i);return s()({editor:e,node:u,getPos:d,decorations:h,HTMLAttributes:m,extension:r})};return[r.name,l]}))}}function y$(t){return Object.prototype.toString.call(t).slice(8,-1)}function vg(t){return y$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function eh(t,e){const n={...t};return vg(t)&&vg(e)&&Object.keys(e).forEach(r=>{vg(e[r])?r in t?n[r]=eh(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Sn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Sn(e)}configure(e={}){const n=this.extend();return n.options=eh(this.options,e),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Sn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}}function MA(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",u=!0;return t.nodesBetween(r,i,(f,d,h,m)=>{var g;const v=s==null?void 0:s[f.type.name];v?(f.isBlock&&!u&&(l+=o,u=!0),h&&(l+=v({node:f,pos:d,parent:h,index:m,range:e}))):f.isText?(l+=(g=f==null?void 0:f.text)===null||g===void 0?void 0:g.slice(Math.max(r,d)-d,i-d),u=!1):f.isBlock&&!u&&(l+=o,u=!0)}),l}function NA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const v$=Sn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Dt({key:new Xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),l=Math.max(...o.map(d=>d.$to.pos)),u=NA(n);return MA(r,{from:s,to:l},{textSerializers:u})}}})]}}),C$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),x$=(t=!1)=>({commands:e})=>e.setContent("",t),S$=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=e,h=f.resolve(d.map(u)),m=f.resolve(d.map(u+l.nodeSize)),g=h.blockRange(m);if(!g)return;const v=Aa(g);if(l.type.isTextblock){const{defaultType:x}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,x)}(v||v===0)&&e.lift(g,v)})}),!0},D$=t=>e=>t(e),w$=()=>({state:t,dispatch:e})=>jz(t,e),E$=t=>({tr:e,state:n,dispatch:r})=>{const i=Pt(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const u=o.before(s),f=o.after(s);e.delete(u,f).scrollIntoView()}return!0}return!1},b$=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},k$=()=>({state:t,dispatch:e})=>Lz(t,e),A$=()=>({commands:t})=>t.keyboardShortcut("Enter"),T$=()=>({state:t,dispatch:e})=>Uz(t,e);function Gd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:T1(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function W0(t,e,n={}){return t.find(r=>r.type===e&&Gd(r.attrs,n))}function O$(t,e,n={}){return!!W0(t,e,n)}function O1(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=W0([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,u=s+r.node.nodeSize;for(W0([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&O$([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function Ko(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const M$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Ko(t,r.schema),{doc:s,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const h=O1(u,o,e);if(h&&h.from<=f&&h.to>=d){const m=ae.create(s,h.from,h.to);n.setSelection(m)}}return!0},N$=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function _$(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function _A(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!_$(t)}function FA(t){return _A(t)&&t instanceof ae}function zi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function RA(t,e=null){if(!e)return null;const n=ge.atStart(t),r=ge.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?ae.create(t,zi(0,i,o),zi(t.content.size,i,o)):ae.create(t,zi(e,i,o),zi(e,i,o))}function th(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const F$=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{th()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!FA(n.state.selection))return s(),!0;const l=RA(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return o&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},R$=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),P$=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function UD(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Yd(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)?U.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Yd("",e,n)}if(typeof t=="string"){const r=Ro.fromSchema(e);return n.slice?r.parseSlice(UD(t),n.parseOptions).content:r.parse(UD(t),n.parseOptions)}return Yd("",e,n)}function I$(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof an||i instanceof Ft))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,u,f,d)=>{s===0&&(s=d)}),t.setSelection(ge.near(t.doc.resolve(s),n))}const L$=t=>t.toString().startsWith("<"),B$=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=Yd(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:t,f=!0,d=!0;if((L$(s)?s:[s]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===u&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,u+=1)}f?r.insertText(e,l,u):r.replaceWith(l,u,s),n.updateSelection&&I$(r,r.steps.length-1,-1)}return!0},z$=()=>({state:t,dispatch:e})=>Bz(t,e),$$=()=>({state:t,dispatch:e})=>$z(t,e);function PA(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function H$(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))th()||PA()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const V$=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=H$(t).split(/-(?!$)/),s=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u==null||u.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function fc(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Pt(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(h,m)=>{if(h.isText)return;const g=Math.max(r,m),v=Math.min(i,m+h.nodeSize);l.push({node:h,from:g,to:v})});const u=i-r,f=l.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>Gd(h.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((h,m)=>h+m.to-m.from,0)>=u}const W$=(t,e={})=>({state:n,dispatch:r})=>{const i=Pt(t,n.schema);return fc(n,i,e)?Vz(n,r):!1},U$=()=>({state:t,dispatch:e})=>Kz(t,e),j$=t=>({state:e,dispatch:n})=>{const r=Pt(t,e.schema);return e$(r)(e,n)},K$=()=>({state:t,dispatch:e})=>Wz(t,e);function nh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function jD(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const q$=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=nh(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Pt(t,r.schema)),l==="mark"&&(s=Ko(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,jD(f.attrs,e)),s&&f.marks.length&&f.marks.forEach(h=>{s===h.type&&n.addMark(d,d+f.nodeSize,s.create(jD(h.attrs,e)))})})}),!0):!1},J$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),G$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Y$=()=>({state:t,dispatch:e})=>zz(t,e),X$=()=>({state:t,dispatch:e})=>Hz(t,e),Q$=()=>({state:t,dispatch:e})=>qz(t,e),Z$=()=>({state:t,dispatch:e})=>Yz(t,e),e8=()=>({state:t,dispatch:e})=>Gz(t,e);function IA(t,e,n={}){return Yd(t,e,{slice:!1,parseOptions:n})}const t8=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=IA(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function LA(t,e){const n=Ko(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const l=s.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}const n8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,u=Ko(t,r.schema);if(i)if(s){const f=LA(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const d=f.$from.pos,h=f.$to.pos;r.doc.nodesBetween(d,h,(m,g)=>{const v=Math.max(g,d),x=Math.min(g+m.nodeSize,h);m.marks.find(S=>S.type===u)?m.marks.forEach(S=>{u===S.type&&n.addMark(v,x,u.create({...S.attrs,...e}))}):n.addMark(v,x,u.create(e))})});return!0},r8=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),i8=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Pt(t,n.schema);return o.isTextblock?i().command(({commands:s})=>$D(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>$D(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},o8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ge.atStart(r).from,o=ge.atEnd(r).to,s=zi(t,i,o),l=Q.create(r,s);e.setSelection(l)}return!0},s8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=ae.atStart(r).from,l=ae.atEnd(r).to,u=zi(i,s,l),f=zi(o,s,l),d=ae.create(r,u,f);e.setSelection(d)}return!0},l8=t=>({state:e,dispatch:n})=>{const r=Pt(t,e.schema);return r$(r)(e,n)};function ud(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function a8(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function KD(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const u8=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:u}=o,f=i.extensionManager.attributes,d=ud(f,l.node().type.name,l.node().attrs);if(o instanceof Q&&o.node.isBlock)return!l.parentOffset||!Ql(s,l.pos)?!1:(r&&(t&&KD(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const h=u.parentOffset===u.parent.content.size;o instanceof ae&&e.deleteSelection();const m=l.depth===0?void 0:a8(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=h&&m?[{type:m,attrs:d}]:void 0,v=Ql(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!v&&Ql(e.doc,e.mapping.map(l.pos),1,m?[{type:m}]:void 0)&&(v=!0,g=m?[{type:m,attrs:d}]:void 0),v&&(e.split(e.mapping.map(l.pos),1,g),m&&!h&&!l.parentOffset&&l.parent.type!==m)){const x=e.mapping.map(l.before()),k=e.doc.resolve(x);l.node(-1).canReplaceWith(k.index(),k.index()+1,m)&&e.setNodeMarkup(e.mapping.map(l.before()),m)}t&&KD(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},c8=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Pt(t,n.schema),{$from:l,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==s)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let k=U.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let $=l.depth-S;$>=l.depth-3;$-=1)k=U.from(l.node($).copy(k));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,A=ud(h,l.node().type.name,l.node().attrs),w=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(A))||void 0;k=k.append(U.from(s.createAndFill(null,w)||void 0));const R=l.before(l.depth-(S-1));e.replace(R,l.after(-b),new te(k,4-S,0));let P=-1;e.doc.nodesBetween(R,e.doc.content.size,($,F)=>{if(P>-1)return!1;$.isTextblock&&$.content.size===0&&(P=F+1)}),P>-1&&e.setSelection(ae.near(e.doc.resolve(P))),e.scrollIntoView()}return!0}const m=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,g=ud(h,d.type.name,d.attrs),v=ud(h,l.node().type.name,l.node().attrs);e.delete(l.pos,u.pos);const x=m?[{type:s,attrs:g},{type:m,attrs:v}]:[{type:s,attrs:g}];return Ql(e.doc,l.pos,2)?(r&&e.split(l.pos,2,x).scrollIntoView(),!0):!1};function BA(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function M1(t){return e=>BA(e.$from,t)}function qD(t,e){const{nodeExtensions:n}=Qp(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ne(de(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const JD=(t,e)=>{const n=M1(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wc(t.doc,n.pos)&&t.join(n.pos),!0},GD=(t,e)=>{const n=M1(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wc(t.doc,r)&&t.join(r),!0},f8=(t,e)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:l,can:u})=>{const{extensions:f}=n.extensionManager,d=Pt(t,i.schema),h=Pt(e,i.schema),{selection:m}=i,{$from:g,$to:v}=m,x=g.blockRange(v);if(!x)return!1;const k=M1(S=>qD(S.type.name,f))(m);if(x.depth>=1&&k&&x.depth-k.depth<=1){if(k.node.type===d)return l.liftListItem(h);if(qD(k.node.type.name,f)&&d.validContent(k.node.content)&&o)return s().command(()=>(r.setNodeMarkup(k.pos,d),!0)).command(()=>JD(r,d)).command(()=>GD(r,d)).run()}return s().command(()=>u().wrapInList(d)?!0:l.clearNodes()).wrapInList(d).command(()=>JD(r,d)).command(()=>GD(r,d)).run()};function U0(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Ko(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>o?o.name===h.type.name:!0).find(h=>Gd(h.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:h,$to:m})=>{const g=h.pos,v=m.pos;t.doc.nodesBetween(g,v,(x,k)=>{if(!x.isText&&!x.marks.length)return;const S=Math.max(g,k),b=Math.min(v,k+x.nodeSize);s+=b-S,l.push(...x.marks.map(w=>({mark:w,from:S,to:b})))})}),s===0)return!1;const u=l.filter(h=>o?o.name===h.mark.type.name:!0).filter(h=>Gd(h.mark.attrs,n,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),f=l.filter(h=>o?h.mark.type!==o&&h.mark.type.excludes(o):!0).reduce((h,m)=>h+m.to-m.from,0);return(u>0?u+f:u)>=s}const d8=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Ko(t,r.schema);return U0(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},p8=(t,e,n={})=>({state:r,commands:i})=>{const o=Pt(t,r.schema),s=Pt(e,r.schema);return fc(r,o,n)?i.setNode(s):i.setNode(o,n)},h8=(t,e={})=>({state:n,commands:r})=>{const i=Pt(t,n.schema);return fc(n,i,e)?r.lift(i):r.wrapIn(i,e)},m8=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let u=l.steps.length-1;u>=0;u-=1)s.step(l.steps[u].invert(l.docs[u]));if(o.text){const u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else s.delete(o.from,o.to)}return!0}}return!1},g8=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},y8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,u=Ko(t,r.schema),{$from:f,empty:d,ranges:h}=l;if(!i)return!0;if(d&&s){let{from:m,to:g}=l;const v=(o=f.marks().find(k=>k.type===u))===null||o===void 0?void 0:o.attrs,x=O1(f,u,v);x&&(m=x.from,g=x.to),n.removeMark(m,g,u)}else h.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,u)});return n.removeStoredMark(u),!0},v8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=nh(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Pt(t,r.schema)),l==="mark"&&(s=Ko(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(f,d,(h,m)=>{o&&o===h.type&&n.setNodeMarkup(m,void 0,{...h.attrs,...e}),s&&h.marks.length&&h.marks.forEach(g=>{if(s===g.type){const v=Math.max(m,f),x=Math.min(m+h.nodeSize,d);n.addMark(v,x,s.create({...g.attrs,...e}))}})})}),!0):!1},C8=(t,e={})=>({state:n,dispatch:r})=>{const i=Pt(t,n.schema);return Xz(i,e)(n,r)},x8=(t,e={})=>({state:n,dispatch:r})=>{const i=Pt(t,n.schema);return Qz(i,e)(n,r)};var S8=Object.freeze({__proto__:null,blur:C$,clearContent:x$,clearNodes:S$,command:D$,createParagraphNear:w$,deleteNode:E$,deleteRange:b$,deleteSelection:k$,enter:A$,exitCode:T$,extendMarkRange:M$,first:N$,focus:F$,forEach:R$,insertContent:P$,insertContentAt:B$,joinBackward:z$,joinForward:$$,keyboardShortcut:V$,lift:W$,liftEmptyBlock:U$,liftListItem:j$,newlineInCode:K$,resetAttributes:q$,scrollIntoView:J$,selectAll:G$,selectNodeBackward:Y$,selectNodeForward:X$,selectParentNode:Q$,selectTextblockEnd:Z$,selectTextblockStart:e8,setContent:t8,setMark:n8,setMeta:r8,setNode:i8,setNodeSelection:o8,setTextSelection:s8,sinkListItem:l8,splitBlock:u8,splitListItem:c8,toggleList:f8,toggleMark:d8,toggleNode:p8,toggleWrap:h8,undoInputRule:m8,unsetAllMarks:g8,unsetMark:y8,updateAttributes:v8,wrapIn:C8,wrapInList:x8});const D8=Sn.create({name:"commands",addCommands(){return{...S8}}}),w8=Sn.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new Xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),E8=Sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Dt({key:new Xt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),b8=Sn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:h}=u,{pos:m,parent:g}=h,v=ge.atStart(f).from===m;return!d||!v||!g.type.isTextblock||g.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return th()||PA()?o:i},addProseMirrorPlugins(){return[new Dt({key:new Xt("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(v=>v.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=ge.atStart(e.doc).from,u=ge.atEnd(e.doc).to,f=o===l&&s===u,d=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!f||!d)return;const h=n.tr,m=Yp({state:n,transaction:h}),{commands:g}=new Xp({editor:this.editor,state:m});if(g.clearNodes(),!!h.steps.length)return h}})]}}),k8=Sn.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new Xt("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var A8=Object.freeze({__proto__:null,ClipboardTextSerializer:v$,Commands:D8,Editable:w8,FocusEvents:E8,Keymap:b8,Tabindex:k8});function T8(t,e){const n=Pt(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function zA(t,e){const n=nh(typeof e=="string"?e:e.name,t.schema);return n==="node"?T8(t,e):n==="mark"?LA(t,e):{}}function O8(t,e){const n=Nn.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function M8(t,e){const n={from:0,to:t.content.size};return MA(t,n,e)}function N8(t,e,n={}){if(!e)return fc(t,null,n)||U0(t,null,n);const r=nh(e,t.schema);return r==="node"?fc(t,e,n):r==="mark"?U0(t,e,n):!1}function _8(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}const F8=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function R8(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class P8 extends i${constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=R8(F8,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=OA(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(A8):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new zl(n,this)}createCommandManager(){this.commandManager=new Xp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=IA(this.options.content,this.schema,this.options.parseOptions),n=RA(e,this.options.autofocus);this.view=new bz(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Il.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return zA(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return N8(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return O8(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return M8(this.state.doc,{blockSeparator:n,textSerializers:{...r,...NA(this.schema)}})}get isEmpty(){return _8(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function I8(t,e){const n=new m1(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function L8(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function B8(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function z8(t){const e=B8(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function $8(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,u)=>{s.push({from:l,to:u})});else{const{from:l,to:u}=n[o];if(l===void 0||u===void 0)return;s.push({from:l,to:u})}s.forEach(({from:l,to:u})=>{const f=e.slice(o).map(l,-1),d=e.slice(o).map(u),h=e.invert().map(f,-1),m=e.invert().map(d);r.push({oldRange:{from:h,to:m},newRange:{from:f,to:d}})})}),z8(r)}function Xd(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=O1(o,i.type);!s||r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function H8(t){return _A(t)&&t instanceof Q}function V8(t,e,n){const i=t.state.doc.content.size,o=zi(e,0,i),s=zi(n,0,i),l=t.coordsAtPos(o),u=t.coordsAtPos(s,-1),f=Math.min(l.top,u.top),d=Math.max(l.bottom,u.bottom),h=Math.min(l.left,u.left),m=Math.max(l.right,u.right),g=m-h,v=d-f,S={top:f,bottom:d,left:h,right:m,width:g,height:v,x:h,y:f};return{...S,toJSON:()=>S}}function dc(t){return new Zp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];let u=n.to;if(s){const f=l.search(/\S/),d=n.from+l.indexOf(s),h=d+s.length;if(Xd(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(x=>x===t.type&&x!==g.mark.type)).filter(g=>g.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+f,d),u=n.from+f+s.length,o.addMark(n.from+f,u,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function YD(t){return new Zp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=s+u;f>l?f=l:l=f+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(f,l,t.type.create(i))}else r[0]&&o.replaceWith(s,l,t.type.create(i))}})}function W8(t){return new Zp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Ne(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function $A(t){return new Zp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),u=l&&p1(l,t.type,i);if(!u)return null;o.wrap(l,u);const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&wc(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&o.join(n.from-1)}})}class Bo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bo(e)}configure(e={}){const n=this.extend();return n.options=eh(this.options,e),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Bo(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}}class Yt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ne(de(this,"addOptions",{name:this.name}))),this.storage=Ne(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yt(e)}configure(e={}){const n=this.extend();return n.options=eh(this.options,e),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Yt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ne(de(n,"addOptions",{name:n.name})),n.storage=Ne(de(n,"addStorage",{name:n.name,options:n.options})),n}}class U8{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,l,u;const{view:f}=this.editor,d=e.target,h=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(d))||!h)return;let m=0,g=0;if(this.dom!==h){const k=this.dom.getBoundingClientRect(),S=h.getBoundingClientRect(),b=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,A=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;m=S.x-k.x+b,g=S.y-k.y+A}(u=e.dataTransfer)===null||u===void 0||u.setDragImage(this.dom,m,g);const v=Q.create(f.state.doc,this.getPos()),x=f.state.tr.setSelection(v);f.dispatch(x)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:u}=this,f=!!this.node.type.spec.draggable,d=Q.isSelectable(this.node),h=e.type==="copy",m=e.type==="paste",g=e.type==="cut",v=e.type==="mousedown",x=e.type.startsWith("drag");if(!f&&d&&x&&e.preventDefault(),f&&x&&!u)return e.preventDefault(),!1;if(f&&l&&!u&&v){const k=r.closest("[data-drag-handle]");k&&(this.dom===k||this.dom.contains(k))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||h||m||g||v&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&th()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function ha(t){return new d$({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ne(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];let u=n.to;if(s){const f=l.search(/\S/),d=n.from+l.indexOf(s),h=d+s.length;if(Xd(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(x=>x===t.type&&x!==g.mark.type)).filter(g=>g.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+f,d),u=n.from+f+s.length,o.addMark(n.from+f,u,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function j8(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Pn="top",kr="bottom",Ar="right",In="left",N1="auto",bc=[Pn,kr,Ar,In],ma="start",pc="end",K8="clippingParents",HA="viewport",au="popper",q8="reference",XD=bc.reduce(function(t,e){return t.concat([e+"-"+ma,e+"-"+pc])},[]),VA=[].concat(bc,[N1]).reduce(function(t,e){return t.concat([e,e+"-"+ma,e+"-"+pc])},[]),J8="beforeRead",G8="read",Y8="afterRead",X8="beforeMain",Q8="main",Z8="afterMain",e4="beforeWrite",t4="write",n4="afterWrite",r4=[J8,G8,Y8,X8,Q8,Z8,e4,t4,n4];function gi(t){return t?(t.nodeName||"").toLowerCase():null}function qr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ga(t){var e=qr(t).Element;return t instanceof e||t instanceof Element}function wr(t){var e=qr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _1(t){if(typeof ShadowRoot=="undefined")return!1;var e=qr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function i4(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!wr(o)||!gi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function o4(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=s.reduce(function(u,f){return u[f]="",u},{});!wr(i)||!gi(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var WA={name:"applyStyles",enabled:!0,phase:"write",fn:i4,effect:o4,requires:["computeStyles"]};function pi(t){return t.split("-")[0]}var Ns=Math.max,Qd=Math.min,ya=Math.round;function va(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(wr(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=ya(n.width)/s||1),o>0&&(i=ya(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function F1(t){var e=va(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function UA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ji(t){return qr(t).getComputedStyle(t)}function s4(t){return["table","td","th"].indexOf(gi(t))>=0}function qo(t){return((ga(t)?t.ownerDocument:t.document)||window.document).documentElement}function rh(t){return gi(t)==="html"?t:t.assignedSlot||t.parentNode||(_1(t)?t.host:null)||qo(t)}function QD(t){return!wr(t)||ji(t).position==="fixed"?null:t.offsetParent}function l4(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&wr(t)){var r=ji(t);if(r.position==="fixed")return null}var i=rh(t);for(_1(i)&&(i=i.host);wr(i)&&["html","body"].indexOf(gi(i))<0;){var o=ji(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function kc(t){for(var e=qr(t),n=QD(t);n&&s4(n)&&ji(n).position==="static";)n=QD(n);return n&&(gi(n)==="html"||gi(n)==="body"&&ji(n).position==="static")?e:n||l4(t)||e}function R1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Fu(t,e,n){return Ns(t,Qd(e,n))}function a4(t,e,n){var r=Fu(t,e,n);return r>n?n:r}function jA(){return{top:0,right:0,bottom:0,left:0}}function KA(t){return Object.assign({},jA(),t)}function qA(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var u4=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,KA(typeof e!="number"?e:qA(e,bc))};function c4(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=pi(n.placement),u=R1(l),f=[In,Ar].indexOf(l)>=0,d=f?"height":"width";if(!(!o||!s)){var h=u4(i.padding,n),m=F1(o),g=u==="y"?Pn:In,v=u==="y"?kr:Ar,x=n.rects.reference[d]+n.rects.reference[u]-s[u]-n.rects.popper[d],k=s[u]-n.rects.reference[u],S=kc(o),b=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,A=x/2-k/2,w=h[g],R=b-m[d]-h[v],P=b/2-m[d]/2+A,$=Fu(w,P,R),F=u;n.modifiersData[r]=(e={},e[F]=$,e.centerOffset=$-P,e)}}function f4(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!UA(e.elements.popper,i)||(e.elements.arrow=i))}var d4={name:"arrow",enabled:!0,phase:"main",fn:c4,effect:f4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ca(t){return t.split("-")[1]}var p4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h4(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:ya(e*i)/i||0,y:ya(n*i)/i||0}}function ZD(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=s.x,g=m===void 0?0:m,v=s.y,x=v===void 0?0:v,k=typeof d=="function"?d({x:g,y:x}):{x:g,y:x};g=k.x,x=k.y;var S=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),A=In,w=Pn,R=window;if(f){var P=kc(n),$="clientHeight",F="clientWidth";if(P===qr(n)&&(P=qo(n),ji(P).position!=="static"&&l==="absolute"&&($="scrollHeight",F="scrollWidth")),P=P,i===Pn||(i===In||i===Ar)&&o===pc){w=kr;var Z=h&&P===R&&R.visualViewport?R.visualViewport.height:P[$];x-=Z-r.height,x*=u?1:-1}if(i===In||(i===Pn||i===kr)&&o===pc){A=Ar;var ee=h&&P===R&&R.visualViewport?R.visualViewport.width:P[F];g-=ee-r.width,g*=u?1:-1}}var oe=Object.assign({position:l},f&&p4),ne=d===!0?h4({x:g,y:x}):{x:g,y:x};if(g=ne.x,x=ne.y,u){var ye;return Object.assign({},oe,(ye={},ye[w]=b?"0":"",ye[A]=S?"0":"",ye.transform=(R.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",ye))}return Object.assign({},oe,(e={},e[w]=b?x+"px":"",e[A]=S?g+"px":"",e.transform="",e))}function m4(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:pi(e.placement),variation:Ca(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ZD(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ZD(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var g4={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:m4,data:{}},Wf={passive:!0};function y4(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=qr(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",n.update,Wf)}),l&&u.addEventListener("resize",n.update,Wf),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",n.update,Wf)}),l&&u.removeEventListener("resize",n.update,Wf)}}var v4={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:y4,data:{}},C4={left:"right",right:"left",bottom:"top",top:"bottom"};function cd(t){return t.replace(/left|right|bottom|top/g,function(e){return C4[e]})}var x4={start:"end",end:"start"};function ew(t){return t.replace(/start|end/g,function(e){return x4[e]})}function P1(t){var e=qr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function I1(t){return va(qo(t)).left+P1(t).scrollLeft}function S4(t){var e=qr(t),n=qo(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s+I1(t),y:l}}function D4(t){var e,n=qo(t),r=P1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ns(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ns(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+I1(t),u=-r.scrollTop;return ji(i||n).direction==="rtl"&&(l+=Ns(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function L1(t){var e=ji(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function JA(t){return["html","body","#document"].indexOf(gi(t))>=0?t.ownerDocument.body:wr(t)&&L1(t)?t:JA(rh(t))}function Ru(t,e){var n;e===void 0&&(e=[]);var r=JA(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=qr(r),s=i?[o].concat(o.visualViewport||[],L1(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Ru(rh(s)))}function j0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function w4(t){var e=va(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function tw(t,e){return e===HA?j0(S4(t)):ga(e)?w4(e):j0(D4(qo(t)))}function E4(t){var e=Ru(rh(t)),n=["absolute","fixed"].indexOf(ji(t).position)>=0,r=n&&wr(t)?kc(t):t;return ga(r)?e.filter(function(i){return ga(i)&&UA(i,r)&&gi(i)!=="body"}):[]}function b4(t,e,n){var r=e==="clippingParents"?E4(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(l,u){var f=tw(t,u);return l.top=Ns(f.top,l.top),l.right=Qd(f.right,l.right),l.bottom=Qd(f.bottom,l.bottom),l.left=Ns(f.left,l.left),l},tw(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function GA(t){var e=t.reference,n=t.element,r=t.placement,i=r?pi(r):null,o=r?Ca(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case Pn:u={x:s,y:e.y-n.height};break;case kr:u={x:s,y:e.y+e.height};break;case Ar:u={x:e.x+e.width,y:l};break;case In:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var f=i?R1(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case ma:u[f]=u[f]-(e[d]/2-n[d]/2);break;case pc:u[f]=u[f]+(e[d]/2-n[d]/2);break}}return u}function hc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,s=o===void 0?K8:o,l=n.rootBoundary,u=l===void 0?HA:l,f=n.elementContext,d=f===void 0?au:f,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,v=g===void 0?0:g,x=KA(typeof v!="number"?v:qA(v,bc)),k=d===au?q8:au,S=t.rects.popper,b=t.elements[m?k:d],A=b4(ga(b)?b:b.contextElement||qo(t.elements.popper),s,u),w=va(t.elements.reference),R=GA({reference:w,element:S,strategy:"absolute",placement:i}),P=j0(Object.assign({},S,R)),$=d===au?P:w,F={top:A.top-$.top+x.top,bottom:$.bottom-A.bottom+x.bottom,left:A.left-$.left+x.left,right:$.right-A.right+x.right},Z=t.modifiersData.offset;if(d===au&&Z){var ee=Z[i];Object.keys(F).forEach(function(oe){var ne=[Ar,kr].indexOf(oe)>=0?1:-1,ye=[Pn,kr].indexOf(oe)>=0?"y":"x";F[oe]+=ee[ye]*ne})}return F}function k4(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?VA:u,d=Ca(r),h=d?l?XD:XD.filter(function(v){return Ca(v)===d}):bc,m=h.filter(function(v){return f.indexOf(v)>=0});m.length===0&&(m=h);var g=m.reduce(function(v,x){return v[x]=hc(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[pi(x)],v},{});return Object.keys(g).sort(function(v,x){return g[v]-g[x]})}function A4(t){if(pi(t)===N1)return[];var e=cd(t);return[ew(t),e,ew(e)]}function T4(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,f=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,x=n.allowedAutoPlacements,k=e.options.placement,S=pi(k),b=S===k,A=u||(b||!v?[cd(k)]:A4(k)),w=[k].concat(A).reduce(function(pe,ve){return pe.concat(pi(ve)===N1?k4(e,{placement:ve,boundary:d,rootBoundary:h,padding:f,flipVariations:v,allowedAutoPlacements:x}):ve)},[]),R=e.rects.reference,P=e.rects.popper,$=new Map,F=!0,Z=w[0],ee=0;ee<w.length;ee++){var oe=w[ee],ne=pi(oe),ye=Ca(oe)===ma,he=[Pn,kr].indexOf(ne)>=0,H=he?"width":"height",I=hc(e,{placement:oe,boundary:d,rootBoundary:h,altBoundary:m,padding:f}),K=he?ye?Ar:In:ye?kr:Pn;R[H]>P[H]&&(K=cd(K));var _=cd(K),L=[];if(o&&L.push(I[ne]<=0),l&&L.push(I[K]<=0,I[_]<=0),L.every(function(pe){return pe})){Z=oe,F=!1;break}$.set(oe,L)}if(F)for(var B=v?3:1,J=function(ve){var Ce=w.find(function(Ye){var Oe=$.get(Ye);if(Oe)return Oe.slice(0,ve).every(function(Ie){return Ie})});if(Ce)return Z=Ce,"break"},G=B;G>0;G--){var ce=J(G);if(ce==="break")break}e.placement!==Z&&(e.modifiersData[r]._skip=!0,e.placement=Z,e.reset=!0)}}var O4={name:"flip",enabled:!0,phase:"main",fn:T4,requiresIfExists:["offset"],data:{_skip:!1}};function nw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rw(t){return[Pn,Ar,kr,In].some(function(e){return t[e]>=0})}function M4(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=hc(e,{elementContext:"reference"}),l=hc(e,{altBoundary:!0}),u=nw(s,r),f=nw(l,i,o),d=rw(u),h=rw(f);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}var N4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:M4};function _4(t,e,n){var r=pi(t),i=[In,Pn].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[In,Ar].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function F4(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=VA.reduce(function(d,h){return d[h]=_4(h,e.rects,o),d},{}),l=s[e.placement],u=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=s}var R4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F4};function P4(t){var e=t.state,n=t.name;e.modifiersData[n]=GA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var I4={name:"popperOffsets",enabled:!0,phase:"read",fn:P4,data:{}};function L4(t){return t==="x"?"y":"x"}function B4(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,g=m===void 0?!0:m,v=n.tetherOffset,x=v===void 0?0:v,k=hc(e,{boundary:u,rootBoundary:f,padding:h,altBoundary:d}),S=pi(e.placement),b=Ca(e.placement),A=!b,w=R1(S),R=L4(w),P=e.modifiersData.popperOffsets,$=e.rects.reference,F=e.rects.popper,Z=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,ee=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),oe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(!!P){if(o){var ye,he=w==="y"?Pn:In,H=w==="y"?kr:Ar,I=w==="y"?"height":"width",K=P[w],_=K+k[he],L=K-k[H],B=g?-F[I]/2:0,J=b===ma?$[I]:F[I],G=b===ma?-F[I]:-$[I],ce=e.elements.arrow,pe=g&&ce?F1(ce):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jA(),Ce=ve[he],Ye=ve[H],Oe=Fu(0,$[I],pe[I]),Ie=A?$[I]/2-B-Oe-Ce-ee.mainAxis:J-Oe-Ce-ee.mainAxis,fn=A?-$[I]/2+B+Oe+Ye+ee.mainAxis:G+Oe+Ye+ee.mainAxis,Qt=e.elements.arrow&&kc(e.elements.arrow),It=Qt?w==="y"?Qt.clientTop||0:Qt.clientLeft||0:0,mt=(ye=oe==null?void 0:oe[w])!=null?ye:0,Ae=K+Ie-mt-It,Tt=K+fn-mt,gt=Fu(g?Qd(_,Ae):_,K,g?Ns(L,Tt):L);P[w]=gt,ne[w]=gt-K}if(l){var wt,Lt=w==="x"?Pn:In,xi=w==="x"?kr:Ar,Bt=P[R],it=R==="y"?"height":"width",Tr=Bt+k[Lt],ir=Bt-k[xi],Yo=[Pn,In].indexOf(S)!==-1,Gr=(wt=oe==null?void 0:oe[R])!=null?wt:0,Qs=Yo?Tr:Bt-$[it]-F[it]-Gr+ee.altAxis,Yr=Yo?Bt+$[it]+F[it]-Gr-ee.altAxis:ir,Or=g&&Yo?a4(Qs,Bt,Yr):Fu(g?Qs:Tr,Bt,g?Yr:ir);P[R]=Or,ne[R]=Or-Bt}e.modifiersData[r]=ne}}var z4={name:"preventOverflow",enabled:!0,phase:"main",fn:B4,requiresIfExists:["offset"]};function $4(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function H4(t){return t===qr(t)||!wr(t)?P1(t):$4(t)}function V4(t){var e=t.getBoundingClientRect(),n=ya(e.width)/t.offsetWidth||1,r=ya(e.height)/t.offsetHeight||1;return n!==1||r!==1}function W4(t,e,n){n===void 0&&(n=!1);var r=wr(e),i=wr(e)&&V4(e),o=qo(e),s=va(t,i),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((gi(e)!=="body"||L1(o))&&(l=H4(e)),wr(e)?(u=va(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=I1(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function U4(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function j4(t){var e=U4(t);return r4.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function K4(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function q4(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var iw={placement:"bottom",modifiers:[],strategy:"absolute"};function ow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function J4(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?iw:i;return function(l,u,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},iw,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},h=[],m=!1,g={state:d,setOptions:function(S){var b=typeof S=="function"?S(d.options):S;x(),d.options=Object.assign({},o,d.options,b),d.scrollParents={reference:ga(l)?Ru(l):l.contextElement?Ru(l.contextElement):[],popper:Ru(u)};var A=j4(q4([].concat(r,d.options.modifiers)));return d.orderedModifiers=A.filter(function(w){return w.enabled}),v(),g.update()},forceUpdate:function(){if(!m){var S=d.elements,b=S.reference,A=S.popper;if(!!ow(b,A)){d.rects={reference:W4(b,kc(A),d.options.strategy==="fixed"),popper:F1(A)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(ee){return d.modifiersData[ee.name]=Object.assign({},ee.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var R=d.orderedModifiers[w],P=R.fn,$=R.options,F=$===void 0?{}:$,Z=R.name;typeof P=="function"&&(d=P({state:d,options:F,name:Z,instance:g})||d)}}}},update:K4(function(){return new Promise(function(k){g.forceUpdate(),k(d)})}),destroy:function(){x(),m=!0}};if(!ow(l,u))return g;g.setOptions(f).then(function(k){!m&&f.onFirstUpdate&&f.onFirstUpdate(k)});function v(){d.orderedModifiers.forEach(function(k){var S=k.name,b=k.options,A=b===void 0?{}:b,w=k.effect;if(typeof w=="function"){var R=w({state:d,name:S,instance:g,options:A}),P=function(){};h.push(R||P)}})}function x(){h.forEach(function(k){return k()}),h=[]}return g}}var G4=[v4,I4,g4,WA,R4,O4,z4,d4,N4],Y4=J4({defaultModifiers:G4}),X4="tippy-box",YA="tippy-content",Q4="tippy-backdrop",XA="tippy-arrow",QA="tippy-svg-arrow",fs={passive:!0,capture:!0},ZA=function(){return document.body};function Cg(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function B1(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function eT(t,e){return typeof t=="function"?t.apply(void 0,e):t}function sw(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Z4(t){return t.split(/\s+/).filter(Boolean)}function Sl(t){return[].concat(t)}function lw(t,e){t.indexOf(e)===-1&&t.push(e)}function e6(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function t6(t){return t.split("-")[0]}function Zd(t){return[].slice.call(t)}function aw(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Pu(){return document.createElement("div")}function ih(t){return["Element","Fragment"].some(function(e){return B1(t,e)})}function n6(t){return B1(t,"NodeList")}function r6(t){return B1(t,"MouseEvent")}function i6(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function o6(t){return ih(t)?[t]:n6(t)?Zd(t):Array.isArray(t)?t:Zd(document.querySelectorAll(t))}function xg(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function uw(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function s6(t){var e,n=Sl(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function l6(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,u=l.interactiveBorder,f=t6(s.placement),d=s.modifiersData.offset;if(!d)return!0;var h=f==="bottom"?d.top.y:0,m=f==="top"?d.bottom.y:0,g=f==="right"?d.left.x:0,v=f==="left"?d.right.x:0,x=o.top-r+h>u,k=r-o.bottom-m>u,S=o.left-n+g>u,b=n-o.right-v>u;return x||k||S||b})}function Sg(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function cw(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ii={isTouch:!1},fw=0;function a6(){ii.isTouch||(ii.isTouch=!0,window.performance&&document.addEventListener("mousemove",tT))}function tT(){var t=performance.now();t-fw<20&&(ii.isTouch=!1,document.removeEventListener("mousemove",tT)),fw=t}function u6(){var t=document.activeElement;if(i6(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function c6(){document.addEventListener("touchstart",a6,fs),window.addEventListener("blur",u6)}var f6=typeof window!="undefined"&&typeof document!="undefined",d6=f6?!!window.msCrypto:!1,p6={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},h6={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Hr=Object.assign({appendTo:ZA,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},p6,h6),m6=Object.keys(Hr),g6=function(e){var n=Object.keys(e);n.forEach(function(r){Hr[r]=e[r]})};function nT(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=t[o]!==void 0?t[o]:(l=Hr[o])!=null?l:s}return r},{});return Object.assign({},t,n)}function y6(t,e){var n=e?Object.keys(nT(Object.assign({},Hr,{plugins:e}))):m6,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function dw(t,e){var n=Object.assign({},e,{content:eT(e.content,[t])},e.ignoreAttributes?{}:y6(t,e.plugins));return n.aria=Object.assign({},Hr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var v6=function(){return"innerHTML"};function K0(t,e){t[v6()]=e}function pw(t){var e=Pu();return t===!0?e.className=XA:(e.className=QA,ih(t)?e.appendChild(t):K0(e,t)),e}function hw(t,e){ih(e.content)?(K0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?K0(t,e.content):t.textContent=e.content)}function q0(t){var e=t.firstElementChild,n=Zd(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(YA)}),arrow:n.find(function(r){return r.classList.contains(XA)||r.classList.contains(QA)}),backdrop:n.find(function(r){return r.classList.contains(Q4)})}}function rT(t){var e=Pu(),n=Pu();n.className=X4,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Pu();r.className=YA,r.setAttribute("data-state","hidden"),hw(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var l=q0(e),u=l.box,f=l.content,d=l.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&hw(f,t.props),s.arrow?d?o.arrow!==s.arrow&&(u.removeChild(d),u.appendChild(pw(s.arrow))):u.appendChild(pw(s.arrow)):d&&u.removeChild(d)}return{popper:e,onUpdate:i}}rT.$$tippy=!0;var C6=1,Uf=[],Dg=[];function x6(t,e){var n=dw(t,Object.assign({},Hr,nT(aw(e)))),r,i,o,s=!1,l=!1,u=!1,f=!1,d,h,m,g=[],v=sw(Ae,n.interactiveDebounce),x,k=C6++,S=null,b=e6(n.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:k,reference:t,popper:Pu(),popperInstance:S,props:n,state:A,plugins:b,clearDelayTimeouts:Qs,setProps:Yr,setContent:Or,show:Ma,hide:Na,hideWithInteractivity:_a,enable:Yo,disable:Gr,unmount:Fa,destroy:Ra};if(!n.render)return w;var R=n.render(w),P=R.popper,$=R.onUpdate;P.setAttribute("data-tippy-root",""),P.id="tippy-"+w.id,w.popper=P,t._tippy=w,P._tippy=w;var F=b.map(function(V){return V.fn(w)}),Z=t.hasAttribute("aria-expanded");return Qt(),B(),K(),_("onCreate",[w]),n.showOnCreate&&Tr(),P.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),P.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&he().addEventListener("mousemove",v)}),w;function ee(){var V=w.props.touch;return Array.isArray(V)?V:[V,0]}function oe(){return ee()[0]==="hold"}function ne(){var V;return!!((V=w.props.render)!=null&&V.$$tippy)}function ye(){return x||t}function he(){var V=ye().parentNode;return V?s6(V):document}function H(){return q0(P)}function I(V){return w.state.isMounted&&!w.state.isVisible||ii.isTouch||d&&d.type==="focus"?0:Cg(w.props.delay,V?0:1,Hr.delay)}function K(V){V===void 0&&(V=!1),P.style.pointerEvents=w.props.interactive&&!V?"":"none",P.style.zIndex=""+w.props.zIndex}function _(V,fe,De){if(De===void 0&&(De=!0),F.forEach(function(ze){ze[V]&&ze[V].apply(ze,fe)}),De){var We;(We=w.props)[V].apply(We,fe)}}function L(){var V=w.props.aria;if(!!V.content){var fe="aria-"+V.content,De=P.id,We=Sl(w.props.triggerTarget||t);We.forEach(function(ze){var zt=ze.getAttribute(fe);if(w.state.isVisible)ze.setAttribute(fe,zt?zt+" "+De:De);else{var En=zt&&zt.replace(De,"").trim();En?ze.setAttribute(fe,En):ze.removeAttribute(fe)}})}}function B(){if(!(Z||!w.props.aria.expanded)){var V=Sl(w.props.triggerTarget||t);V.forEach(function(fe){w.props.interactive?fe.setAttribute("aria-expanded",w.state.isVisible&&fe===ye()?"true":"false"):fe.removeAttribute("aria-expanded")})}}function J(){he().removeEventListener("mousemove",v),Uf=Uf.filter(function(V){return V!==v})}function G(V){if(!(ii.isTouch&&(u||V.type==="mousedown"))){var fe=V.composedPath&&V.composedPath()[0]||V.target;if(!(w.props.interactive&&cw(P,fe))){if(Sl(w.props.triggerTarget||t).some(function(De){return cw(De,fe)})){if(ii.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else _("onClickOutside",[w,V]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),l=!0,setTimeout(function(){l=!1}),w.state.isMounted||Ce())}}}function ce(){u=!0}function pe(){u=!1}function ve(){var V=he();V.addEventListener("mousedown",G,!0),V.addEventListener("touchend",G,fs),V.addEventListener("touchstart",pe,fs),V.addEventListener("touchmove",ce,fs)}function Ce(){var V=he();V.removeEventListener("mousedown",G,!0),V.removeEventListener("touchend",G,fs),V.removeEventListener("touchstart",pe,fs),V.removeEventListener("touchmove",ce,fs)}function Ye(V,fe){Ie(V,function(){!w.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&fe()})}function Oe(V,fe){Ie(V,fe)}function Ie(V,fe){var De=H().box;function We(ze){ze.target===De&&(Sg(De,"remove",We),fe())}if(V===0)return fe();Sg(De,"remove",h),Sg(De,"add",We),h=We}function fn(V,fe,De){De===void 0&&(De=!1);var We=Sl(w.props.triggerTarget||t);We.forEach(function(ze){ze.addEventListener(V,fe,De),g.push({node:ze,eventType:V,handler:fe,options:De})})}function Qt(){oe()&&(fn("touchstart",mt,{passive:!0}),fn("touchend",Tt,{passive:!0})),Z4(w.props.trigger).forEach(function(V){if(V!=="manual")switch(fn(V,mt),V){case"mouseenter":fn("mouseleave",Tt);break;case"focus":fn(d6?"focusout":"blur",gt);break;case"focusin":fn("focusout",gt);break}})}function It(){g.forEach(function(V){var fe=V.node,De=V.eventType,We=V.handler,ze=V.options;fe.removeEventListener(De,We,ze)}),g=[]}function mt(V){var fe,De=!1;if(!(!w.state.isEnabled||wt(V)||l)){var We=((fe=d)==null?void 0:fe.type)==="focus";d=V,x=V.currentTarget,B(),!w.state.isVisible&&r6(V)&&Uf.forEach(function(ze){return ze(V)}),V.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||s)&&w.props.hideOnClick!==!1&&w.state.isVisible?De=!0:Tr(V),V.type==="click"&&(s=!De),De&&!We&&ir(V)}}function Ae(V){var fe=V.target,De=ye().contains(fe)||P.contains(fe);if(!(V.type==="mousemove"&&De)){var We=it().concat(P).map(function(ze){var zt,En=ze._tippy,Si=(zt=En.popperInstance)==null?void 0:zt.state;return Si?{popperRect:ze.getBoundingClientRect(),popperState:Si,props:n}:null}).filter(Boolean);l6(We,V)&&(J(),ir(V))}}function Tt(V){var fe=wt(V)||w.props.trigger.indexOf("click")>=0&&s;if(!fe){if(w.props.interactive){w.hideWithInteractivity(V);return}ir(V)}}function gt(V){w.props.trigger.indexOf("focusin")<0&&V.target!==ye()||w.props.interactive&&V.relatedTarget&&P.contains(V.relatedTarget)||ir(V)}function wt(V){return ii.isTouch?oe()!==V.type.indexOf("touch")>=0:!1}function Lt(){xi();var V=w.props,fe=V.popperOptions,De=V.placement,We=V.offset,ze=V.getReferenceClientRect,zt=V.moveTransition,En=ne()?q0(P).arrow:null,Si=ze?{getBoundingClientRect:ze,contextElement:ze.contextElement||ye()}:t,Pa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Zs){var qi=Zs.state;if(ne()){var Fc=H(),La=Fc.box;["placement","reference-hidden","escaped"].forEach(function(el){el==="placement"?La.setAttribute("data-placement",qi.placement):qi.attributes.popper["data-popper-"+el]?La.setAttribute("data-"+el,""):La.removeAttribute("data-"+el)}),qi.attributes.popper={}}}},Di=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!zt}},Pa];ne()&&En&&Di.push({name:"arrow",options:{element:En,padding:3}}),Di.push.apply(Di,(fe==null?void 0:fe.modifiers)||[]),w.popperInstance=Y4(Si,P,Object.assign({},fe,{placement:De,onFirstUpdate:m,modifiers:Di}))}function xi(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function Bt(){var V=w.props.appendTo,fe,De=ye();w.props.interactive&&V===ZA||V==="parent"?fe=De.parentNode:fe=eT(V,[De]),fe.contains(P)||fe.appendChild(P),w.state.isMounted=!0,Lt()}function it(){return Zd(P.querySelectorAll("[data-tippy-root]"))}function Tr(V){w.clearDelayTimeouts(),V&&_("onTrigger",[w,V]),ve();var fe=I(!0),De=ee(),We=De[0],ze=De[1];ii.isTouch&&We==="hold"&&ze&&(fe=ze),fe?r=setTimeout(function(){w.show()},fe):w.show()}function ir(V){if(w.clearDelayTimeouts(),_("onUntrigger",[w,V]),!w.state.isVisible){Ce();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(V.type)>=0&&s)){var fe=I(!1);fe?i=setTimeout(function(){w.state.isVisible&&w.hide()},fe):o=requestAnimationFrame(function(){w.hide()})}}function Yo(){w.state.isEnabled=!0}function Gr(){w.hide(),w.state.isEnabled=!1}function Qs(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Yr(V){if(!w.state.isDestroyed){_("onBeforeUpdate",[w,V]),It();var fe=w.props,De=dw(t,Object.assign({},fe,aw(V),{ignoreAttributes:!0}));w.props=De,Qt(),fe.interactiveDebounce!==De.interactiveDebounce&&(J(),v=sw(Ae,De.interactiveDebounce)),fe.triggerTarget&&!De.triggerTarget?Sl(fe.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):De.triggerTarget&&t.removeAttribute("aria-expanded"),B(),K(),$&&$(fe,De),w.popperInstance&&(Lt(),it().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),_("onAfterUpdate",[w,V])}}function Or(V){w.setProps({content:V})}function Ma(){var V=w.state.isVisible,fe=w.state.isDestroyed,De=!w.state.isEnabled,We=ii.isTouch&&!w.props.touch,ze=Cg(w.props.duration,0,Hr.duration);if(!(V||fe||De||We)&&!ye().hasAttribute("disabled")&&(_("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,ne()&&(P.style.visibility="visible"),K(),ve(),w.state.isMounted||(P.style.transition="none"),ne()){var zt=H(),En=zt.box,Si=zt.content;xg([En,Si],0)}m=function(){var Di;if(!(!w.state.isVisible||f)){if(f=!0,P.offsetHeight,P.style.transition=w.props.moveTransition,ne()&&w.props.animation){var Ia=H(),Zs=Ia.box,qi=Ia.content;xg([Zs,qi],ze),uw([Zs,qi],"visible")}L(),B(),lw(Dg,w),(Di=w.popperInstance)==null||Di.forceUpdate(),_("onMount",[w]),w.props.animation&&ne()&&Oe(ze,function(){w.state.isShown=!0,_("onShown",[w])})}},Bt()}}function Na(){var V=!w.state.isVisible,fe=w.state.isDestroyed,De=!w.state.isEnabled,We=Cg(w.props.duration,1,Hr.duration);if(!(V||fe||De)&&(_("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,f=!1,s=!1,ne()&&(P.style.visibility="hidden"),J(),Ce(),K(!0),ne()){var ze=H(),zt=ze.box,En=ze.content;w.props.animation&&(xg([zt,En],We),uw([zt,En],"hidden"))}L(),B(),w.props.animation?ne()&&Ye(We,w.unmount):w.unmount()}}function _a(V){he().addEventListener("mousemove",v),lw(Uf,v),v(V)}function Fa(){w.state.isVisible&&w.hide(),w.state.isMounted&&(xi(),it().forEach(function(V){V._tippy.unmount()}),P.parentNode&&P.parentNode.removeChild(P),Dg=Dg.filter(function(V){return V!==w}),w.state.isMounted=!1,_("onHidden",[w]))}function Ra(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),It(),delete t._tippy,w.state.isDestroyed=!0,_("onDestroy",[w]))}}function Ta(t,e){e===void 0&&(e={});var n=Hr.plugins.concat(e.plugins||[]);c6();var r=Object.assign({},e,{plugins:n}),i=o6(t),o=i.reduce(function(s,l){var u=l&&x6(l,r);return u&&s.push(u),s},[]);return ih(t)?o[0]:o}Ta.defaultProps=Hr;Ta.setDefaultProps=g6;Ta.currentInput=ii;Object.assign({},WA,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Ta.setDefaultProps({render:rT});class S6{constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l,from:u,to:f})=>{const{doc:d,selection:h}=l,{empty:m}=h,g=!d.textBetween(u,f).length&&FA(l.selection);return!(!s.hasFocus()||m||g)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Ta(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,i,o;const{state:s,composing:l}=e,{doc:u,selection:f}=s,d=n&&n.doc.eq(u)&&n.selection.eq(f);if(l||d)return;this.createTooltip();const{ranges:h}=f,m=Math.min(...h.map(x=>x.$from.pos)),g=Math.max(...h.map(x=>x.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:n,from:m,to:g}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(H8(s.selection)){const x=e.nodeDOM(m);if(x)return x.getBoundingClientRect()}return V8(e,m,g)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const iT=t=>new Dt({key:typeof t.pluginKey=="string"?new Xt(t.pluginKey):t.pluginKey,view:e=>new S6({view:e,...t})});Sn.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[iT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var oh={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D6=be.exports,w6=Symbol.for("react.element"),E6=Symbol.for("react.fragment"),b6=Object.prototype.hasOwnProperty,k6=D6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A6={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)b6.call(e,r)&&!A6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:w6,type:t,key:o,ref:s,props:i,_owner:k6.current}}sh.Fragment=E6;sh.jsx=oT;sh.jsxs=oT;oh.exports=sh;const re=oh.exports.jsx,Ve=oh.exports.jsxs,lh=oh.exports.Fragment,sT=t=>{const[e,n]=be.exports.useState(null);return be.exports.useEffect(()=>{if(!e||t.editor.isDestroyed)return;const{pluginKey:r="bubbleMenu",editor:i,tippyOptions:o={},shouldShow:s=null}=t,l=iT({pluginKey:r,editor:i,element:e,tippyOptions:o,shouldShow:s});return i.registerPlugin(l),()=>i.unregisterPlugin(r)},[t.editor,e]),re("div",{ref:n,className:t.className,style:{visibility:"hidden"},children:t.children})};class T6 extends P8{constructor(){super(...arguments),this.contentComponent=null}}const O6=({renderers:t})=>re(lh,{children:Array.from(t).map(([e,n])=>dB.createPortal(n.reactElement,n.element,e))});class M6 extends na.Component{constructor(e){super(e),this.editorContentRef=na.createRef(),this.state={renderers:new Map}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews()}}componentWillUnmount(){const{editor:e}=this.props;if(!e||(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return Ve(lh,{children:[re("div",{ref:this.editorContentRef,...n}),re(O6,{renderers:this.state.renderers})]})}}const N6=na.memo(M6),lT=be.exports.createContext({onDragStart:void 0}),aT=()=>be.exports.useContext(lT),uT=t=>{const e=t.as||"div",{nodeViewContentRef:n}=aT();return re(e,{...t,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...t.style}})},z1=na.forwardRef((t,e)=>{const{onDragStart:n}=aT(),r=t.as||"div";return re(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function _6(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function F6(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class R6{constructor(e,{editor:n,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.render()}render(){var e;const n=this.component,r=this.props;(_6(n)||F6(n))&&(r.ref=i=>{this.ref=i}),this.reactElement=re(n,{...r}),!((e=this.editor)===null||e===void 0)&&e.contentComponent&&this.editor.contentComponent.setState({renderers:this.editor.contentComponent.state.renderers.set(this.id,this)})}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;if(!((e=this.editor)===null||e===void 0)&&e.contentComponent){const{renderers:n}=this.editor.contentComponent.state;n.delete(this.id),this.editor.contentComponent.setState({renderers:n})}}}class P6 extends U8{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const o=s=>s.charAt(0).toUpperCase()+s.substring(1);this.component.displayName=o(this.extension.name)}const n=o=>{const s=this.component,l=this.onDragStart.bind(this),u=f=>{f&&this.contentDOMElement&&f.firstChild!==this.contentDOMElement&&f.appendChild(this.contentDOMElement)};return re(lT.Provider,{value:{onDragStart:l,nodeViewContentRef:u},children:re(s,{...o})})};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:i=""}=this.options;this.renderer=new R6(n,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${i}`.trim()})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,n){const r=i=>{this.renderer.updateProps(i)};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function ah(t,e){return n=>n.editor.contentComponent?new P6(t,n,e):{}}function I6(){const[,t]=be.exports.useState(0);return()=>t(e=>e+1)}const L6=(t={},e=[])=>{const[n,r]=be.exports.useState(null),i=I6();return be.exports.useEffect(()=>{let o=!0;const s=new T6(t);return r(s),s.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o&&i()})})}),()=>{s.destroy(),o=!1}},e),n};var J0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",h=1,m=2,g=4,v=1,x=2,k=1,S=2,b=4,A=8,w=16,R=32,P=64,$=128,F=256,Z=512,ee=30,oe="...",ne=800,ye=16,he=1,H=2,I=3,K=1/0,_=9007199254740991,L=17976931348623157e292,B=0/0,J=4294967295,G=J-1,ce=J>>>1,pe=[["ary",$],["bind",k],["bindKey",S],["curry",A],["curryRight",w],["flip",Z],["partial",R],["partialRight",P],["rearg",F]],ve="[object Arguments]",Ce="[object Array]",Ye="[object AsyncFunction]",Oe="[object Boolean]",Ie="[object Date]",fn="[object DOMException]",Qt="[object Error]",It="[object Function]",mt="[object GeneratorFunction]",Ae="[object Map]",Tt="[object Number]",gt="[object Null]",wt="[object Object]",Lt="[object Promise]",xi="[object Proxy]",Bt="[object RegExp]",it="[object Set]",Tr="[object String]",ir="[object Symbol]",Yo="[object Undefined]",Gr="[object WeakMap]",Qs="[object WeakSet]",Yr="[object ArrayBuffer]",Or="[object DataView]",Ma="[object Float32Array]",Na="[object Float64Array]",_a="[object Int8Array]",Fa="[object Int16Array]",Ra="[object Int32Array]",V="[object Uint8Array]",fe="[object Uint8ClampedArray]",De="[object Uint16Array]",We="[object Uint32Array]",ze=/\b__p \+= '';/g,zt=/\b(__p \+=) '' \+/g,En=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Si=/&(?:amp|lt|gt|quot|#39);/g,Pa=/[&<>"']/g,Di=RegExp(Si.source),Ia=RegExp(Pa.source),Zs=/<%-([\s\S]+?)%>/g,qi=/<%([\s\S]+?)%>/g,Fc=/<%=([\s\S]+?)%>/g,La=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,el=/^\w*$/,DO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hh=/[\\^$.*+?()[\]{}|]/g,wO=RegExp(hh.source),mh=/^\s+/,EO=/\s/,bO=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kO=/\{\n\/\* \[wrapped with (.+)\] \*/,AO=/,? & /,TO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,OO=/[()=,{}\[\]\/\s]/,MO=/\\(\\)?/g,NO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pv=/\w*$/,_O=/^[-+]0x[0-9a-f]+$/i,FO=/^0b[01]+$/i,RO=/^\[object .+?Constructor\]$/,PO=/^0o[0-7]+$/i,IO=/^(?:0|[1-9]\d*)$/,LO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rc=/($^)/,BO=/['\n\r\u2028\u2029\\]/g,Pc="\\ud800-\\udfff",zO="\\u0300-\\u036f",$O="\\ufe20-\\ufe2f",HO="\\u20d0-\\u20ff",hv=zO+$O+HO,mv="\\u2700-\\u27bf",gv="a-z\\xdf-\\xf6\\xf8-\\xff",VO="\\xac\\xb1\\xd7\\xf7",WO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",UO="\\u2000-\\u206f",jO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yv="A-Z\\xc0-\\xd6\\xd8-\\xde",vv="\\ufe0e\\ufe0f",Cv=VO+WO+UO+jO,gh="['\u2019]",KO="["+Pc+"]",xv="["+Cv+"]",Ic="["+hv+"]",Sv="\\d+",qO="["+mv+"]",Dv="["+gv+"]",wv="[^"+Pc+Cv+Sv+mv+gv+yv+"]",yh="\\ud83c[\\udffb-\\udfff]",JO="(?:"+Ic+"|"+yh+")",Ev="[^"+Pc+"]",vh="(?:\\ud83c[\\udde6-\\uddff]){2}",Ch="[\\ud800-\\udbff][\\udc00-\\udfff]",tl="["+yv+"]",bv="\\u200d",kv="(?:"+Dv+"|"+wv+")",GO="(?:"+tl+"|"+wv+")",Av="(?:"+gh+"(?:d|ll|m|re|s|t|ve))?",Tv="(?:"+gh+"(?:D|LL|M|RE|S|T|VE))?",Ov=JO+"?",Mv="["+vv+"]?",YO="(?:"+bv+"(?:"+[Ev,vh,Ch].join("|")+")"+Mv+Ov+")*",XO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nv=Mv+Ov+YO,ZO="(?:"+[qO,vh,Ch].join("|")+")"+Nv,eM="(?:"+[Ev+Ic+"?",Ic,vh,Ch,KO].join("|")+")",tM=RegExp(gh,"g"),nM=RegExp(Ic,"g"),xh=RegExp(yh+"(?="+yh+")|"+eM+Nv,"g"),rM=RegExp([tl+"?"+Dv+"+"+Av+"(?="+[xv,tl,"$"].join("|")+")",GO+"+"+Tv+"(?="+[xv,tl+kv,"$"].join("|")+")",tl+"?"+kv+"+"+Av,tl+"+"+Tv,QO,XO,Sv,ZO].join("|"),"g"),iM=RegExp("["+bv+Pc+hv+vv+"]"),oM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lM=-1,tt={};tt[Ma]=tt[Na]=tt[_a]=tt[Fa]=tt[Ra]=tt[V]=tt[fe]=tt[De]=tt[We]=!0,tt[ve]=tt[Ce]=tt[Yr]=tt[Oe]=tt[Or]=tt[Ie]=tt[Qt]=tt[It]=tt[Ae]=tt[Tt]=tt[wt]=tt[Bt]=tt[it]=tt[Tr]=tt[Gr]=!1;var Ze={};Ze[ve]=Ze[Ce]=Ze[Yr]=Ze[Or]=Ze[Oe]=Ze[Ie]=Ze[Ma]=Ze[Na]=Ze[_a]=Ze[Fa]=Ze[Ra]=Ze[Ae]=Ze[Tt]=Ze[wt]=Ze[Bt]=Ze[it]=Ze[Tr]=Ze[ir]=Ze[V]=Ze[fe]=Ze[De]=Ze[We]=!0,Ze[Qt]=Ze[It]=Ze[Gr]=!1;var aM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},uM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dM=parseFloat,pM=parseInt,_v=typeof vl=="object"&&vl&&vl.Object===Object&&vl,hM=typeof self=="object"&&self&&self.Object===Object&&self,$t=_v||hM||Function("return this")(),Sh=e&&!e.nodeType&&e,Xo=Sh&&!0&&t&&!t.nodeType&&t,Fv=Xo&&Xo.exports===Sh,Dh=Fv&&_v.process,or=function(){try{var M=Xo&&Xo.require&&Xo.require("util").types;return M||Dh&&Dh.binding&&Dh.binding("util")}catch{}}(),Rv=or&&or.isArrayBuffer,Pv=or&&or.isDate,Iv=or&&or.isMap,Lv=or&&or.isRegExp,Bv=or&&or.isSet,zv=or&&or.isTypedArray;function zn(M,W,z){switch(z.length){case 0:return M.call(W);case 1:return M.call(W,z[0]);case 2:return M.call(W,z[0],z[1]);case 3:return M.call(W,z[0],z[1],z[2])}return M.apply(W,z)}function mM(M,W,z,le){for(var ke=-1,je=M==null?0:M.length;++ke<je;){var Et=M[ke];W(le,Et,z(Et),M)}return le}function sr(M,W){for(var z=-1,le=M==null?0:M.length;++z<le&&W(M[z],z,M)!==!1;);return M}function gM(M,W){for(var z=M==null?0:M.length;z--&&W(M[z],z,M)!==!1;);return M}function $v(M,W){for(var z=-1,le=M==null?0:M.length;++z<le;)if(!W(M[z],z,M))return!1;return!0}function Ji(M,W){for(var z=-1,le=M==null?0:M.length,ke=0,je=[];++z<le;){var Et=M[z];W(Et,z,M)&&(je[ke++]=Et)}return je}function Lc(M,W){var z=M==null?0:M.length;return!!z&&nl(M,W,0)>-1}function wh(M,W,z){for(var le=-1,ke=M==null?0:M.length;++le<ke;)if(z(W,M[le]))return!0;return!1}function ot(M,W){for(var z=-1,le=M==null?0:M.length,ke=Array(le);++z<le;)ke[z]=W(M[z],z,M);return ke}function Gi(M,W){for(var z=-1,le=W.length,ke=M.length;++z<le;)M[ke+z]=W[z];return M}function Eh(M,W,z,le){var ke=-1,je=M==null?0:M.length;for(le&&je&&(z=M[++ke]);++ke<je;)z=W(z,M[ke],ke,M);return z}function yM(M,W,z,le){var ke=M==null?0:M.length;for(le&&ke&&(z=M[--ke]);ke--;)z=W(z,M[ke],ke,M);return z}function bh(M,W){for(var z=-1,le=M==null?0:M.length;++z<le;)if(W(M[z],z,M))return!0;return!1}var vM=kh("length");function CM(M){return M.split("")}function xM(M){return M.match(TO)||[]}function Hv(M,W,z){var le;return z(M,function(ke,je,Et){if(W(ke,je,Et))return le=je,!1}),le}function Bc(M,W,z,le){for(var ke=M.length,je=z+(le?1:-1);le?je--:++je<ke;)if(W(M[je],je,M))return je;return-1}function nl(M,W,z){return W===W?_M(M,W,z):Bc(M,Vv,z)}function SM(M,W,z,le){for(var ke=z-1,je=M.length;++ke<je;)if(le(M[ke],W))return ke;return-1}function Vv(M){return M!==M}function Wv(M,W){var z=M==null?0:M.length;return z?Th(M,W)/z:B}function kh(M){return function(W){return W==null?n:W[M]}}function Ah(M){return function(W){return M==null?n:M[W]}}function Uv(M,W,z,le,ke){return ke(M,function(je,Et,Qe){z=le?(le=!1,je):W(z,je,Et,Qe)}),z}function DM(M,W){var z=M.length;for(M.sort(W);z--;)M[z]=M[z].value;return M}function Th(M,W){for(var z,le=-1,ke=M.length;++le<ke;){var je=W(M[le]);je!==n&&(z=z===n?je:z+je)}return z}function Oh(M,W){for(var z=-1,le=Array(M);++z<M;)le[z]=W(z);return le}function wM(M,W){return ot(W,function(z){return[z,M[z]]})}function jv(M){return M&&M.slice(0,Gv(M)+1).replace(mh,"")}function $n(M){return function(W){return M(W)}}function Mh(M,W){return ot(W,function(z){return M[z]})}function Ba(M,W){return M.has(W)}function Kv(M,W){for(var z=-1,le=M.length;++z<le&&nl(W,M[z],0)>-1;);return z}function qv(M,W){for(var z=M.length;z--&&nl(W,M[z],0)>-1;);return z}function EM(M,W){for(var z=M.length,le=0;z--;)M[z]===W&&++le;return le}var bM=Ah(aM),kM=Ah(uM);function AM(M){return"\\"+fM[M]}function TM(M,W){return M==null?n:M[W]}function rl(M){return iM.test(M)}function OM(M){return oM.test(M)}function MM(M){for(var W,z=[];!(W=M.next()).done;)z.push(W.value);return z}function Nh(M){var W=-1,z=Array(M.size);return M.forEach(function(le,ke){z[++W]=[ke,le]}),z}function Jv(M,W){return function(z){return M(W(z))}}function Yi(M,W){for(var z=-1,le=M.length,ke=0,je=[];++z<le;){var Et=M[z];(Et===W||Et===d)&&(M[z]=d,je[ke++]=z)}return je}function zc(M){var W=-1,z=Array(M.size);return M.forEach(function(le){z[++W]=le}),z}function NM(M){var W=-1,z=Array(M.size);return M.forEach(function(le){z[++W]=[le,le]}),z}function _M(M,W,z){for(var le=z-1,ke=M.length;++le<ke;)if(M[le]===W)return le;return-1}function FM(M,W,z){for(var le=z+1;le--;)if(M[le]===W)return le;return le}function il(M){return rl(M)?PM(M):vM(M)}function Mr(M){return rl(M)?IM(M):CM(M)}function Gv(M){for(var W=M.length;W--&&EO.test(M.charAt(W)););return W}var RM=Ah(cM);function PM(M){for(var W=xh.lastIndex=0;xh.test(M);)++W;return W}function IM(M){return M.match(xh)||[]}function LM(M){return M.match(rM)||[]}var BM=function M(W){W=W==null?$t:ol.defaults($t.Object(),W,ol.pick($t,sM));var z=W.Array,le=W.Date,ke=W.Error,je=W.Function,Et=W.Math,Qe=W.Object,_h=W.RegExp,zM=W.String,lr=W.TypeError,$c=z.prototype,$M=je.prototype,sl=Qe.prototype,Hc=W["__core-js_shared__"],Vc=$M.toString,qe=sl.hasOwnProperty,HM=0,Yv=function(){var a=/[^.]+$/.exec(Hc&&Hc.keys&&Hc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Wc=sl.toString,VM=Vc.call(Qe),WM=$t._,UM=_h("^"+Vc.call(qe).replace(hh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uc=Fv?W.Buffer:n,Xi=W.Symbol,jc=W.Uint8Array,Xv=Uc?Uc.allocUnsafe:n,Kc=Jv(Qe.getPrototypeOf,Qe),Qv=Qe.create,Zv=sl.propertyIsEnumerable,qc=$c.splice,eC=Xi?Xi.isConcatSpreadable:n,za=Xi?Xi.iterator:n,Qo=Xi?Xi.toStringTag:n,Jc=function(){try{var a=rs(Qe,"defineProperty");return a({},"",{}),a}catch{}}(),jM=W.clearTimeout!==$t.clearTimeout&&W.clearTimeout,KM=le&&le.now!==$t.Date.now&&le.now,qM=W.setTimeout!==$t.setTimeout&&W.setTimeout,Gc=Et.ceil,Yc=Et.floor,Fh=Qe.getOwnPropertySymbols,JM=Uc?Uc.isBuffer:n,tC=W.isFinite,GM=$c.join,YM=Jv(Qe.keys,Qe),bt=Et.max,Zt=Et.min,XM=le.now,QM=W.parseInt,nC=Et.random,ZM=$c.reverse,Rh=rs(W,"DataView"),$a=rs(W,"Map"),Ph=rs(W,"Promise"),ll=rs(W,"Set"),Ha=rs(W,"WeakMap"),Va=rs(Qe,"create"),Xc=Ha&&new Ha,al={},eN=is(Rh),tN=is($a),nN=is(Ph),rN=is(ll),iN=is(Ha),Qc=Xi?Xi.prototype:n,Wa=Qc?Qc.valueOf:n,rC=Qc?Qc.toString:n;function D(a){if(ft(a)&&!Te(a)&&!(a instanceof Le)){if(a instanceof ar)return a;if(qe.call(a,"__wrapped__"))return ix(a)}return new ar(a)}var ul=function(){function a(){}return function(c){if(!lt(c))return{};if(Qv)return Qv(c);a.prototype=c;var p=new a;return a.prototype=n,p}}();function Zc(){}function ar(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}D.templateSettings={escape:Zs,evaluate:qi,interpolate:Fc,variable:"",imports:{_:D}},D.prototype=Zc.prototype,D.prototype.constructor=D,ar.prototype=ul(Zc.prototype),ar.prototype.constructor=ar;function Le(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function oN(){var a=new Le(this.__wrapped__);return a.__actions__=bn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=bn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=bn(this.__views__),a}function sN(){if(this.__filtered__){var a=new Le(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function lN(){var a=this.__wrapped__.value(),c=this.__dir__,p=Te(a),y=c<0,C=p?a.length:0,E=C2(0,C,this.__views__),T=E.start,O=E.end,N=O-T,j=y?O:T-1,q=this.__iteratees__,Y=q.length,se=0,me=Zt(N,this.__takeCount__);if(!p||!y&&C==N&&me==N)return AC(a,this.__actions__);var we=[];e:for(;N--&&se<me;){j+=c;for(var _e=-1,Ee=a[j];++_e<Y;){var Re=q[_e],$e=Re.iteratee,Wn=Re.type,hn=$e(Ee);if(Wn==H)Ee=hn;else if(!hn){if(Wn==he)continue e;break e}}we[se++]=Ee}return we}Le.prototype=ul(Zc.prototype),Le.prototype.constructor=Le;function Zo(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var y=a[c];this.set(y[0],y[1])}}function aN(){this.__data__=Va?Va(null):{},this.size=0}function uN(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function cN(a){var c=this.__data__;if(Va){var p=c[a];return p===u?n:p}return qe.call(c,a)?c[a]:n}function fN(a){var c=this.__data__;return Va?c[a]!==n:qe.call(c,a)}function dN(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=Va&&c===n?u:c,this}Zo.prototype.clear=aN,Zo.prototype.delete=uN,Zo.prototype.get=cN,Zo.prototype.has=fN,Zo.prototype.set=dN;function wi(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var y=a[c];this.set(y[0],y[1])}}function pN(){this.__data__=[],this.size=0}function hN(a){var c=this.__data__,p=ef(c,a);if(p<0)return!1;var y=c.length-1;return p==y?c.pop():qc.call(c,p,1),--this.size,!0}function mN(a){var c=this.__data__,p=ef(c,a);return p<0?n:c[p][1]}function gN(a){return ef(this.__data__,a)>-1}function yN(a,c){var p=this.__data__,y=ef(p,a);return y<0?(++this.size,p.push([a,c])):p[y][1]=c,this}wi.prototype.clear=pN,wi.prototype.delete=hN,wi.prototype.get=mN,wi.prototype.has=gN,wi.prototype.set=yN;function Ei(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var y=a[c];this.set(y[0],y[1])}}function vN(){this.size=0,this.__data__={hash:new Zo,map:new($a||wi),string:new Zo}}function CN(a){var c=pf(this,a).delete(a);return this.size-=c?1:0,c}function xN(a){return pf(this,a).get(a)}function SN(a){return pf(this,a).has(a)}function DN(a,c){var p=pf(this,a),y=p.size;return p.set(a,c),this.size+=p.size==y?0:1,this}Ei.prototype.clear=vN,Ei.prototype.delete=CN,Ei.prototype.get=xN,Ei.prototype.has=SN,Ei.prototype.set=DN;function es(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new Ei;++c<p;)this.add(a[c])}function wN(a){return this.__data__.set(a,u),this}function EN(a){return this.__data__.has(a)}es.prototype.add=es.prototype.push=wN,es.prototype.has=EN;function Nr(a){var c=this.__data__=new wi(a);this.size=c.size}function bN(){this.__data__=new wi,this.size=0}function kN(a){var c=this.__data__,p=c.delete(a);return this.size=c.size,p}function AN(a){return this.__data__.get(a)}function TN(a){return this.__data__.has(a)}function ON(a,c){var p=this.__data__;if(p instanceof wi){var y=p.__data__;if(!$a||y.length<i-1)return y.push([a,c]),this.size=++p.size,this;p=this.__data__=new Ei(y)}return p.set(a,c),this.size=p.size,this}Nr.prototype.clear=bN,Nr.prototype.delete=kN,Nr.prototype.get=AN,Nr.prototype.has=TN,Nr.prototype.set=ON;function iC(a,c){var p=Te(a),y=!p&&ss(a),C=!p&&!y&&no(a),E=!p&&!y&&!C&&pl(a),T=p||y||C||E,O=T?Oh(a.length,zM):[],N=O.length;for(var j in a)(c||qe.call(a,j))&&!(T&&(j=="length"||C&&(j=="offset"||j=="parent")||E&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||Ti(j,N)))&&O.push(j);return O}function oC(a){var c=a.length;return c?a[Kh(0,c-1)]:n}function MN(a,c){return hf(bn(a),ts(c,0,a.length))}function NN(a){return hf(bn(a))}function Ih(a,c,p){(p!==n&&!_r(a[c],p)||p===n&&!(c in a))&&bi(a,c,p)}function Ua(a,c,p){var y=a[c];(!(qe.call(a,c)&&_r(y,p))||p===n&&!(c in a))&&bi(a,c,p)}function ef(a,c){for(var p=a.length;p--;)if(_r(a[p][0],c))return p;return-1}function _N(a,c,p,y){return Qi(a,function(C,E,T){c(y,C,p(C),T)}),y}function sC(a,c){return a&&Qr(c,Ot(c),a)}function FN(a,c){return a&&Qr(c,An(c),a)}function bi(a,c,p){c=="__proto__"&&Jc?Jc(a,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[c]=p}function Lh(a,c){for(var p=-1,y=c.length,C=z(y),E=a==null;++p<y;)C[p]=E?n:ym(a,c[p]);return C}function ts(a,c,p){return a===a&&(p!==n&&(a=a<=p?a:p),c!==n&&(a=a>=c?a:c)),a}function ur(a,c,p,y,C,E){var T,O=c&h,N=c&m,j=c&g;if(p&&(T=C?p(a,y,C,E):p(a)),T!==n)return T;if(!lt(a))return a;var q=Te(a);if(q){if(T=S2(a),!O)return bn(a,T)}else{var Y=en(a),se=Y==It||Y==mt;if(no(a))return MC(a,O);if(Y==wt||Y==ve||se&&!C){if(T=N||se?{}:GC(a),!O)return N?c2(a,FN(T,a)):u2(a,sC(T,a))}else{if(!Ze[Y])return C?a:{};T=D2(a,Y,O)}}E||(E=new Nr);var me=E.get(a);if(me)return me;E.set(a,T),Ex(a)?a.forEach(function(Ee){T.add(ur(Ee,c,p,Ee,a,E))}):Dx(a)&&a.forEach(function(Ee,Re){T.set(Re,ur(Ee,c,p,Re,a,E))});var we=j?N?rm:nm:N?An:Ot,_e=q?n:we(a);return sr(_e||a,function(Ee,Re){_e&&(Re=Ee,Ee=a[Re]),Ua(T,Re,ur(Ee,c,p,Re,a,E))}),T}function RN(a){var c=Ot(a);return function(p){return lC(p,a,c)}}function lC(a,c,p){var y=p.length;if(a==null)return!y;for(a=Qe(a);y--;){var C=p[y],E=c[C],T=a[C];if(T===n&&!(C in a)||!E(T))return!1}return!0}function aC(a,c,p){if(typeof a!="function")throw new lr(s);return Xa(function(){a.apply(n,p)},c)}function ja(a,c,p,y){var C=-1,E=Lc,T=!0,O=a.length,N=[],j=c.length;if(!O)return N;p&&(c=ot(c,$n(p))),y?(E=wh,T=!1):c.length>=i&&(E=Ba,T=!1,c=new es(c));e:for(;++C<O;){var q=a[C],Y=p==null?q:p(q);if(q=y||q!==0?q:0,T&&Y===Y){for(var se=j;se--;)if(c[se]===Y)continue e;N.push(q)}else E(c,Y,y)||N.push(q)}return N}var Qi=PC(Xr),uC=PC(zh,!0);function PN(a,c){var p=!0;return Qi(a,function(y,C,E){return p=!!c(y,C,E),p}),p}function tf(a,c,p){for(var y=-1,C=a.length;++y<C;){var E=a[y],T=c(E);if(T!=null&&(O===n?T===T&&!Vn(T):p(T,O)))var O=T,N=E}return N}function IN(a,c,p,y){var C=a.length;for(p=Me(p),p<0&&(p=-p>C?0:C+p),y=y===n||y>C?C:Me(y),y<0&&(y+=C),y=p>y?0:kx(y);p<y;)a[p++]=c;return a}function cC(a,c){var p=[];return Qi(a,function(y,C,E){c(y,C,E)&&p.push(y)}),p}function Ht(a,c,p,y,C){var E=-1,T=a.length;for(p||(p=E2),C||(C=[]);++E<T;){var O=a[E];c>0&&p(O)?c>1?Ht(O,c-1,p,y,C):Gi(C,O):y||(C[C.length]=O)}return C}var Bh=IC(),fC=IC(!0);function Xr(a,c){return a&&Bh(a,c,Ot)}function zh(a,c){return a&&fC(a,c,Ot)}function nf(a,c){return Ji(c,function(p){return Oi(a[p])})}function ns(a,c){c=eo(c,a);for(var p=0,y=c.length;a!=null&&p<y;)a=a[Zr(c[p++])];return p&&p==y?a:n}function dC(a,c,p){var y=c(a);return Te(a)?y:Gi(y,p(a))}function dn(a){return a==null?a===n?Yo:gt:Qo&&Qo in Qe(a)?v2(a):N2(a)}function $h(a,c){return a>c}function LN(a,c){return a!=null&&qe.call(a,c)}function BN(a,c){return a!=null&&c in Qe(a)}function zN(a,c,p){return a>=Zt(c,p)&&a<bt(c,p)}function Hh(a,c,p){for(var y=p?wh:Lc,C=a[0].length,E=a.length,T=E,O=z(E),N=1/0,j=[];T--;){var q=a[T];T&&c&&(q=ot(q,$n(c))),N=Zt(q.length,N),O[T]=!p&&(c||C>=120&&q.length>=120)?new es(T&&q):n}q=a[0];var Y=-1,se=O[0];e:for(;++Y<C&&j.length<N;){var me=q[Y],we=c?c(me):me;if(me=p||me!==0?me:0,!(se?Ba(se,we):y(j,we,p))){for(T=E;--T;){var _e=O[T];if(!(_e?Ba(_e,we):y(a[T],we,p)))continue e}se&&se.push(we),j.push(me)}}return j}function $N(a,c,p,y){return Xr(a,function(C,E,T){c(y,p(C),E,T)}),y}function Ka(a,c,p){c=eo(c,a),a=ZC(a,c);var y=a==null?a:a[Zr(fr(c))];return y==null?n:zn(y,a,p)}function pC(a){return ft(a)&&dn(a)==ve}function HN(a){return ft(a)&&dn(a)==Yr}function VN(a){return ft(a)&&dn(a)==Ie}function qa(a,c,p,y,C){return a===c?!0:a==null||c==null||!ft(a)&&!ft(c)?a!==a&&c!==c:WN(a,c,p,y,qa,C)}function WN(a,c,p,y,C,E){var T=Te(a),O=Te(c),N=T?Ce:en(a),j=O?Ce:en(c);N=N==ve?wt:N,j=j==ve?wt:j;var q=N==wt,Y=j==wt,se=N==j;if(se&&no(a)){if(!no(c))return!1;T=!0,q=!1}if(se&&!q)return E||(E=new Nr),T||pl(a)?KC(a,c,p,y,C,E):g2(a,c,N,p,y,C,E);if(!(p&v)){var me=q&&qe.call(a,"__wrapped__"),we=Y&&qe.call(c,"__wrapped__");if(me||we){var _e=me?a.value():a,Ee=we?c.value():c;return E||(E=new Nr),C(_e,Ee,p,y,E)}}return se?(E||(E=new Nr),y2(a,c,p,y,C,E)):!1}function UN(a){return ft(a)&&en(a)==Ae}function Vh(a,c,p,y){var C=p.length,E=C,T=!y;if(a==null)return!E;for(a=Qe(a);C--;){var O=p[C];if(T&&O[2]?O[1]!==a[O[0]]:!(O[0]in a))return!1}for(;++C<E;){O=p[C];var N=O[0],j=a[N],q=O[1];if(T&&O[2]){if(j===n&&!(N in a))return!1}else{var Y=new Nr;if(y)var se=y(j,q,N,a,c,Y);if(!(se===n?qa(q,j,v|x,y,Y):se))return!1}}return!0}function hC(a){if(!lt(a)||k2(a))return!1;var c=Oi(a)?UM:RO;return c.test(is(a))}function jN(a){return ft(a)&&dn(a)==Bt}function KN(a){return ft(a)&&en(a)==it}function qN(a){return ft(a)&&xf(a.length)&&!!tt[dn(a)]}function mC(a){return typeof a=="function"?a:a==null?Tn:typeof a=="object"?Te(a)?vC(a[0],a[1]):yC(a):Lx(a)}function Wh(a){if(!Ya(a))return YM(a);var c=[];for(var p in Qe(a))qe.call(a,p)&&p!="constructor"&&c.push(p);return c}function JN(a){if(!lt(a))return M2(a);var c=Ya(a),p=[];for(var y in a)y=="constructor"&&(c||!qe.call(a,y))||p.push(y);return p}function Uh(a,c){return a<c}function gC(a,c){var p=-1,y=kn(a)?z(a.length):[];return Qi(a,function(C,E,T){y[++p]=c(C,E,T)}),y}function yC(a){var c=om(a);return c.length==1&&c[0][2]?XC(c[0][0],c[0][1]):function(p){return p===a||Vh(p,a,c)}}function vC(a,c){return lm(a)&&YC(c)?XC(Zr(a),c):function(p){var y=ym(p,a);return y===n&&y===c?vm(p,a):qa(c,y,v|x)}}function rf(a,c,p,y,C){a!==c&&Bh(c,function(E,T){if(C||(C=new Nr),lt(E))GN(a,c,T,p,rf,y,C);else{var O=y?y(um(a,T),E,T+"",a,c,C):n;O===n&&(O=E),Ih(a,T,O)}},An)}function GN(a,c,p,y,C,E,T){var O=um(a,p),N=um(c,p),j=T.get(N);if(j){Ih(a,p,j);return}var q=E?E(O,N,p+"",a,c,T):n,Y=q===n;if(Y){var se=Te(N),me=!se&&no(N),we=!se&&!me&&pl(N);q=N,se||me||we?Te(O)?q=O:yt(O)?q=bn(O):me?(Y=!1,q=MC(N,!0)):we?(Y=!1,q=NC(N,!0)):q=[]:Qa(N)||ss(N)?(q=O,ss(O)?q=Ax(O):(!lt(O)||Oi(O))&&(q=GC(N))):Y=!1}Y&&(T.set(N,q),C(q,N,y,E,T),T.delete(N)),Ih(a,p,q)}function CC(a,c){var p=a.length;if(!!p)return c+=c<0?p:0,Ti(c,p)?a[c]:n}function xC(a,c,p){c.length?c=ot(c,function(E){return Te(E)?function(T){return ns(T,E.length===1?E[0]:E)}:E}):c=[Tn];var y=-1;c=ot(c,$n(xe()));var C=gC(a,function(E,T,O){var N=ot(c,function(j){return j(E)});return{criteria:N,index:++y,value:E}});return DM(C,function(E,T){return a2(E,T,p)})}function YN(a,c){return SC(a,c,function(p,y){return vm(a,y)})}function SC(a,c,p){for(var y=-1,C=c.length,E={};++y<C;){var T=c[y],O=ns(a,T);p(O,T)&&Ja(E,eo(T,a),O)}return E}function XN(a){return function(c){return ns(c,a)}}function jh(a,c,p,y){var C=y?SM:nl,E=-1,T=c.length,O=a;for(a===c&&(c=bn(c)),p&&(O=ot(a,$n(p)));++E<T;)for(var N=0,j=c[E],q=p?p(j):j;(N=C(O,q,N,y))>-1;)O!==a&&qc.call(O,N,1),qc.call(a,N,1);return a}function DC(a,c){for(var p=a?c.length:0,y=p-1;p--;){var C=c[p];if(p==y||C!==E){var E=C;Ti(C)?qc.call(a,C,1):Gh(a,C)}}return a}function Kh(a,c){return a+Yc(nC()*(c-a+1))}function QN(a,c,p,y){for(var C=-1,E=bt(Gc((c-a)/(p||1)),0),T=z(E);E--;)T[y?E:++C]=a,a+=p;return T}function qh(a,c){var p="";if(!a||c<1||c>_)return p;do c%2&&(p+=a),c=Yc(c/2),c&&(a+=a);while(c);return p}function Fe(a,c){return cm(QC(a,c,Tn),a+"")}function ZN(a){return oC(hl(a))}function e2(a,c){var p=hl(a);return hf(p,ts(c,0,p.length))}function Ja(a,c,p,y){if(!lt(a))return a;c=eo(c,a);for(var C=-1,E=c.length,T=E-1,O=a;O!=null&&++C<E;){var N=Zr(c[C]),j=p;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(C!=T){var q=O[N];j=y?y(q,N,O):n,j===n&&(j=lt(q)?q:Ti(c[C+1])?[]:{})}Ua(O,N,j),O=O[N]}return a}var wC=Xc?function(a,c){return Xc.set(a,c),a}:Tn,t2=Jc?function(a,c){return Jc(a,"toString",{configurable:!0,enumerable:!1,value:xm(c),writable:!0})}:Tn;function n2(a){return hf(hl(a))}function cr(a,c,p){var y=-1,C=a.length;c<0&&(c=-c>C?0:C+c),p=p>C?C:p,p<0&&(p+=C),C=c>p?0:p-c>>>0,c>>>=0;for(var E=z(C);++y<C;)E[y]=a[y+c];return E}function r2(a,c){var p;return Qi(a,function(y,C,E){return p=c(y,C,E),!p}),!!p}function of(a,c,p){var y=0,C=a==null?y:a.length;if(typeof c=="number"&&c===c&&C<=ce){for(;y<C;){var E=y+C>>>1,T=a[E];T!==null&&!Vn(T)&&(p?T<=c:T<c)?y=E+1:C=E}return C}return Jh(a,c,Tn,p)}function Jh(a,c,p,y){var C=0,E=a==null?0:a.length;if(E===0)return 0;c=p(c);for(var T=c!==c,O=c===null,N=Vn(c),j=c===n;C<E;){var q=Yc((C+E)/2),Y=p(a[q]),se=Y!==n,me=Y===null,we=Y===Y,_e=Vn(Y);if(T)var Ee=y||we;else j?Ee=we&&(y||se):O?Ee=we&&se&&(y||!me):N?Ee=we&&se&&!me&&(y||!_e):me||_e?Ee=!1:Ee=y?Y<=c:Y<c;Ee?C=q+1:E=q}return Zt(E,G)}function EC(a,c){for(var p=-1,y=a.length,C=0,E=[];++p<y;){var T=a[p],O=c?c(T):T;if(!p||!_r(O,N)){var N=O;E[C++]=T===0?0:T}}return E}function bC(a){return typeof a=="number"?a:Vn(a)?B:+a}function Hn(a){if(typeof a=="string")return a;if(Te(a))return ot(a,Hn)+"";if(Vn(a))return rC?rC.call(a):"";var c=a+"";return c=="0"&&1/a==-K?"-0":c}function Zi(a,c,p){var y=-1,C=Lc,E=a.length,T=!0,O=[],N=O;if(p)T=!1,C=wh;else if(E>=i){var j=c?null:h2(a);if(j)return zc(j);T=!1,C=Ba,N=new es}else N=c?[]:O;e:for(;++y<E;){var q=a[y],Y=c?c(q):q;if(q=p||q!==0?q:0,T&&Y===Y){for(var se=N.length;se--;)if(N[se]===Y)continue e;c&&N.push(Y),O.push(q)}else C(N,Y,p)||(N!==O&&N.push(Y),O.push(q))}return O}function Gh(a,c){return c=eo(c,a),a=ZC(a,c),a==null||delete a[Zr(fr(c))]}function kC(a,c,p,y){return Ja(a,c,p(ns(a,c)),y)}function sf(a,c,p,y){for(var C=a.length,E=y?C:-1;(y?E--:++E<C)&&c(a[E],E,a););return p?cr(a,y?0:E,y?E+1:C):cr(a,y?E+1:0,y?C:E)}function AC(a,c){var p=a;return p instanceof Le&&(p=p.value()),Eh(c,function(y,C){return C.func.apply(C.thisArg,Gi([y],C.args))},p)}function Yh(a,c,p){var y=a.length;if(y<2)return y?Zi(a[0]):[];for(var C=-1,E=z(y);++C<y;)for(var T=a[C],O=-1;++O<y;)O!=C&&(E[C]=ja(E[C]||T,a[O],c,p));return Zi(Ht(E,1),c,p)}function TC(a,c,p){for(var y=-1,C=a.length,E=c.length,T={};++y<C;){var O=y<E?c[y]:n;p(T,a[y],O)}return T}function Xh(a){return yt(a)?a:[]}function Qh(a){return typeof a=="function"?a:Tn}function eo(a,c){return Te(a)?a:lm(a,c)?[a]:rx(Ke(a))}var i2=Fe;function to(a,c,p){var y=a.length;return p=p===n?y:p,!c&&p>=y?a:cr(a,c,p)}var OC=jM||function(a){return $t.clearTimeout(a)};function MC(a,c){if(c)return a.slice();var p=a.length,y=Xv?Xv(p):new a.constructor(p);return a.copy(y),y}function Zh(a){var c=new a.constructor(a.byteLength);return new jc(c).set(new jc(a)),c}function o2(a,c){var p=c?Zh(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function s2(a){var c=new a.constructor(a.source,pv.exec(a));return c.lastIndex=a.lastIndex,c}function l2(a){return Wa?Qe(Wa.call(a)):{}}function NC(a,c){var p=c?Zh(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function _C(a,c){if(a!==c){var p=a!==n,y=a===null,C=a===a,E=Vn(a),T=c!==n,O=c===null,N=c===c,j=Vn(c);if(!O&&!j&&!E&&a>c||E&&T&&N&&!O&&!j||y&&T&&N||!p&&N||!C)return 1;if(!y&&!E&&!j&&a<c||j&&p&&C&&!y&&!E||O&&p&&C||!T&&C||!N)return-1}return 0}function a2(a,c,p){for(var y=-1,C=a.criteria,E=c.criteria,T=C.length,O=p.length;++y<T;){var N=_C(C[y],E[y]);if(N){if(y>=O)return N;var j=p[y];return N*(j=="desc"?-1:1)}}return a.index-c.index}function FC(a,c,p,y){for(var C=-1,E=a.length,T=p.length,O=-1,N=c.length,j=bt(E-T,0),q=z(N+j),Y=!y;++O<N;)q[O]=c[O];for(;++C<T;)(Y||C<E)&&(q[p[C]]=a[C]);for(;j--;)q[O++]=a[C++];return q}function RC(a,c,p,y){for(var C=-1,E=a.length,T=-1,O=p.length,N=-1,j=c.length,q=bt(E-O,0),Y=z(q+j),se=!y;++C<q;)Y[C]=a[C];for(var me=C;++N<j;)Y[me+N]=c[N];for(;++T<O;)(se||C<E)&&(Y[me+p[T]]=a[C++]);return Y}function bn(a,c){var p=-1,y=a.length;for(c||(c=z(y));++p<y;)c[p]=a[p];return c}function Qr(a,c,p,y){var C=!p;p||(p={});for(var E=-1,T=c.length;++E<T;){var O=c[E],N=y?y(p[O],a[O],O,p,a):n;N===n&&(N=a[O]),C?bi(p,O,N):Ua(p,O,N)}return p}function u2(a,c){return Qr(a,sm(a),c)}function c2(a,c){return Qr(a,qC(a),c)}function lf(a,c){return function(p,y){var C=Te(p)?mM:_N,E=c?c():{};return C(p,a,xe(y,2),E)}}function cl(a){return Fe(function(c,p){var y=-1,C=p.length,E=C>1?p[C-1]:n,T=C>2?p[2]:n;for(E=a.length>3&&typeof E=="function"?(C--,E):n,T&&pn(p[0],p[1],T)&&(E=C<3?n:E,C=1),c=Qe(c);++y<C;){var O=p[y];O&&a(c,O,y,E)}return c})}function PC(a,c){return function(p,y){if(p==null)return p;if(!kn(p))return a(p,y);for(var C=p.length,E=c?C:-1,T=Qe(p);(c?E--:++E<C)&&y(T[E],E,T)!==!1;);return p}}function IC(a){return function(c,p,y){for(var C=-1,E=Qe(c),T=y(c),O=T.length;O--;){var N=T[a?O:++C];if(p(E[N],N,E)===!1)break}return c}}function f2(a,c,p){var y=c&k,C=Ga(a);function E(){var T=this&&this!==$t&&this instanceof E?C:a;return T.apply(y?p:this,arguments)}return E}function LC(a){return function(c){c=Ke(c);var p=rl(c)?Mr(c):n,y=p?p[0]:c.charAt(0),C=p?to(p,1).join(""):c.slice(1);return y[a]()+C}}function fl(a){return function(c){return Eh(Px(Rx(c).replace(tM,"")),a,"")}}function Ga(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=ul(a.prototype),y=a.apply(p,c);return lt(y)?y:p}}function d2(a,c,p){var y=Ga(a);function C(){for(var E=arguments.length,T=z(E),O=E,N=dl(C);O--;)T[O]=arguments[O];var j=E<3&&T[0]!==N&&T[E-1]!==N?[]:Yi(T,N);if(E-=j.length,E<p)return VC(a,c,af,C.placeholder,n,T,j,n,n,p-E);var q=this&&this!==$t&&this instanceof C?y:a;return zn(q,this,T)}return C}function BC(a){return function(c,p,y){var C=Qe(c);if(!kn(c)){var E=xe(p,3);c=Ot(c),p=function(O){return E(C[O],O,C)}}var T=a(c,p,y);return T>-1?C[E?c[T]:T]:n}}function zC(a){return Ai(function(c){var p=c.length,y=p,C=ar.prototype.thru;for(a&&c.reverse();y--;){var E=c[y];if(typeof E!="function")throw new lr(s);if(C&&!T&&df(E)=="wrapper")var T=new ar([],!0)}for(y=T?y:p;++y<p;){E=c[y];var O=df(E),N=O=="wrapper"?im(E):n;N&&am(N[0])&&N[1]==($|A|R|F)&&!N[4].length&&N[9]==1?T=T[df(N[0])].apply(T,N[3]):T=E.length==1&&am(E)?T[O]():T.thru(E)}return function(){var j=arguments,q=j[0];if(T&&j.length==1&&Te(q))return T.plant(q).value();for(var Y=0,se=p?c[Y].apply(this,j):q;++Y<p;)se=c[Y].call(this,se);return se}})}function af(a,c,p,y,C,E,T,O,N,j){var q=c&$,Y=c&k,se=c&S,me=c&(A|w),we=c&Z,_e=se?n:Ga(a);function Ee(){for(var Re=arguments.length,$e=z(Re),Wn=Re;Wn--;)$e[Wn]=arguments[Wn];if(me)var hn=dl(Ee),Un=EM($e,hn);if(y&&($e=FC($e,y,C,me)),E&&($e=RC($e,E,T,me)),Re-=Un,me&&Re<j){var vt=Yi($e,hn);return VC(a,c,af,Ee.placeholder,p,$e,vt,O,N,j-Re)}var Fr=Y?p:this,Ni=se?Fr[a]:a;return Re=$e.length,O?$e=_2($e,O):we&&Re>1&&$e.reverse(),q&&N<Re&&($e.length=N),this&&this!==$t&&this instanceof Ee&&(Ni=_e||Ga(Ni)),Ni.apply(Fr,$e)}return Ee}function $C(a,c){return function(p,y){return $N(p,a,c(y),{})}}function uf(a,c){return function(p,y){var C;if(p===n&&y===n)return c;if(p!==n&&(C=p),y!==n){if(C===n)return y;typeof p=="string"||typeof y=="string"?(p=Hn(p),y=Hn(y)):(p=bC(p),y=bC(y)),C=a(p,y)}return C}}function em(a){return Ai(function(c){return c=ot(c,$n(xe())),Fe(function(p){var y=this;return a(c,function(C){return zn(C,y,p)})})})}function cf(a,c){c=c===n?" ":Hn(c);var p=c.length;if(p<2)return p?qh(c,a):c;var y=qh(c,Gc(a/il(c)));return rl(c)?to(Mr(y),0,a).join(""):y.slice(0,a)}function p2(a,c,p,y){var C=c&k,E=Ga(a);function T(){for(var O=-1,N=arguments.length,j=-1,q=y.length,Y=z(q+N),se=this&&this!==$t&&this instanceof T?E:a;++j<q;)Y[j]=y[j];for(;N--;)Y[j++]=arguments[++O];return zn(se,C?p:this,Y)}return T}function HC(a){return function(c,p,y){return y&&typeof y!="number"&&pn(c,p,y)&&(p=y=n),c=Mi(c),p===n?(p=c,c=0):p=Mi(p),y=y===n?c<p?1:-1:Mi(y),QN(c,p,y,a)}}function ff(a){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=dr(c),p=dr(p)),a(c,p)}}function VC(a,c,p,y,C,E,T,O,N,j){var q=c&A,Y=q?T:n,se=q?n:T,me=q?E:n,we=q?n:E;c|=q?R:P,c&=~(q?P:R),c&b||(c&=~(k|S));var _e=[a,c,C,me,Y,we,se,O,N,j],Ee=p.apply(n,_e);return am(a)&&ex(Ee,_e),Ee.placeholder=y,tx(Ee,a,c)}function tm(a){var c=Et[a];return function(p,y){if(p=dr(p),y=y==null?0:Zt(Me(y),292),y&&tC(p)){var C=(Ke(p)+"e").split("e"),E=c(C[0]+"e"+(+C[1]+y));return C=(Ke(E)+"e").split("e"),+(C[0]+"e"+(+C[1]-y))}return c(p)}}var h2=ll&&1/zc(new ll([,-0]))[1]==K?function(a){return new ll(a)}:wm;function WC(a){return function(c){var p=en(c);return p==Ae?Nh(c):p==it?NM(c):wM(c,a(c))}}function ki(a,c,p,y,C,E,T,O){var N=c&S;if(!N&&typeof a!="function")throw new lr(s);var j=y?y.length:0;if(j||(c&=~(R|P),y=C=n),T=T===n?T:bt(Me(T),0),O=O===n?O:Me(O),j-=C?C.length:0,c&P){var q=y,Y=C;y=C=n}var se=N?n:im(a),me=[a,c,p,y,C,q,Y,E,T,O];if(se&&O2(me,se),a=me[0],c=me[1],p=me[2],y=me[3],C=me[4],O=me[9]=me[9]===n?N?0:a.length:bt(me[9]-j,0),!O&&c&(A|w)&&(c&=~(A|w)),!c||c==k)var we=f2(a,c,p);else c==A||c==w?we=d2(a,c,O):(c==R||c==(k|R))&&!C.length?we=p2(a,c,p,y):we=af.apply(n,me);var _e=se?wC:ex;return tx(_e(we,me),a,c)}function UC(a,c,p,y){return a===n||_r(a,sl[p])&&!qe.call(y,p)?c:a}function jC(a,c,p,y,C,E){return lt(a)&&lt(c)&&(E.set(c,a),rf(a,c,n,jC,E),E.delete(c)),a}function m2(a){return Qa(a)?n:a}function KC(a,c,p,y,C,E){var T=p&v,O=a.length,N=c.length;if(O!=N&&!(T&&N>O))return!1;var j=E.get(a),q=E.get(c);if(j&&q)return j==c&&q==a;var Y=-1,se=!0,me=p&x?new es:n;for(E.set(a,c),E.set(c,a);++Y<O;){var we=a[Y],_e=c[Y];if(y)var Ee=T?y(_e,we,Y,c,a,E):y(we,_e,Y,a,c,E);if(Ee!==n){if(Ee)continue;se=!1;break}if(me){if(!bh(c,function(Re,$e){if(!Ba(me,$e)&&(we===Re||C(we,Re,p,y,E)))return me.push($e)})){se=!1;break}}else if(!(we===_e||C(we,_e,p,y,E))){se=!1;break}}return E.delete(a),E.delete(c),se}function g2(a,c,p,y,C,E,T){switch(p){case Or:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Yr:return!(a.byteLength!=c.byteLength||!E(new jc(a),new jc(c)));case Oe:case Ie:case Tt:return _r(+a,+c);case Qt:return a.name==c.name&&a.message==c.message;case Bt:case Tr:return a==c+"";case Ae:var O=Nh;case it:var N=y&v;if(O||(O=zc),a.size!=c.size&&!N)return!1;var j=T.get(a);if(j)return j==c;y|=x,T.set(a,c);var q=KC(O(a),O(c),y,C,E,T);return T.delete(a),q;case ir:if(Wa)return Wa.call(a)==Wa.call(c)}return!1}function y2(a,c,p,y,C,E){var T=p&v,O=nm(a),N=O.length,j=nm(c),q=j.length;if(N!=q&&!T)return!1;for(var Y=N;Y--;){var se=O[Y];if(!(T?se in c:qe.call(c,se)))return!1}var me=E.get(a),we=E.get(c);if(me&&we)return me==c&&we==a;var _e=!0;E.set(a,c),E.set(c,a);for(var Ee=T;++Y<N;){se=O[Y];var Re=a[se],$e=c[se];if(y)var Wn=T?y($e,Re,se,c,a,E):y(Re,$e,se,a,c,E);if(!(Wn===n?Re===$e||C(Re,$e,p,y,E):Wn)){_e=!1;break}Ee||(Ee=se=="constructor")}if(_e&&!Ee){var hn=a.constructor,Un=c.constructor;hn!=Un&&"constructor"in a&&"constructor"in c&&!(typeof hn=="function"&&hn instanceof hn&&typeof Un=="function"&&Un instanceof Un)&&(_e=!1)}return E.delete(a),E.delete(c),_e}function Ai(a){return cm(QC(a,n,lx),a+"")}function nm(a){return dC(a,Ot,sm)}function rm(a){return dC(a,An,qC)}var im=Xc?function(a){return Xc.get(a)}:wm;function df(a){for(var c=a.name+"",p=al[c],y=qe.call(al,c)?p.length:0;y--;){var C=p[y],E=C.func;if(E==null||E==a)return C.name}return c}function dl(a){var c=qe.call(D,"placeholder")?D:a;return c.placeholder}function xe(){var a=D.iteratee||Sm;return a=a===Sm?mC:a,arguments.length?a(arguments[0],arguments[1]):a}function pf(a,c){var p=a.__data__;return b2(c)?p[typeof c=="string"?"string":"hash"]:p.map}function om(a){for(var c=Ot(a),p=c.length;p--;){var y=c[p],C=a[y];c[p]=[y,C,YC(C)]}return c}function rs(a,c){var p=TM(a,c);return hC(p)?p:n}function v2(a){var c=qe.call(a,Qo),p=a[Qo];try{a[Qo]=n;var y=!0}catch{}var C=Wc.call(a);return y&&(c?a[Qo]=p:delete a[Qo]),C}var sm=Fh?function(a){return a==null?[]:(a=Qe(a),Ji(Fh(a),function(c){return Zv.call(a,c)}))}:Em,qC=Fh?function(a){for(var c=[];a;)Gi(c,sm(a)),a=Kc(a);return c}:Em,en=dn;(Rh&&en(new Rh(new ArrayBuffer(1)))!=Or||$a&&en(new $a)!=Ae||Ph&&en(Ph.resolve())!=Lt||ll&&en(new ll)!=it||Ha&&en(new Ha)!=Gr)&&(en=function(a){var c=dn(a),p=c==wt?a.constructor:n,y=p?is(p):"";if(y)switch(y){case eN:return Or;case tN:return Ae;case nN:return Lt;case rN:return it;case iN:return Gr}return c});function C2(a,c,p){for(var y=-1,C=p.length;++y<C;){var E=p[y],T=E.size;switch(E.type){case"drop":a+=T;break;case"dropRight":c-=T;break;case"take":c=Zt(c,a+T);break;case"takeRight":a=bt(a,c-T);break}}return{start:a,end:c}}function x2(a){var c=a.match(kO);return c?c[1].split(AO):[]}function JC(a,c,p){c=eo(c,a);for(var y=-1,C=c.length,E=!1;++y<C;){var T=Zr(c[y]);if(!(E=a!=null&&p(a,T)))break;a=a[T]}return E||++y!=C?E:(C=a==null?0:a.length,!!C&&xf(C)&&Ti(T,C)&&(Te(a)||ss(a)))}function S2(a){var c=a.length,p=new a.constructor(c);return c&&typeof a[0]=="string"&&qe.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function GC(a){return typeof a.constructor=="function"&&!Ya(a)?ul(Kc(a)):{}}function D2(a,c,p){var y=a.constructor;switch(c){case Yr:return Zh(a);case Oe:case Ie:return new y(+a);case Or:return o2(a,p);case Ma:case Na:case _a:case Fa:case Ra:case V:case fe:case De:case We:return NC(a,p);case Ae:return new y;case Tt:case Tr:return new y(a);case Bt:return s2(a);case it:return new y;case ir:return l2(a)}}function w2(a,c){var p=c.length;if(!p)return a;var y=p-1;return c[y]=(p>1?"& ":"")+c[y],c=c.join(p>2?", ":" "),a.replace(bO,`{
/* [wrapped with `+c+`] */
`)}function E2(a){return Te(a)||ss(a)||!!(eC&&a&&a[eC])}function Ti(a,c){var p=typeof a;return c=c==null?_:c,!!c&&(p=="number"||p!="symbol"&&IO.test(a))&&a>-1&&a%1==0&&a<c}function pn(a,c,p){if(!lt(p))return!1;var y=typeof c;return(y=="number"?kn(p)&&Ti(c,p.length):y=="string"&&c in p)?_r(p[c],a):!1}function lm(a,c){if(Te(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||Vn(a)?!0:el.test(a)||!La.test(a)||c!=null&&a in Qe(c)}function b2(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function am(a){var c=df(a),p=D[c];if(typeof p!="function"||!(c in Le.prototype))return!1;if(a===p)return!0;var y=im(p);return!!y&&a===y[0]}function k2(a){return!!Yv&&Yv in a}var A2=Hc?Oi:bm;function Ya(a){var c=a&&a.constructor,p=typeof c=="function"&&c.prototype||sl;return a===p}function YC(a){return a===a&&!lt(a)}function XC(a,c){return function(p){return p==null?!1:p[a]===c&&(c!==n||a in Qe(p))}}function T2(a){var c=vf(a,function(y){return p.size===f&&p.clear(),y}),p=c.cache;return c}function O2(a,c){var p=a[1],y=c[1],C=p|y,E=C<(k|S|$),T=y==$&&p==A||y==$&&p==F&&a[7].length<=c[8]||y==($|F)&&c[7].length<=c[8]&&p==A;if(!(E||T))return a;y&k&&(a[2]=c[2],C|=p&k?0:b);var O=c[3];if(O){var N=a[3];a[3]=N?FC(N,O,c[4]):O,a[4]=N?Yi(a[3],d):c[4]}return O=c[5],O&&(N=a[5],a[5]=N?RC(N,O,c[6]):O,a[6]=N?Yi(a[5],d):c[6]),O=c[7],O&&(a[7]=O),y&$&&(a[8]=a[8]==null?c[8]:Zt(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=C,a}function M2(a){var c=[];if(a!=null)for(var p in Qe(a))c.push(p);return c}function N2(a){return Wc.call(a)}function QC(a,c,p){return c=bt(c===n?a.length-1:c,0),function(){for(var y=arguments,C=-1,E=bt(y.length-c,0),T=z(E);++C<E;)T[C]=y[c+C];C=-1;for(var O=z(c+1);++C<c;)O[C]=y[C];return O[c]=p(T),zn(a,this,O)}}function ZC(a,c){return c.length<2?a:ns(a,cr(c,0,-1))}function _2(a,c){for(var p=a.length,y=Zt(c.length,p),C=bn(a);y--;){var E=c[y];a[y]=Ti(E,p)?C[E]:n}return a}function um(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var ex=nx(wC),Xa=qM||function(a,c){return $t.setTimeout(a,c)},cm=nx(t2);function tx(a,c,p){var y=c+"";return cm(a,w2(y,F2(x2(y),p)))}function nx(a){var c=0,p=0;return function(){var y=XM(),C=ye-(y-p);if(p=y,C>0){if(++c>=ne)return arguments[0]}else c=0;return a.apply(n,arguments)}}function hf(a,c){var p=-1,y=a.length,C=y-1;for(c=c===n?y:c;++p<c;){var E=Kh(p,C),T=a[E];a[E]=a[p],a[p]=T}return a.length=c,a}var rx=T2(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(DO,function(p,y,C,E){c.push(C?E.replace(MO,"$1"):y||p)}),c});function Zr(a){if(typeof a=="string"||Vn(a))return a;var c=a+"";return c=="0"&&1/a==-K?"-0":c}function is(a){if(a!=null){try{return Vc.call(a)}catch{}try{return a+""}catch{}}return""}function F2(a,c){return sr(pe,function(p){var y="_."+p[0];c&p[1]&&!Lc(a,y)&&a.push(y)}),a.sort()}function ix(a){if(a instanceof Le)return a.clone();var c=new ar(a.__wrapped__,a.__chain__);return c.__actions__=bn(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function R2(a,c,p){(p?pn(a,c,p):c===n)?c=1:c=bt(Me(c),0);var y=a==null?0:a.length;if(!y||c<1)return[];for(var C=0,E=0,T=z(Gc(y/c));C<y;)T[E++]=cr(a,C,C+=c);return T}function P2(a){for(var c=-1,p=a==null?0:a.length,y=0,C=[];++c<p;){var E=a[c];E&&(C[y++]=E)}return C}function I2(){var a=arguments.length;if(!a)return[];for(var c=z(a-1),p=arguments[0],y=a;y--;)c[y-1]=arguments[y];return Gi(Te(p)?bn(p):[p],Ht(c,1))}var L2=Fe(function(a,c){return yt(a)?ja(a,Ht(c,1,yt,!0)):[]}),B2=Fe(function(a,c){var p=fr(c);return yt(p)&&(p=n),yt(a)?ja(a,Ht(c,1,yt,!0),xe(p,2)):[]}),z2=Fe(function(a,c){var p=fr(c);return yt(p)&&(p=n),yt(a)?ja(a,Ht(c,1,yt,!0),n,p):[]});function $2(a,c,p){var y=a==null?0:a.length;return y?(c=p||c===n?1:Me(c),cr(a,c<0?0:c,y)):[]}function H2(a,c,p){var y=a==null?0:a.length;return y?(c=p||c===n?1:Me(c),c=y-c,cr(a,0,c<0?0:c)):[]}function V2(a,c){return a&&a.length?sf(a,xe(c,3),!0,!0):[]}function W2(a,c){return a&&a.length?sf(a,xe(c,3),!0):[]}function U2(a,c,p,y){var C=a==null?0:a.length;return C?(p&&typeof p!="number"&&pn(a,c,p)&&(p=0,y=C),IN(a,c,p,y)):[]}function ox(a,c,p){var y=a==null?0:a.length;if(!y)return-1;var C=p==null?0:Me(p);return C<0&&(C=bt(y+C,0)),Bc(a,xe(c,3),C)}function sx(a,c,p){var y=a==null?0:a.length;if(!y)return-1;var C=y-1;return p!==n&&(C=Me(p),C=p<0?bt(y+C,0):Zt(C,y-1)),Bc(a,xe(c,3),C,!0)}function lx(a){var c=a==null?0:a.length;return c?Ht(a,1):[]}function j2(a){var c=a==null?0:a.length;return c?Ht(a,K):[]}function K2(a,c){var p=a==null?0:a.length;return p?(c=c===n?1:Me(c),Ht(a,c)):[]}function q2(a){for(var c=-1,p=a==null?0:a.length,y={};++c<p;){var C=a[c];y[C[0]]=C[1]}return y}function ax(a){return a&&a.length?a[0]:n}function J2(a,c,p){var y=a==null?0:a.length;if(!y)return-1;var C=p==null?0:Me(p);return C<0&&(C=bt(y+C,0)),nl(a,c,C)}function G2(a){var c=a==null?0:a.length;return c?cr(a,0,-1):[]}var Y2=Fe(function(a){var c=ot(a,Xh);return c.length&&c[0]===a[0]?Hh(c):[]}),X2=Fe(function(a){var c=fr(a),p=ot(a,Xh);return c===fr(p)?c=n:p.pop(),p.length&&p[0]===a[0]?Hh(p,xe(c,2)):[]}),Q2=Fe(function(a){var c=fr(a),p=ot(a,Xh);return c=typeof c=="function"?c:n,c&&p.pop(),p.length&&p[0]===a[0]?Hh(p,n,c):[]});function Z2(a,c){return a==null?"":GM.call(a,c)}function fr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function e_(a,c,p){var y=a==null?0:a.length;if(!y)return-1;var C=y;return p!==n&&(C=Me(p),C=C<0?bt(y+C,0):Zt(C,y-1)),c===c?FM(a,c,C):Bc(a,Vv,C,!0)}function t_(a,c){return a&&a.length?CC(a,Me(c)):n}var n_=Fe(ux);function ux(a,c){return a&&a.length&&c&&c.length?jh(a,c):a}function r_(a,c,p){return a&&a.length&&c&&c.length?jh(a,c,xe(p,2)):a}function i_(a,c,p){return a&&a.length&&c&&c.length?jh(a,c,n,p):a}var o_=Ai(function(a,c){var p=a==null?0:a.length,y=Lh(a,c);return DC(a,ot(c,function(C){return Ti(C,p)?+C:C}).sort(_C)),y});function s_(a,c){var p=[];if(!(a&&a.length))return p;var y=-1,C=[],E=a.length;for(c=xe(c,3);++y<E;){var T=a[y];c(T,y,a)&&(p.push(T),C.push(y))}return DC(a,C),p}function fm(a){return a==null?a:ZM.call(a)}function l_(a,c,p){var y=a==null?0:a.length;return y?(p&&typeof p!="number"&&pn(a,c,p)?(c=0,p=y):(c=c==null?0:Me(c),p=p===n?y:Me(p)),cr(a,c,p)):[]}function a_(a,c){return of(a,c)}function u_(a,c,p){return Jh(a,c,xe(p,2))}function c_(a,c){var p=a==null?0:a.length;if(p){var y=of(a,c);if(y<p&&_r(a[y],c))return y}return-1}function f_(a,c){return of(a,c,!0)}function d_(a,c,p){return Jh(a,c,xe(p,2),!0)}function p_(a,c){var p=a==null?0:a.length;if(p){var y=of(a,c,!0)-1;if(_r(a[y],c))return y}return-1}function h_(a){return a&&a.length?EC(a):[]}function m_(a,c){return a&&a.length?EC(a,xe(c,2)):[]}function g_(a){var c=a==null?0:a.length;return c?cr(a,1,c):[]}function y_(a,c,p){return a&&a.length?(c=p||c===n?1:Me(c),cr(a,0,c<0?0:c)):[]}function v_(a,c,p){var y=a==null?0:a.length;return y?(c=p||c===n?1:Me(c),c=y-c,cr(a,c<0?0:c,y)):[]}function C_(a,c){return a&&a.length?sf(a,xe(c,3),!1,!0):[]}function x_(a,c){return a&&a.length?sf(a,xe(c,3)):[]}var S_=Fe(function(a){return Zi(Ht(a,1,yt,!0))}),D_=Fe(function(a){var c=fr(a);return yt(c)&&(c=n),Zi(Ht(a,1,yt,!0),xe(c,2))}),w_=Fe(function(a){var c=fr(a);return c=typeof c=="function"?c:n,Zi(Ht(a,1,yt,!0),n,c)});function E_(a){return a&&a.length?Zi(a):[]}function b_(a,c){return a&&a.length?Zi(a,xe(c,2)):[]}function k_(a,c){return c=typeof c=="function"?c:n,a&&a.length?Zi(a,n,c):[]}function dm(a){if(!(a&&a.length))return[];var c=0;return a=Ji(a,function(p){if(yt(p))return c=bt(p.length,c),!0}),Oh(c,function(p){return ot(a,kh(p))})}function cx(a,c){if(!(a&&a.length))return[];var p=dm(a);return c==null?p:ot(p,function(y){return zn(c,n,y)})}var A_=Fe(function(a,c){return yt(a)?ja(a,c):[]}),T_=Fe(function(a){return Yh(Ji(a,yt))}),O_=Fe(function(a){var c=fr(a);return yt(c)&&(c=n),Yh(Ji(a,yt),xe(c,2))}),M_=Fe(function(a){var c=fr(a);return c=typeof c=="function"?c:n,Yh(Ji(a,yt),n,c)}),N_=Fe(dm);function __(a,c){return TC(a||[],c||[],Ua)}function F_(a,c){return TC(a||[],c||[],Ja)}var R_=Fe(function(a){var c=a.length,p=c>1?a[c-1]:n;return p=typeof p=="function"?(a.pop(),p):n,cx(a,p)});function fx(a){var c=D(a);return c.__chain__=!0,c}function P_(a,c){return c(a),a}function mf(a,c){return c(a)}var I_=Ai(function(a){var c=a.length,p=c?a[0]:0,y=this.__wrapped__,C=function(E){return Lh(E,a)};return c>1||this.__actions__.length||!(y instanceof Le)||!Ti(p)?this.thru(C):(y=y.slice(p,+p+(c?1:0)),y.__actions__.push({func:mf,args:[C],thisArg:n}),new ar(y,this.__chain__).thru(function(E){return c&&!E.length&&E.push(n),E}))});function L_(){return fx(this)}function B_(){return new ar(this.value(),this.__chain__)}function z_(){this.__values__===n&&(this.__values__=bx(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function $_(){return this}function H_(a){for(var c,p=this;p instanceof Zc;){var y=ix(p);y.__index__=0,y.__values__=n,c?C.__wrapped__=y:c=y;var C=y;p=p.__wrapped__}return C.__wrapped__=a,c}function V_(){var a=this.__wrapped__;if(a instanceof Le){var c=a;return this.__actions__.length&&(c=new Le(this)),c=c.reverse(),c.__actions__.push({func:mf,args:[fm],thisArg:n}),new ar(c,this.__chain__)}return this.thru(fm)}function W_(){return AC(this.__wrapped__,this.__actions__)}var U_=lf(function(a,c,p){qe.call(a,p)?++a[p]:bi(a,p,1)});function j_(a,c,p){var y=Te(a)?$v:PN;return p&&pn(a,c,p)&&(c=n),y(a,xe(c,3))}function K_(a,c){var p=Te(a)?Ji:cC;return p(a,xe(c,3))}var q_=BC(ox),J_=BC(sx);function G_(a,c){return Ht(gf(a,c),1)}function Y_(a,c){return Ht(gf(a,c),K)}function X_(a,c,p){return p=p===n?1:Me(p),Ht(gf(a,c),p)}function dx(a,c){var p=Te(a)?sr:Qi;return p(a,xe(c,3))}function px(a,c){var p=Te(a)?gM:uC;return p(a,xe(c,3))}var Q_=lf(function(a,c,p){qe.call(a,p)?a[p].push(c):bi(a,p,[c])});function Z_(a,c,p,y){a=kn(a)?a:hl(a),p=p&&!y?Me(p):0;var C=a.length;return p<0&&(p=bt(C+p,0)),Sf(a)?p<=C&&a.indexOf(c,p)>-1:!!C&&nl(a,c,p)>-1}var eF=Fe(function(a,c,p){var y=-1,C=typeof c=="function",E=kn(a)?z(a.length):[];return Qi(a,function(T){E[++y]=C?zn(c,T,p):Ka(T,c,p)}),E}),tF=lf(function(a,c,p){bi(a,p,c)});function gf(a,c){var p=Te(a)?ot:gC;return p(a,xe(c,3))}function nF(a,c,p,y){return a==null?[]:(Te(c)||(c=c==null?[]:[c]),p=y?n:p,Te(p)||(p=p==null?[]:[p]),xC(a,c,p))}var rF=lf(function(a,c,p){a[p?0:1].push(c)},function(){return[[],[]]});function iF(a,c,p){var y=Te(a)?Eh:Uv,C=arguments.length<3;return y(a,xe(c,4),p,C,Qi)}function oF(a,c,p){var y=Te(a)?yM:Uv,C=arguments.length<3;return y(a,xe(c,4),p,C,uC)}function sF(a,c){var p=Te(a)?Ji:cC;return p(a,Cf(xe(c,3)))}function lF(a){var c=Te(a)?oC:ZN;return c(a)}function aF(a,c,p){(p?pn(a,c,p):c===n)?c=1:c=Me(c);var y=Te(a)?MN:e2;return y(a,c)}function uF(a){var c=Te(a)?NN:n2;return c(a)}function cF(a){if(a==null)return 0;if(kn(a))return Sf(a)?il(a):a.length;var c=en(a);return c==Ae||c==it?a.size:Wh(a).length}function fF(a,c,p){var y=Te(a)?bh:r2;return p&&pn(a,c,p)&&(c=n),y(a,xe(c,3))}var dF=Fe(function(a,c){if(a==null)return[];var p=c.length;return p>1&&pn(a,c[0],c[1])?c=[]:p>2&&pn(c[0],c[1],c[2])&&(c=[c[0]]),xC(a,Ht(c,1),[])}),yf=KM||function(){return $t.Date.now()};function pF(a,c){if(typeof c!="function")throw new lr(s);return a=Me(a),function(){if(--a<1)return c.apply(this,arguments)}}function hx(a,c,p){return c=p?n:c,c=a&&c==null?a.length:c,ki(a,$,n,n,n,n,c)}function mx(a,c){var p;if(typeof c!="function")throw new lr(s);return a=Me(a),function(){return--a>0&&(p=c.apply(this,arguments)),a<=1&&(c=n),p}}var pm=Fe(function(a,c,p){var y=k;if(p.length){var C=Yi(p,dl(pm));y|=R}return ki(a,y,c,p,C)}),gx=Fe(function(a,c,p){var y=k|S;if(p.length){var C=Yi(p,dl(gx));y|=R}return ki(c,y,a,p,C)});function yx(a,c,p){c=p?n:c;var y=ki(a,A,n,n,n,n,n,c);return y.placeholder=yx.placeholder,y}function vx(a,c,p){c=p?n:c;var y=ki(a,w,n,n,n,n,n,c);return y.placeholder=vx.placeholder,y}function Cx(a,c,p){var y,C,E,T,O,N,j=0,q=!1,Y=!1,se=!0;if(typeof a!="function")throw new lr(s);c=dr(c)||0,lt(p)&&(q=!!p.leading,Y="maxWait"in p,E=Y?bt(dr(p.maxWait)||0,c):E,se="trailing"in p?!!p.trailing:se);function me(vt){var Fr=y,Ni=C;return y=C=n,j=vt,T=a.apply(Ni,Fr),T}function we(vt){return j=vt,O=Xa(Re,c),q?me(vt):T}function _e(vt){var Fr=vt-N,Ni=vt-j,Bx=c-Fr;return Y?Zt(Bx,E-Ni):Bx}function Ee(vt){var Fr=vt-N,Ni=vt-j;return N===n||Fr>=c||Fr<0||Y&&Ni>=E}function Re(){var vt=yf();if(Ee(vt))return $e(vt);O=Xa(Re,_e(vt))}function $e(vt){return O=n,se&&y?me(vt):(y=C=n,T)}function Wn(){O!==n&&OC(O),j=0,y=N=C=O=n}function hn(){return O===n?T:$e(yf())}function Un(){var vt=yf(),Fr=Ee(vt);if(y=arguments,C=this,N=vt,Fr){if(O===n)return we(N);if(Y)return OC(O),O=Xa(Re,c),me(N)}return O===n&&(O=Xa(Re,c)),T}return Un.cancel=Wn,Un.flush=hn,Un}var hF=Fe(function(a,c){return aC(a,1,c)}),mF=Fe(function(a,c,p){return aC(a,dr(c)||0,p)});function gF(a){return ki(a,Z)}function vf(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new lr(s);var p=function(){var y=arguments,C=c?c.apply(this,y):y[0],E=p.cache;if(E.has(C))return E.get(C);var T=a.apply(this,y);return p.cache=E.set(C,T)||E,T};return p.cache=new(vf.Cache||Ei),p}vf.Cache=Ei;function Cf(a){if(typeof a!="function")throw new lr(s);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function yF(a){return mx(2,a)}var vF=i2(function(a,c){c=c.length==1&&Te(c[0])?ot(c[0],$n(xe())):ot(Ht(c,1),$n(xe()));var p=c.length;return Fe(function(y){for(var C=-1,E=Zt(y.length,p);++C<E;)y[C]=c[C].call(this,y[C]);return zn(a,this,y)})}),hm=Fe(function(a,c){var p=Yi(c,dl(hm));return ki(a,R,n,c,p)}),xx=Fe(function(a,c){var p=Yi(c,dl(xx));return ki(a,P,n,c,p)}),CF=Ai(function(a,c){return ki(a,F,n,n,n,c)});function xF(a,c){if(typeof a!="function")throw new lr(s);return c=c===n?c:Me(c),Fe(a,c)}function SF(a,c){if(typeof a!="function")throw new lr(s);return c=c==null?0:bt(Me(c),0),Fe(function(p){var y=p[c],C=to(p,0,c);return y&&Gi(C,y),zn(a,this,C)})}function DF(a,c,p){var y=!0,C=!0;if(typeof a!="function")throw new lr(s);return lt(p)&&(y="leading"in p?!!p.leading:y,C="trailing"in p?!!p.trailing:C),Cx(a,c,{leading:y,maxWait:c,trailing:C})}function wF(a){return hx(a,1)}function EF(a,c){return hm(Qh(c),a)}function bF(){if(!arguments.length)return[];var a=arguments[0];return Te(a)?a:[a]}function kF(a){return ur(a,g)}function AF(a,c){return c=typeof c=="function"?c:n,ur(a,g,c)}function TF(a){return ur(a,h|g)}function OF(a,c){return c=typeof c=="function"?c:n,ur(a,h|g,c)}function MF(a,c){return c==null||lC(a,c,Ot(c))}function _r(a,c){return a===c||a!==a&&c!==c}var NF=ff($h),_F=ff(function(a,c){return a>=c}),ss=pC(function(){return arguments}())?pC:function(a){return ft(a)&&qe.call(a,"callee")&&!Zv.call(a,"callee")},Te=z.isArray,FF=Rv?$n(Rv):HN;function kn(a){return a!=null&&xf(a.length)&&!Oi(a)}function yt(a){return ft(a)&&kn(a)}function RF(a){return a===!0||a===!1||ft(a)&&dn(a)==Oe}var no=JM||bm,PF=Pv?$n(Pv):VN;function IF(a){return ft(a)&&a.nodeType===1&&!Qa(a)}function LF(a){if(a==null)return!0;if(kn(a)&&(Te(a)||typeof a=="string"||typeof a.splice=="function"||no(a)||pl(a)||ss(a)))return!a.length;var c=en(a);if(c==Ae||c==it)return!a.size;if(Ya(a))return!Wh(a).length;for(var p in a)if(qe.call(a,p))return!1;return!0}function BF(a,c){return qa(a,c)}function zF(a,c,p){p=typeof p=="function"?p:n;var y=p?p(a,c):n;return y===n?qa(a,c,n,p):!!y}function mm(a){if(!ft(a))return!1;var c=dn(a);return c==Qt||c==fn||typeof a.message=="string"&&typeof a.name=="string"&&!Qa(a)}function $F(a){return typeof a=="number"&&tC(a)}function Oi(a){if(!lt(a))return!1;var c=dn(a);return c==It||c==mt||c==Ye||c==xi}function Sx(a){return typeof a=="number"&&a==Me(a)}function xf(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=_}function lt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function ft(a){return a!=null&&typeof a=="object"}var Dx=Iv?$n(Iv):UN;function HF(a,c){return a===c||Vh(a,c,om(c))}function VF(a,c,p){return p=typeof p=="function"?p:n,Vh(a,c,om(c),p)}function WF(a){return wx(a)&&a!=+a}function UF(a){if(A2(a))throw new ke(o);return hC(a)}function jF(a){return a===null}function KF(a){return a==null}function wx(a){return typeof a=="number"||ft(a)&&dn(a)==Tt}function Qa(a){if(!ft(a)||dn(a)!=wt)return!1;var c=Kc(a);if(c===null)return!0;var p=qe.call(c,"constructor")&&c.constructor;return typeof p=="function"&&p instanceof p&&Vc.call(p)==VM}var gm=Lv?$n(Lv):jN;function qF(a){return Sx(a)&&a>=-_&&a<=_}var Ex=Bv?$n(Bv):KN;function Sf(a){return typeof a=="string"||!Te(a)&&ft(a)&&dn(a)==Tr}function Vn(a){return typeof a=="symbol"||ft(a)&&dn(a)==ir}var pl=zv?$n(zv):qN;function JF(a){return a===n}function GF(a){return ft(a)&&en(a)==Gr}function YF(a){return ft(a)&&dn(a)==Qs}var XF=ff(Uh),QF=ff(function(a,c){return a<=c});function bx(a){if(!a)return[];if(kn(a))return Sf(a)?Mr(a):bn(a);if(za&&a[za])return MM(a[za]());var c=en(a),p=c==Ae?Nh:c==it?zc:hl;return p(a)}function Mi(a){if(!a)return a===0?a:0;if(a=dr(a),a===K||a===-K){var c=a<0?-1:1;return c*L}return a===a?a:0}function Me(a){var c=Mi(a),p=c%1;return c===c?p?c-p:c:0}function kx(a){return a?ts(Me(a),0,J):0}function dr(a){if(typeof a=="number")return a;if(Vn(a))return B;if(lt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=lt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=jv(a);var p=FO.test(a);return p||PO.test(a)?pM(a.slice(2),p?2:8):_O.test(a)?B:+a}function Ax(a){return Qr(a,An(a))}function ZF(a){return a?ts(Me(a),-_,_):a===0?a:0}function Ke(a){return a==null?"":Hn(a)}var eR=cl(function(a,c){if(Ya(c)||kn(c)){Qr(c,Ot(c),a);return}for(var p in c)qe.call(c,p)&&Ua(a,p,c[p])}),Tx=cl(function(a,c){Qr(c,An(c),a)}),Df=cl(function(a,c,p,y){Qr(c,An(c),a,y)}),tR=cl(function(a,c,p,y){Qr(c,Ot(c),a,y)}),nR=Ai(Lh);function rR(a,c){var p=ul(a);return c==null?p:sC(p,c)}var iR=Fe(function(a,c){a=Qe(a);var p=-1,y=c.length,C=y>2?c[2]:n;for(C&&pn(c[0],c[1],C)&&(y=1);++p<y;)for(var E=c[p],T=An(E),O=-1,N=T.length;++O<N;){var j=T[O],q=a[j];(q===n||_r(q,sl[j])&&!qe.call(a,j))&&(a[j]=E[j])}return a}),oR=Fe(function(a){return a.push(n,jC),zn(Ox,n,a)});function sR(a,c){return Hv(a,xe(c,3),Xr)}function lR(a,c){return Hv(a,xe(c,3),zh)}function aR(a,c){return a==null?a:Bh(a,xe(c,3),An)}function uR(a,c){return a==null?a:fC(a,xe(c,3),An)}function cR(a,c){return a&&Xr(a,xe(c,3))}function fR(a,c){return a&&zh(a,xe(c,3))}function dR(a){return a==null?[]:nf(a,Ot(a))}function pR(a){return a==null?[]:nf(a,An(a))}function ym(a,c,p){var y=a==null?n:ns(a,c);return y===n?p:y}function hR(a,c){return a!=null&&JC(a,c,LN)}function vm(a,c){return a!=null&&JC(a,c,BN)}var mR=$C(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Wc.call(c)),a[c]=p},xm(Tn)),gR=$C(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Wc.call(c)),qe.call(a,c)?a[c].push(p):a[c]=[p]},xe),yR=Fe(Ka);function Ot(a){return kn(a)?iC(a):Wh(a)}function An(a){return kn(a)?iC(a,!0):JN(a)}function vR(a,c){var p={};return c=xe(c,3),Xr(a,function(y,C,E){bi(p,c(y,C,E),y)}),p}function CR(a,c){var p={};return c=xe(c,3),Xr(a,function(y,C,E){bi(p,C,c(y,C,E))}),p}var xR=cl(function(a,c,p){rf(a,c,p)}),Ox=cl(function(a,c,p,y){rf(a,c,p,y)}),SR=Ai(function(a,c){var p={};if(a==null)return p;var y=!1;c=ot(c,function(E){return E=eo(E,a),y||(y=E.length>1),E}),Qr(a,rm(a),p),y&&(p=ur(p,h|m|g,m2));for(var C=c.length;C--;)Gh(p,c[C]);return p});function DR(a,c){return Mx(a,Cf(xe(c)))}var wR=Ai(function(a,c){return a==null?{}:YN(a,c)});function Mx(a,c){if(a==null)return{};var p=ot(rm(a),function(y){return[y]});return c=xe(c),SC(a,p,function(y,C){return c(y,C[0])})}function ER(a,c,p){c=eo(c,a);var y=-1,C=c.length;for(C||(C=1,a=n);++y<C;){var E=a==null?n:a[Zr(c[y])];E===n&&(y=C,E=p),a=Oi(E)?E.call(a):E}return a}function bR(a,c,p){return a==null?a:Ja(a,c,p)}function kR(a,c,p,y){return y=typeof y=="function"?y:n,a==null?a:Ja(a,c,p,y)}var Nx=WC(Ot),_x=WC(An);function AR(a,c,p){var y=Te(a),C=y||no(a)||pl(a);if(c=xe(c,4),p==null){var E=a&&a.constructor;C?p=y?new E:[]:lt(a)?p=Oi(E)?ul(Kc(a)):{}:p={}}return(C?sr:Xr)(a,function(T,O,N){return c(p,T,O,N)}),p}function TR(a,c){return a==null?!0:Gh(a,c)}function OR(a,c,p){return a==null?a:kC(a,c,Qh(p))}function MR(a,c,p,y){return y=typeof y=="function"?y:n,a==null?a:kC(a,c,Qh(p),y)}function hl(a){return a==null?[]:Mh(a,Ot(a))}function NR(a){return a==null?[]:Mh(a,An(a))}function _R(a,c,p){return p===n&&(p=c,c=n),p!==n&&(p=dr(p),p=p===p?p:0),c!==n&&(c=dr(c),c=c===c?c:0),ts(dr(a),c,p)}function FR(a,c,p){return c=Mi(c),p===n?(p=c,c=0):p=Mi(p),a=dr(a),zN(a,c,p)}function RR(a,c,p){if(p&&typeof p!="boolean"&&pn(a,c,p)&&(c=p=n),p===n&&(typeof c=="boolean"?(p=c,c=n):typeof a=="boolean"&&(p=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Mi(a),c===n?(c=a,a=0):c=Mi(c)),a>c){var y=a;a=c,c=y}if(p||a%1||c%1){var C=nC();return Zt(a+C*(c-a+dM("1e-"+((C+"").length-1))),c)}return Kh(a,c)}var PR=fl(function(a,c,p){return c=c.toLowerCase(),a+(p?Fx(c):c)});function Fx(a){return Cm(Ke(a).toLowerCase())}function Rx(a){return a=Ke(a),a&&a.replace(LO,bM).replace(nM,"")}function IR(a,c,p){a=Ke(a),c=Hn(c);var y=a.length;p=p===n?y:ts(Me(p),0,y);var C=p;return p-=c.length,p>=0&&a.slice(p,C)==c}function LR(a){return a=Ke(a),a&&Ia.test(a)?a.replace(Pa,kM):a}function BR(a){return a=Ke(a),a&&wO.test(a)?a.replace(hh,"\\$&"):a}var zR=fl(function(a,c,p){return a+(p?"-":"")+c.toLowerCase()}),$R=fl(function(a,c,p){return a+(p?" ":"")+c.toLowerCase()}),HR=LC("toLowerCase");function VR(a,c,p){a=Ke(a),c=Me(c);var y=c?il(a):0;if(!c||y>=c)return a;var C=(c-y)/2;return cf(Yc(C),p)+a+cf(Gc(C),p)}function WR(a,c,p){a=Ke(a),c=Me(c);var y=c?il(a):0;return c&&y<c?a+cf(c-y,p):a}function UR(a,c,p){a=Ke(a),c=Me(c);var y=c?il(a):0;return c&&y<c?cf(c-y,p)+a:a}function jR(a,c,p){return p||c==null?c=0:c&&(c=+c),QM(Ke(a).replace(mh,""),c||0)}function KR(a,c,p){return(p?pn(a,c,p):c===n)?c=1:c=Me(c),qh(Ke(a),c)}function qR(){var a=arguments,c=Ke(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var JR=fl(function(a,c,p){return a+(p?"_":"")+c.toLowerCase()});function GR(a,c,p){return p&&typeof p!="number"&&pn(a,c,p)&&(c=p=n),p=p===n?J:p>>>0,p?(a=Ke(a),a&&(typeof c=="string"||c!=null&&!gm(c))&&(c=Hn(c),!c&&rl(a))?to(Mr(a),0,p):a.split(c,p)):[]}var YR=fl(function(a,c,p){return a+(p?" ":"")+Cm(c)});function XR(a,c,p){return a=Ke(a),p=p==null?0:ts(Me(p),0,a.length),c=Hn(c),a.slice(p,p+c.length)==c}function QR(a,c,p){var y=D.templateSettings;p&&pn(a,c,p)&&(c=n),a=Ke(a),c=Df({},c,y,UC);var C=Df({},c.imports,y.imports,UC),E=Ot(C),T=Mh(C,E),O,N,j=0,q=c.interpolate||Rc,Y="__p += '",se=_h((c.escape||Rc).source+"|"+q.source+"|"+(q===Fc?NO:Rc).source+"|"+(c.evaluate||Rc).source+"|$","g"),me="//# sourceURL="+(qe.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lM+"]")+`
`;a.replace(se,function(Ee,Re,$e,Wn,hn,Un){return $e||($e=Wn),Y+=a.slice(j,Un).replace(BO,AM),Re&&(O=!0,Y+=`' +
__e(`+Re+`) +
'`),hn&&(N=!0,Y+=`';
`+hn+`;
__p += '`),$e&&(Y+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),j=Un+Ee.length,Ee}),Y+=`';
`;var we=qe.call(c,"variable")&&c.variable;if(!we)Y=`with (obj) {
`+Y+`
}
`;else if(OO.test(we))throw new ke(l);Y=(N?Y.replace(ze,""):Y).replace(zt,"$1").replace(En,"$1;"),Y="function("+(we||"obj")+`) {
`+(we?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var _e=Ix(function(){return je(E,me+"return "+Y).apply(n,T)});if(_e.source=Y,mm(_e))throw _e;return _e}function ZR(a){return Ke(a).toLowerCase()}function eP(a){return Ke(a).toUpperCase()}function tP(a,c,p){if(a=Ke(a),a&&(p||c===n))return jv(a);if(!a||!(c=Hn(c)))return a;var y=Mr(a),C=Mr(c),E=Kv(y,C),T=qv(y,C)+1;return to(y,E,T).join("")}function nP(a,c,p){if(a=Ke(a),a&&(p||c===n))return a.slice(0,Gv(a)+1);if(!a||!(c=Hn(c)))return a;var y=Mr(a),C=qv(y,Mr(c))+1;return to(y,0,C).join("")}function rP(a,c,p){if(a=Ke(a),a&&(p||c===n))return a.replace(mh,"");if(!a||!(c=Hn(c)))return a;var y=Mr(a),C=Kv(y,Mr(c));return to(y,C).join("")}function iP(a,c){var p=ee,y=oe;if(lt(c)){var C="separator"in c?c.separator:C;p="length"in c?Me(c.length):p,y="omission"in c?Hn(c.omission):y}a=Ke(a);var E=a.length;if(rl(a)){var T=Mr(a);E=T.length}if(p>=E)return a;var O=p-il(y);if(O<1)return y;var N=T?to(T,0,O).join(""):a.slice(0,O);if(C===n)return N+y;if(T&&(O+=N.length-O),gm(C)){if(a.slice(O).search(C)){var j,q=N;for(C.global||(C=_h(C.source,Ke(pv.exec(C))+"g")),C.lastIndex=0;j=C.exec(q);)var Y=j.index;N=N.slice(0,Y===n?O:Y)}}else if(a.indexOf(Hn(C),O)!=O){var se=N.lastIndexOf(C);se>-1&&(N=N.slice(0,se))}return N+y}function oP(a){return a=Ke(a),a&&Di.test(a)?a.replace(Si,RM):a}var sP=fl(function(a,c,p){return a+(p?" ":"")+c.toUpperCase()}),Cm=LC("toUpperCase");function Px(a,c,p){return a=Ke(a),c=p?n:c,c===n?OM(a)?LM(a):xM(a):a.match(c)||[]}var Ix=Fe(function(a,c){try{return zn(a,n,c)}catch(p){return mm(p)?p:new ke(p)}}),lP=Ai(function(a,c){return sr(c,function(p){p=Zr(p),bi(a,p,pm(a[p],a))}),a});function aP(a){var c=a==null?0:a.length,p=xe();return a=c?ot(a,function(y){if(typeof y[1]!="function")throw new lr(s);return[p(y[0]),y[1]]}):[],Fe(function(y){for(var C=-1;++C<c;){var E=a[C];if(zn(E[0],this,y))return zn(E[1],this,y)}})}function uP(a){return RN(ur(a,h))}function xm(a){return function(){return a}}function cP(a,c){return a==null||a!==a?c:a}var fP=zC(),dP=zC(!0);function Tn(a){return a}function Sm(a){return mC(typeof a=="function"?a:ur(a,h))}function pP(a){return yC(ur(a,h))}function hP(a,c){return vC(a,ur(c,h))}var mP=Fe(function(a,c){return function(p){return Ka(p,a,c)}}),gP=Fe(function(a,c){return function(p){return Ka(a,p,c)}});function Dm(a,c,p){var y=Ot(c),C=nf(c,y);p==null&&!(lt(c)&&(C.length||!y.length))&&(p=c,c=a,a=this,C=nf(c,Ot(c)));var E=!(lt(p)&&"chain"in p)||!!p.chain,T=Oi(a);return sr(C,function(O){var N=c[O];a[O]=N,T&&(a.prototype[O]=function(){var j=this.__chain__;if(E||j){var q=a(this.__wrapped__),Y=q.__actions__=bn(this.__actions__);return Y.push({func:N,args:arguments,thisArg:a}),q.__chain__=j,q}return N.apply(a,Gi([this.value()],arguments))})}),a}function yP(){return $t._===this&&($t._=WM),this}function wm(){}function vP(a){return a=Me(a),Fe(function(c){return CC(c,a)})}var CP=em(ot),xP=em($v),SP=em(bh);function Lx(a){return lm(a)?kh(Zr(a)):XN(a)}function DP(a){return function(c){return a==null?n:ns(a,c)}}var wP=HC(),EP=HC(!0);function Em(){return[]}function bm(){return!1}function bP(){return{}}function kP(){return""}function AP(){return!0}function TP(a,c){if(a=Me(a),a<1||a>_)return[];var p=J,y=Zt(a,J);c=xe(c),a-=J;for(var C=Oh(y,c);++p<a;)c(p);return C}function OP(a){return Te(a)?ot(a,Zr):Vn(a)?[a]:bn(rx(Ke(a)))}function MP(a){var c=++HM;return Ke(a)+c}var NP=uf(function(a,c){return a+c},0),_P=tm("ceil"),FP=uf(function(a,c){return a/c},1),RP=tm("floor");function PP(a){return a&&a.length?tf(a,Tn,$h):n}function IP(a,c){return a&&a.length?tf(a,xe(c,2),$h):n}function LP(a){return Wv(a,Tn)}function BP(a,c){return Wv(a,xe(c,2))}function zP(a){return a&&a.length?tf(a,Tn,Uh):n}function $P(a,c){return a&&a.length?tf(a,xe(c,2),Uh):n}var HP=uf(function(a,c){return a*c},1),VP=tm("round"),WP=uf(function(a,c){return a-c},0);function UP(a){return a&&a.length?Th(a,Tn):0}function jP(a,c){return a&&a.length?Th(a,xe(c,2)):0}return D.after=pF,D.ary=hx,D.assign=eR,D.assignIn=Tx,D.assignInWith=Df,D.assignWith=tR,D.at=nR,D.before=mx,D.bind=pm,D.bindAll=lP,D.bindKey=gx,D.castArray=bF,D.chain=fx,D.chunk=R2,D.compact=P2,D.concat=I2,D.cond=aP,D.conforms=uP,D.constant=xm,D.countBy=U_,D.create=rR,D.curry=yx,D.curryRight=vx,D.debounce=Cx,D.defaults=iR,D.defaultsDeep=oR,D.defer=hF,D.delay=mF,D.difference=L2,D.differenceBy=B2,D.differenceWith=z2,D.drop=$2,D.dropRight=H2,D.dropRightWhile=V2,D.dropWhile=W2,D.fill=U2,D.filter=K_,D.flatMap=G_,D.flatMapDeep=Y_,D.flatMapDepth=X_,D.flatten=lx,D.flattenDeep=j2,D.flattenDepth=K2,D.flip=gF,D.flow=fP,D.flowRight=dP,D.fromPairs=q2,D.functions=dR,D.functionsIn=pR,D.groupBy=Q_,D.initial=G2,D.intersection=Y2,D.intersectionBy=X2,D.intersectionWith=Q2,D.invert=mR,D.invertBy=gR,D.invokeMap=eF,D.iteratee=Sm,D.keyBy=tF,D.keys=Ot,D.keysIn=An,D.map=gf,D.mapKeys=vR,D.mapValues=CR,D.matches=pP,D.matchesProperty=hP,D.memoize=vf,D.merge=xR,D.mergeWith=Ox,D.method=mP,D.methodOf=gP,D.mixin=Dm,D.negate=Cf,D.nthArg=vP,D.omit=SR,D.omitBy=DR,D.once=yF,D.orderBy=nF,D.over=CP,D.overArgs=vF,D.overEvery=xP,D.overSome=SP,D.partial=hm,D.partialRight=xx,D.partition=rF,D.pick=wR,D.pickBy=Mx,D.property=Lx,D.propertyOf=DP,D.pull=n_,D.pullAll=ux,D.pullAllBy=r_,D.pullAllWith=i_,D.pullAt=o_,D.range=wP,D.rangeRight=EP,D.rearg=CF,D.reject=sF,D.remove=s_,D.rest=xF,D.reverse=fm,D.sampleSize=aF,D.set=bR,D.setWith=kR,D.shuffle=uF,D.slice=l_,D.sortBy=dF,D.sortedUniq=h_,D.sortedUniqBy=m_,D.split=GR,D.spread=SF,D.tail=g_,D.take=y_,D.takeRight=v_,D.takeRightWhile=C_,D.takeWhile=x_,D.tap=P_,D.throttle=DF,D.thru=mf,D.toArray=bx,D.toPairs=Nx,D.toPairsIn=_x,D.toPath=OP,D.toPlainObject=Ax,D.transform=AR,D.unary=wF,D.union=S_,D.unionBy=D_,D.unionWith=w_,D.uniq=E_,D.uniqBy=b_,D.uniqWith=k_,D.unset=TR,D.unzip=dm,D.unzipWith=cx,D.update=OR,D.updateWith=MR,D.values=hl,D.valuesIn=NR,D.without=A_,D.words=Px,D.wrap=EF,D.xor=T_,D.xorBy=O_,D.xorWith=M_,D.zip=N_,D.zipObject=__,D.zipObjectDeep=F_,D.zipWith=R_,D.entries=Nx,D.entriesIn=_x,D.extend=Tx,D.extendWith=Df,Dm(D,D),D.add=NP,D.attempt=Ix,D.camelCase=PR,D.capitalize=Fx,D.ceil=_P,D.clamp=_R,D.clone=kF,D.cloneDeep=TF,D.cloneDeepWith=OF,D.cloneWith=AF,D.conformsTo=MF,D.deburr=Rx,D.defaultTo=cP,D.divide=FP,D.endsWith=IR,D.eq=_r,D.escape=LR,D.escapeRegExp=BR,D.every=j_,D.find=q_,D.findIndex=ox,D.findKey=sR,D.findLast=J_,D.findLastIndex=sx,D.findLastKey=lR,D.floor=RP,D.forEach=dx,D.forEachRight=px,D.forIn=aR,D.forInRight=uR,D.forOwn=cR,D.forOwnRight=fR,D.get=ym,D.gt=NF,D.gte=_F,D.has=hR,D.hasIn=vm,D.head=ax,D.identity=Tn,D.includes=Z_,D.indexOf=J2,D.inRange=FR,D.invoke=yR,D.isArguments=ss,D.isArray=Te,D.isArrayBuffer=FF,D.isArrayLike=kn,D.isArrayLikeObject=yt,D.isBoolean=RF,D.isBuffer=no,D.isDate=PF,D.isElement=IF,D.isEmpty=LF,D.isEqual=BF,D.isEqualWith=zF,D.isError=mm,D.isFinite=$F,D.isFunction=Oi,D.isInteger=Sx,D.isLength=xf,D.isMap=Dx,D.isMatch=HF,D.isMatchWith=VF,D.isNaN=WF,D.isNative=UF,D.isNil=KF,D.isNull=jF,D.isNumber=wx,D.isObject=lt,D.isObjectLike=ft,D.isPlainObject=Qa,D.isRegExp=gm,D.isSafeInteger=qF,D.isSet=Ex,D.isString=Sf,D.isSymbol=Vn,D.isTypedArray=pl,D.isUndefined=JF,D.isWeakMap=GF,D.isWeakSet=YF,D.join=Z2,D.kebabCase=zR,D.last=fr,D.lastIndexOf=e_,D.lowerCase=$R,D.lowerFirst=HR,D.lt=XF,D.lte=QF,D.max=PP,D.maxBy=IP,D.mean=LP,D.meanBy=BP,D.min=zP,D.minBy=$P,D.stubArray=Em,D.stubFalse=bm,D.stubObject=bP,D.stubString=kP,D.stubTrue=AP,D.multiply=HP,D.nth=t_,D.noConflict=yP,D.noop=wm,D.now=yf,D.pad=VR,D.padEnd=WR,D.padStart=UR,D.parseInt=jR,D.random=RR,D.reduce=iF,D.reduceRight=oF,D.repeat=KR,D.replace=qR,D.result=ER,D.round=VP,D.runInContext=M,D.sample=lF,D.size=cF,D.snakeCase=JR,D.some=fF,D.sortedIndex=a_,D.sortedIndexBy=u_,D.sortedIndexOf=c_,D.sortedLastIndex=f_,D.sortedLastIndexBy=d_,D.sortedLastIndexOf=p_,D.startCase=YR,D.startsWith=XR,D.subtract=WP,D.sum=UP,D.sumBy=jP,D.template=QR,D.times=TP,D.toFinite=Mi,D.toInteger=Me,D.toLength=kx,D.toLower=ZR,D.toNumber=dr,D.toSafeInteger=ZF,D.toString=Ke,D.toUpper=eP,D.trim=tP,D.trimEnd=nP,D.trimStart=rP,D.truncate=iP,D.unescape=oP,D.uniqueId=MP,D.upperCase=sP,D.upperFirst=Cm,D.each=dx,D.eachRight=px,D.first=ax,Dm(D,function(){var a={};return Xr(D,function(c,p){qe.call(D.prototype,p)||(a[p]=c)}),a}(),{chain:!1}),D.VERSION=r,sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),sr(["drop","take"],function(a,c){Le.prototype[a]=function(p){p=p===n?1:bt(Me(p),0);var y=this.__filtered__&&!c?new Le(this):this.clone();return y.__filtered__?y.__takeCount__=Zt(p,y.__takeCount__):y.__views__.push({size:Zt(p,J),type:a+(y.__dir__<0?"Right":"")}),y},Le.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),sr(["filter","map","takeWhile"],function(a,c){var p=c+1,y=p==he||p==I;Le.prototype[a]=function(C){var E=this.clone();return E.__iteratees__.push({iteratee:xe(C,3),type:p}),E.__filtered__=E.__filtered__||y,E}}),sr(["head","last"],function(a,c){var p="take"+(c?"Right":"");Le.prototype[a]=function(){return this[p](1).value()[0]}}),sr(["initial","tail"],function(a,c){var p="drop"+(c?"":"Right");Le.prototype[a]=function(){return this.__filtered__?new Le(this):this[p](1)}}),Le.prototype.compact=function(){return this.filter(Tn)},Le.prototype.find=function(a){return this.filter(a).head()},Le.prototype.findLast=function(a){return this.reverse().find(a)},Le.prototype.invokeMap=Fe(function(a,c){return typeof a=="function"?new Le(this):this.map(function(p){return Ka(p,a,c)})}),Le.prototype.reject=function(a){return this.filter(Cf(xe(a)))},Le.prototype.slice=function(a,c){a=Me(a);var p=this;return p.__filtered__&&(a>0||c<0)?new Le(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),c!==n&&(c=Me(c),p=c<0?p.dropRight(-c):p.take(c-a)),p)},Le.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Le.prototype.toArray=function(){return this.take(J)},Xr(Le.prototype,function(a,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),y=/^(?:head|last)$/.test(c),C=D[y?"take"+(c=="last"?"Right":""):c],E=y||/^find/.test(c);!C||(D.prototype[c]=function(){var T=this.__wrapped__,O=y?[1]:arguments,N=T instanceof Le,j=O[0],q=N||Te(T),Y=function(Re){var $e=C.apply(D,Gi([Re],O));return y&&se?$e[0]:$e};q&&p&&typeof j=="function"&&j.length!=1&&(N=q=!1);var se=this.__chain__,me=!!this.__actions__.length,we=E&&!se,_e=N&&!me;if(!E&&q){T=_e?T:new Le(this);var Ee=a.apply(T,O);return Ee.__actions__.push({func:mf,args:[Y],thisArg:n}),new ar(Ee,se)}return we&&_e?a.apply(this,O):(Ee=this.thru(Y),we?y?Ee.value()[0]:Ee.value():Ee)})}),sr(["pop","push","shift","sort","splice","unshift"],function(a){var c=$c[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",y=/^(?:pop|shift)$/.test(a);D.prototype[a]=function(){var C=arguments;if(y&&!this.__chain__){var E=this.value();return c.apply(Te(E)?E:[],C)}return this[p](function(T){return c.apply(Te(T)?T:[],C)})}}),Xr(Le.prototype,function(a,c){var p=D[c];if(p){var y=p.name+"";qe.call(al,y)||(al[y]=[]),al[y].push({name:c,func:p})}}),al[af(n,S).name]=[{name:"wrapper",func:n}],Le.prototype.clone=oN,Le.prototype.reverse=sN,Le.prototype.value=lN,D.prototype.at=I_,D.prototype.chain=L_,D.prototype.commit=B_,D.prototype.next=z_,D.prototype.plant=H_,D.prototype.reverse=V_,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=W_,D.prototype.first=D.prototype.head,za&&(D.prototype[za]=$_),D},ol=BM();Xo?((Xo.exports=ol)._=ol,Sh._=ol):$t._=ol}).call(vl)})(J0,J0.exports);const B6=Yt.create({name:"text",group:"inline"}),z6=/^\s*([-+*])\s$/,$6=Yt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",St(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[$A({find:z6,type:this.type})]}}),H6=/^(\d+)\.\s$/,V6=Yt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",St(this.options.HTMLAttributes,n),0]:["ol",St(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[$A({find:H6,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),W6=Yt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",St(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),U6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,j6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,K6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,q6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,J6=Bo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[dc({find:U6,type:this.type}),dc({find:K6,type:this.type})]},addPasteRules(){return[ha({find:j6,type:this.type}),ha({find:q6,type:this.type})]}}),G6=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Y6=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,X6=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Q6=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Z6=Bo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[dc({find:G6,type:this.type}),dc({find:X6,type:this.type})]},addPasteRules(){return[ha({find:Y6,type:this.type}),ha({find:Q6,type:this.type})]}}),e5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,t5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,n5=Bo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[dc({find:e5,type:this.type})]},addPasteRules(){return[ha({find:t5,type:this.type})]}}),r5=Bo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function i5(t={}){return new Dt({view(e){return new o5(e,t)}})}class o5{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let s=e.nodeBefore,l=e.nodeAfter;if(s||l){let u=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),f=s?u.bottom:u.top;s&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let s=r.getBoundingClientRect();i=s.left-r.scrollLeft,o=s.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=jp(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const s5=Sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[i5(this.options)]}}),zo=typeof navigator!="undefined"?navigator:null,mw=typeof document!="undefined"?document:null,Jo=zo&&zo.userAgent||"",G0=/Edge\/(\d+)/.exec(Jo),cT=/MSIE \d/.exec(Jo),Y0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jo),Ac=!!(cT||Y0||G0),fT=cT?document.documentMode:Y0?+Y0[1]:G0?+G0[1]:0,uh=!Ac&&/gecko\/(\d+)/i.test(Jo);uh&&+(/Firefox\/(\d+)/.exec(Jo)||[0,0])[1];const X0=!Ac&&/Chrome\/(\d+)/.exec(Jo),qs=!!X0,l5=X0?+X0[1]:0,Js=!Ac&&!!zo&&/Apple Computer/.test(zo.vendor),$1=Js&&(/Mobile\/\w+/.test(Jo)||!!zo&&zo.maxTouchPoints>2),mr=$1||(zo?/Mac/.test(zo.platform):!1),Tc=/Android \d/.test(Jo),H1=!!mw&&"webkitFontSmoothing"in mw.documentElement.style,a5=H1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Oc=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},u5=function(t,e,n,r){return n&&(gw(t,e,n,r,-1)||gw(t,e,n,r,1))},c5=/^(img|br|input|textarea|hr)$/i;function gw(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ep(t))){let o=t.parentNode;if(!o||o.nodeType!=1||d5(t)||c5.test(t.nodeName)||t.contentEditable=="false")return!1;e=Oc(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?ep(t):0}else return!1}}function ep(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function f5(t,e,n){for(let r=e==0,i=e==ep(t);r||i;){if(t==n)return!0;let o=Oc(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==ep(t)}}function d5(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const dT=function(t){let e=t.isCollapsed;return e&&qs&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function pT(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function p5(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(dT(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Q.isSelectable(d)&&i.parent&&!(d.isInline&&f5(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;f=new Q(s==h?l:r.resolve(h))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;f=mT(t,u,l,d)}return f}function hT(t){return t.editable?t.hasFocus():y5(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function V1(t,e=!1){let n=t.state.selection;if(g5(t,n),!!hT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&qs){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&u5(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)m5(t);else{let{anchor:r,head:i}=n,o,s;yw&&!(n instanceof ae)&&(n.$from.parent.inlineContent||(o=vw(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=vw(t,n.to))),t.docView.setSelection(r,i,t.root,e),yw&&(o&&Cw(o),s&&Cw(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&h5(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const yw=Js||qs&&l5<63;function vw(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Js&&i&&i.contentEditable=="false")return wg(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return wg(i);if(o)return wg(o)}}function wg(t){return t.contentEditable="true",Js&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Cw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function h5(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!hT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function m5(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Oc(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ac&&fT<=11&&(r.disabled=!0,r.disabled=!1)}function g5(t,e){if(e instanceof Q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(xw(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else xw(t)}function xw(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function mT(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ae.between(e,n,r)}function y5(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Q0(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ge.findFrom(o,e)}function ps(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Sw(t,e,n){let r=t.state.selection;if(r instanceof ae){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Q0(t.state,e);return i&&i instanceof Q?ps(t,i):!1}else if(!(mr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Q.isSelectable(o)?ps(t,new Q(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):H1?ps(t,new ae(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof Q&&r.node.isInline)return ps(t,new ae(e>0?r.$to:r.$from));{let i=Q0(t.state,e);return i?ps(t,i):!1}}}function tp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Iu(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Eg(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(uh&&n.nodeType==1&&r<tp(n)&&Iu(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Iu(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(gT(n))break;{let l=n.previousSibling;for(;l&&Iu(l);)i=n.parentNode,o=Oc(l),l=l.previousSibling;if(l)n=l,r=tp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Z0(t,e,n,r):i&&Z0(t,e,i,o)}function bg(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=tp(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Iu(l))o=n,s=++r;else break}else{if(gT(n))break;{let l=n.nextSibling;for(;l&&Iu(l);)o=l.parentNode,s=Oc(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=tp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Z0(t,e,o,s)}function gT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Z0(t,e,n,r){if(dT(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&V1(t)},50)}function Dw(t,e,n){let r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1||mr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Q0(t.state,e);if(s&&s instanceof Q)return ps(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Xn?ge.near(s,e):ge.findFrom(s,e);return l?ps(t,l):!1}return!1}function ww(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Ew(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function v5(t){if(!Js||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ew(t,r,"true"),setTimeout(()=>Ew(t,r,"false"),20)}return!1}function C5(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function x5(t,e){let n=e.keyCode,r=C5(e);return n==8||mr&&n==72&&r=="c"?ww(t,-1)||Eg(t):n==46||mr&&n==68&&r=="c"?ww(t,1)||bg(t):n==13||n==27?!0:n==37||mr&&n==66&&r=="c"?Sw(t,-1,r)||Eg(t):n==39||mr&&n==70&&r=="c"?Sw(t,1,r)||bg(t):n==38||mr&&n==80&&r=="c"?Dw(t,-1,r)||Eg(t):n==40||mr&&n==78&&r=="c"?v5(t)||Dw(t,1,r)||bg(t):r==(mr?"m":"c")&&(n==66||n==73||n==89||n==90)}function yT(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=t.someProp("clipboardSerializer")||Nn.fromSchema(t.state.schema),l=wT(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,h=0;for(;f&&f.nodeType==1&&(d=DT[f.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let v=l.createElement(d[g]);for(;u.firstChild;)v.appendChild(u.firstChild);u.appendChild(v),h++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:m}}function vT(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",m=>{e=m(e,o||r)}),o)return e?new te(U.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let h=t.someProp("clipboardTextParser",m=>m(e,i,r));if(h)l=h;else{let m=i.marks(),{schema:g}=t.state,v=Nn.fromSchema(g);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let k=s.appendChild(document.createElement("p"));x&&k.appendChild(v.serializeNode(g.text(x,m)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n)}),s=w5(n),H1&&E5(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0&&s.firstChild;h--)s=s.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ro.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!S5.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=b5(bw(l,+d[1],+d[2]),d[4]);else if(l=te.maxOpen(D5(l.content,i),!0),l.openStart||l.openEnd){let h=0,m=0;for(let g=l.content.firstChild;h<l.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=l.content.lastChild;m<l.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);l=bw(l,h,m)}return t.someProp("transformPasted",h=>{l=h(l)}),l}const S5=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function D5(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&xT(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=ST(s[s.length-1],o.length));let d=CT(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return U.from(s)}return t}function CT(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,U.from(t));return t}function xT(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=xT(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(U.from(CT(n,t,i+1))))}}function ST(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,ST(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(U.empty,!0);return t.copy(n.append(r))}function ey(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=ey(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(U.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function bw(t,e,n){return e<t.openStart&&(t=new te(ey(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(ey(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const DT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kw=null;function wT(){return kw||(kw=document.implementation.createHTMLDocument("title"))}function w5(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=wT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&DT[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function E5(t){let e=t.querySelectorAll(qs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function b5(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=U.from(u.create(r[l+1],i)),o++,s++}return new te(i,o,s)}const yi={};let er={};function ws(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}er.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!bT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Tc&&qs&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),$1&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,pT(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||x5(t,n)?n.preventDefault():ws(t,"key")};er.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};er.keypress=(t,e)=>{let n=e;if(bT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||mr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ch(t){return{left:t.clientX,top:t.clientY}}function k5(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function W1(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function ea(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function A5(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Q.isSelectable(r)?(ea(t,new Q(n),"pointer"),!0):!1}function T5(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Q&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(Q.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(ea(t,Q.create(t.state.doc,i),"pointer"),!0):!1}function O5(t,e,n,r,i){return W1(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?T5(t,n):A5(t,n))}function M5(t,e,n,r){return W1(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function N5(t,e,n,r){return W1(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||_5(t,n,r)}function _5(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ea(t,ae.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)ea(t,ae.create(r,l+1,l+1+s.content.size),"pointer");else if(Q.isSelectable(s))ea(t,Q.create(r,l),"pointer");else continue;return!0}}function U1(t){return np(t)}const ET=mr?"metaKey":"ctrlKey";yi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=U1(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&k5(n,t.input.lastClick)&&!n[ET]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(ch(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new F5(t,s,n,!!r)):(o=="doubleClick"?M5:N5)(t,s.pos,s.inside,n)?n.preventDefault():ws(t,"pointer"))};class F5{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ET],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof Q&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&uh&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ws(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>V1(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ch(e))),this.allowDefault||!n?ws(this.view,"pointer"):O5(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Js&&this.mightDrag&&!this.mightDrag.node.isAtom||qs&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ea(this.view,ge.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):ws(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),ws(this.view,"pointer"),e.buttons==0&&this.done()}}yi.touchdown=t=>{U1(t),ws(t,"pointer")};yi.contextmenu=t=>U1(t);function bT(t,e){return t.composing?!0:Js&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const R5=Tc?5e3:-1;er.compositionstart=er.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),np(t,!0),t.markCursor=null;else if(np(t),uh&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}kT(t,R5)};er.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,kT(t,20))};function kT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>np(t),e))}function P5(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=I5());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function I5(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function np(t,e=!1){if(!(Tc&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),P5(t),e||t.docView&&t.docView.dirty){let n=p5(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function L5(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const xa=Ac&&fT<15||$1&&a5<604;yi.copy=er.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=xa?null:n.clipboardData,s=r.content(),{dom:l,text:u}=yT(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):L5(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function B5(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function z5(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ty(t,r.value,null,e):ty(t,r.textContent,r.innerHTML,e)},50)}function ty(t,e,n,r){let i=vT(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||te.empty)))return!0;if(!i)return!1;let o=B5(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}er.paste=(t,e)=>{let n=e;if(t.composing&&!Tc)return;let r=xa?null:n.clipboardData;r&&ty(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():z5(t,n)};class $5{constructor(e,n){this.slice=e,this.move=n}}const AT=mr?"altKey":"ctrlKey";yi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(ch(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Q?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,f.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:u}=yT(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(xa?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",xa||n.dataTransfer.setData("text/plain",u),t.dragging=new $5(s,!n[AT])};yi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};er.dragover=er.dragenter=(t,e)=>e.preventDefault();er.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ch(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",v=>{s=v(s)}):s=vT(t,n.dataTransfer.getData(xa?"Text":"text/plain"),xa?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[AT]);if(t.someProp("handleDrop",v=>v(t,n,s||te.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?jp(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=t.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=f.doc;if(h?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(m))return;let g=f.doc.resolve(d);if(h&&Q.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new Q(g));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((x,k,S,b)=>v=b),f.setSelection(mT(t,g,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};yi.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&V1(t)},20))};yi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yi.beforeinput=(t,e)=>{if(qs&&Tc&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,pT(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in er)yi[t]=er[t];function mc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class j1{constructor(e,n){this.toDOM=e,this.spec=n||_s,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new ui(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof j1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&mc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Oo{constructor(e,n){this.attrs=e,this.spec=n||_s}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new ui(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Oo&&mc(this.attrs,e.attrs)&&mc(this.spec,e.spec)}static is(e){return e.type instanceof Oo}destroy(){}}class K1{constructor(e,n){this.attrs=e,this.spec=n||_s}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new ui(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof K1&&mc(this.attrs,e.attrs)&&mc(this.spec,e.spec)}destroy(){}}class ui{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ui(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ui(e,e,new j1(n,r))}static inline(e,n,r,i){return new ui(e,n,new Oo(r,i))}static node(e,n,r,i){return new ui(e,n,new K1(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Oo}}const Dl=[],_s={};class sn{constructor(e,n){this.local=e.length?e:Dl,this.children=n.length?n:Dl}static create(e,n){return n.length?rp(n,e,0,_s):mn}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==mn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||_s)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?H5(this.children,s||[],e,n,r,i,o):s?new sn(s.sort(Fs),Dl):mn}add(e,n){return n.length?this==mn?sn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,u)=>{let f=u+r,d;if(!!(d=OT(n,l,f))){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,rp(d,l,f+1,_s)),o+=3}});let s=TT(o?MT(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new sn(s.length?this.local.concat(s).sort(Fs):this.local,i||this.children)}remove(e){return e.length==0||this==mn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<u&&(e[d]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=mn?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new sn(i,r):mn}forChild(e,n){if(this==mn)return this;if(n.isLeaf)return sn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof Oo){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new sn(i.sort(Fs),Dl);return r?new hs([l,r]):l}return r||mn}eq(e){if(this==e)return!0;if(!(e instanceof sn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return q1(this.localsInner(e))}localsInner(e){if(this==mn)return Dl;if(e.inlineContent||!this.local.some(Oo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Oo||n.push(this.local[r]);return n}}sn.empty=new sn([],[]);sn.removeOverlap=q1;const mn=sn.empty;class hs{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,_s));return hs.from(r)}forChild(e,n){if(n.isLeaf)return sn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=mn&&(o instanceof hs?r=r.concat(o.members):r.push(o))}return hs.from(r)}eq(e){if(!(e instanceof hs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?q1(r?n:n.sort(Fs)):Dl}static from(e){switch(e.length){case 0:return mn;case 1:return e[0];default:return new hs(e)}}}function H5(t,e,n,r,i,o,s){let l=t.slice(),u=(d,h,m,g)=>{for(let v=0;v<l.length;v+=3){let x=l[v+1],k;if(x<0||d>x+o)continue;let S=l[v]+o;h>=S?l[v+1]=d<=S?-2:-1:m>=i&&(k=g-m-(h-d))&&(l[v]+=k,l[v+1]+=k)}};for(let d=0;d<n.maps.length;d++)n.maps[d].forEach(u);let f=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){f=!0,l[d+1]=-1;continue}let h=n.map(t[d]+o),m=h-i;if(m<0||m>=r.content.size){f=!0;continue}let g=n.map(t[d+1]+o,-1),v=g-i,{index:x,offset:k}=r.content.findIndex(m),S=r.maybeChild(x);if(S&&k==m&&k+S.nodeSize==v){let b=l[d+2].mapInner(n,S,h+1,t[d]+o+1,s);b!=mn?(l[d]=m,l[d+1]=v,l[d+2]=b):(l[d+1]=-2,f=!0)}else f=!0}if(f){let d=V5(l,t,e,n,i,o,s),h=rp(d,r,0,s);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let v=h.children[m];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new sn(e.sort(Fs),l)}function TT(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ui(i.from+e,i.to+e,i.type))}return n}function V5(t,e,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let h=u.local[d].map(r,i,f);h?n.push(h):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+o+1);return n}function OT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function MT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function rp(t,e,n,r){let i=[],o=!1;e.forEach((l,u)=>{let f=OT(t,l,u+n);if(f){o=!0;let d=rp(f,l,n+u+1,r);d!=mn&&i.push(u,u+l.nodeSize,d)}});let s=TT(o?MT(t):t,-n).sort(Fs);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new sn(s,i):mn}function Fs(t,e){return t.from-e.from||t.to-e.to}function q1(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Aw(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Aw(e,i,r.copy(o.from,r.to)));break}}}return e}function Aw(t,e,n){for(;e<t.length&&Fs(n,t[e])>0;)e++;t.splice(e,0,n)}class pt extends ge{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return pt.valid(r)?new pt(r):ge.near(r)}content(){return te.empty}eq(e){return e instanceof pt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pt(e.resolve(n.pos))}getBookmark(){return new J1(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!W5(e)||!U5(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&pt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let u=e.doc.resolve(i);if(pt.valid(u))return u}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Q.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(pt.valid(l))return l}return null}}}pt.prototype.visible=!1;pt.findFrom=pt.findGapCursorFrom;ge.jsonID("gapcursor",pt);class J1{constructor(e){this.pos=e}map(e){return new J1(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return pt.valid(n)?new pt(n):ge.near(n)}}function W5(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function U5(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function j5(){return new Dt({props:{decorations:G5,createSelectionBetween(t,e,n){return e.pos==n.pos&&pt.valid(n)?new pt(n):null},handleClick:q5,handleKeyDown:K5,handleDOMEvents:{beforeinput:J5}}})}const K5=A1({ArrowLeft:jf("horiz",-1),ArrowRight:jf("horiz",1),ArrowUp:jf("vert",-1),ArrowDown:jf("vert",1)});function jf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,u=s.empty;if(s instanceof ae){if(!o.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=pt.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new pt(f))),!0):!1}}function q5(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!pt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Q.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new pt(r))),!0)}function J5(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof pt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=U.empty;for(let s=r.length-1;s>=0;s--)i=U.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new te(i,0,0));return o.setSelection(ae.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function G5(t){if(!(t.selection instanceof pt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",sn.create(t.doc,[ui.widget(t.selection.head,e,{key:"gapcursor"})])}const Y5=Sn.create({name:"gapCursor",addProseMirrorPlugins(){return[j5()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ne(de(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var ip=200,Jt=function(){};Jt.prototype.append=function(e){return e.length?(e=Jt.from(e),!this.length&&e||e.length<ip&&this.leafAppend(e)||this.length<ip&&e.leafPrepend(this)||this.appendInner(e)):this};Jt.prototype.prepend=function(e){return e.length?Jt.from(e).append(this):this};Jt.prototype.appendInner=function(e){return new X5(this,e)};Jt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Jt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Jt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Jt.from=function(e){return e instanceof Jt?e:e&&e.length?new NT(e):Jt.empty};var NT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var u=o;u<s;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var u=o-1;u>=s;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ip)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ip)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Jt);Jt.empty=new NT([]);var X5=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Jt),_T=Jt;const Q5=500;class $r{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,u,f=[],d=[];return this.items.forEach((h,m)=>{if(!h.step){i||(i=this.remapping(r,m+1),o=i.maps.length),o--,d.push(h);return}if(i){d.push(new ni(h.map));let g=h.step.map(i.slice(o)),v;g&&s.maybeStep(g).doc&&(v=s.mapping.maps[s.mapping.maps.length-1],f.push(new ni(v,void 0,void 0,f.length+d.length))),o--,v&&i.appendMap(v,o)}else s.maybeStep(h.step);if(h.selection)return l=i?h.selection.map(i.slice(o)):h.selection,u=new $r(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),m=new ni(e.mapping.maps[d],h,n),g;(g=u&&u.merge(m))&&(m=g,d?o.pop():l=l.slice(0,l.length-1)),o.push(m),n&&(s++,n=void 0),i||(u=m)}let f=s-r.depth;return f>eH&&(l=Z5(l,f),s-=f),new $r(l.append(o),s)}remapping(e,n){let r=new Xl;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new $r(this.items.append(e.map(n=>new ni(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},i);let u=n;this.items.forEach(m=>{let g=o.getMirror(--u);if(g==null)return;s=Math.min(s,g);let v=o.maps[g];if(m.step){let x=e.steps[g].invert(e.docs[g]),k=m.selection&&m.selection.map(o.slice(u+1,g));k&&l++,r.push(new ni(v,x,k))}else r.push(new ni(v))},i);let f=[];for(let m=n;m<s;m++)f.push(new ni(o.maps[m]));let d=this.items.slice(0,i).append(f).append(r),h=new $r(d,l);return h.emptyItemCount()>Q5&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let h=new ni(f.invert(),u,d),m,g=i.length-1;(m=i.length&&i[g].merge(h))?i[g]=m:i.push(h)}}else s.map&&r--},this.items.length,0),new $r(_T.from(i.reverse()),o)}}$r.empty=new $r(_T.empty,0);function Z5(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ni{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ni(n.getMap().invert(),n,this.selection)}}}class uo{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const eH=20;function tH(t,e,n,r){let i=n.getMeta(Mo),o;if(i)return i.historyState;n.getMeta(rH)&&(t=new uo(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Mo))return s.getMeta(Mo).redo?new uo(t.done.addTransform(n,void 0,r,fd(e)),t.undone,Tw(n.mapping.maps[n.steps.length-1]),t.prevTime):new uo(t.done,t.undone.addTransform(n,void 0,r,fd(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!nH(n,t.prevRanges)),u=s?kg(t.prevRanges,n.mapping):Tw(n.mapping.maps[n.steps.length-1]);return new uo(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,fd(e)),$r.empty,u,n.time)}else return(o=n.getMeta("rebased"))?new uo(t.done.rebased(n,o),t.undone.rebased(n,o),kg(t.prevRanges,n.mapping),t.prevTime):new uo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),kg(t.prevRanges,n.mapping),t.prevTime)}function nH(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Tw(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function kg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function FT(t,e,n,r){let i=fd(e),o=Mo.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),f=new uo(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(l).setMeta(Mo,{redo:r,historyState:f}).scrollIntoView())}let Ag=!1,Ow=null;function fd(t){let e=t.plugins;if(Ow!=e){Ag=!1,Ow=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Ag=!0;break}}return Ag}const Mo=new Xt("history"),rH=new Xt("closeHistory");function iH(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Dt({key:Mo,state:{init(){return new uo($r.empty,$r.empty,null,0)},apply(e,n,r){return tH(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?RT:r=="historyRedo"?PT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const RT=(t,e)=>{let n=Mo.getState(t);return!n||n.done.eventCount==0?!1:(e&&FT(n,t,e,!1),!0)},PT=(t,e)=>{let n=Mo.getState(t);return!n||n.undone.eventCount==0?!1:(e&&FT(n,t,e,!0),!0)},oH=Sn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>RT(t,e),redo:()=>({state:t,dispatch:e})=>PT(t,e)}},addProseMirrorPlugins(){return[iH(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),sH=Yt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",St(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&s){const h=u.filter(m=>l.includes(m.type.name));f.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lH=Yt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,St(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>W8({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),aH=Yt.create({name:"doc",topNode:!0,content:"dBlock+"}),uH=({node:t,getPos:e,editor:n})=>{const r=be.exports.useMemo(()=>{const{content:o}=t.content;return o[0].type.name==="table"},[t.content]);return Ve(z1,{as:"div",className:"flex gap-2 group w-full",children:[Ve("section",{className:"flex mt-2 pt-[2px] gap-1","aria-label":"left-menu",contentEditable:"false",children:[re("button",{type:"button",className:"d-block-button group-hover:opacity-100",onClick:()=>{const o=e()+t.nodeSize;n.commands.insertContentAt(o,{type:"dBlock",content:[{type:"paragraph"}]})},children:re("i",{className:"i-mdi-plus"})}),re("div",{className:"d-block-button group-hover:opacity-100",contentEditable:!1,draggable:!0,"data-drag-handle":!0,children:re("i",{className:"i-ic-baseline-drag-indicator"})})]}),re(uT,{className:`node-view-content w-full ${r?"ml-6":""}`})]})},cH=Yt.create({name:"dBlock",priority:1e3,group:"dBlock",content:"block",draggable:!0,selectable:!1,inline:!1,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="d-block"]'}]},renderHTML({HTMLAttributes:t}){return["div",St(t,{"data-type":"d-block"}),0]},addCommands(){return{setDBlock:t=>({state:e,chain:n})=>{const{selection:{from:r}}=e,i=t!==void 0||t!==null?r:t;return n().insertContentAt(i,{type:this.name,content:[{type:"paragraph"}]}).focus(i+2).run()}}},addNodeView(){return ah(uH)},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setDBlock(),Enter:({editor:t})=>{var u;const{selection:{$head:e,from:n,to:r},doc:i}=t.state;if(e.node(e.depth-1).type.name!=="dBlock")return!1;let s=-1;i.descendants((f,d)=>{if(s!==-1)return!1;if(f.type.name===this.name)return;const[h,m]=[d,d+f.nodeSize];return h<=n&&r<=m&&(s=m),!1});const l=(u=i.slice(n,s))==null?void 0:u.toJSON().content;return t.chain().insertContentAt({from:n,to:s},{type:this.name,content:l}).focus(n+4).run()}}}});function G1(t){this.j={},this.jr=[],this.jd=null,this.t=t}G1.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,i=this.j[e];if(i)return r&&(i.t=r),i;i=Xe();var o=op(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[e]=i,i}};var Xe=function(){return new G1},Se=function(e){return new G1(e)},ie=function(e,n,r){e.j[n]||(e.j[n]=r)},Mt=function(e,n,r){e.jr.push([n,r])},op=function(e,n){var r=e.j[n];if(r)return r;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(n))return s}return e.jd},Pe=function(e,n,r){for(var i=0;i<n.length;i++)ie(e,n[i],r)},fH=function(e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];ie(e,i,o)}},as=function(e,n,r,i){for(var o=0,s=n.length,l;o<s&&(l=e.j[n[o]]);)e=l,o++;if(o>=s)return[];for(;o<s-1;)l=i(),ie(e,n[o],l),e=l,o++;ie(e,n[s-1],r)},Ir="DOMAIN",Ri="LOCALHOST",ri="TLD",pr="NUM",Sa="PROTOCOL",Y1="MAILTO",IT="WS",X1="NL",$l="OPENBRACE",Lu="OPENBRACKET",Bu="OPENANGLEBRACKET",zu="OPENPAREN",ms="CLOSEBRACE",Hl="CLOSEBRACKET",Vl="CLOSEANGLEBRACKET",Wl="CLOSEPAREN",sp="AMPERSAND",lp="APOSTROPHE",ap="ASTERISK",Ul="AT",up="BACKSLASH",cp="BACKTICK",fp="CARET",$u="COLON",Q1="COMMA",dp="DOLLAR",co="DOT",pp="EQUALS",Z1="EXCLAMATION",hp="HYPHEN",mp="PERCENT",gp="PIPE",yp="PLUS",vp="POUND",Cp="QUERY",ev="QUOTE",tv="SEMI",Ii="SLASH",xp="TILDE",Sp="UNDERSCORE",Dp="SYM",dH=Object.freeze({__proto__:null,DOMAIN:Ir,LOCALHOST:Ri,TLD:ri,NUM:pr,PROTOCOL:Sa,MAILTO:Y1,WS:IT,NL:X1,OPENBRACE:$l,OPENBRACKET:Lu,OPENANGLEBRACKET:Bu,OPENPAREN:zu,CLOSEBRACE:ms,CLOSEBRACKET:Hl,CLOSEANGLEBRACKET:Vl,CLOSEPAREN:Wl,AMPERSAND:sp,APOSTROPHE:lp,ASTERISK:ap,AT:Ul,BACKSLASH:up,BACKTICK:cp,CARET:fp,COLON:$u,COMMA:Q1,DOLLAR:dp,DOT:co,EQUALS:pp,EXCLAMATION:Z1,HYPHEN:hp,PERCENT:mp,PIPE:gp,PLUS:yp,POUND:vp,QUERY:Cp,QUOTE:ev,SEMI:tv,SLASH:Ii,TILDE:xp,UNDERSCORE:Sp,SYM:Dp}),Mw="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),uu=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,cu=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,fu=/\uFE0F/,du=/\d/,Nw=/\s/;function pH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=Xe(),n=Se(pr),r=Se(Ir),i=Xe(),o=Se(IT),s=[[du,r],[uu,r],[cu,r],[fu,r]],l=function(){var w=Se(Ir);return w.j={"-":i},w.jr=[].concat(s),w},u=function(w){var R=l();return R.t=w,R};fH(e,[["'",Se(lp)],["{",Se($l)],["[",Se(Lu)],["<",Se(Bu)],["(",Se(zu)],["}",Se(ms)],["]",Se(Hl)],[">",Se(Vl)],[")",Se(Wl)],["&",Se(sp)],["*",Se(ap)],["@",Se(Ul)],["`",Se(cp)],["^",Se(fp)],[":",Se($u)],[",",Se(Q1)],["$",Se(dp)],[".",Se(co)],["=",Se(pp)],["!",Se(Z1)],["-",Se(hp)],["%",Se(mp)],["|",Se(gp)],["+",Se(yp)],["#",Se(vp)],["?",Se(Cp)],['"',Se(ev)],["/",Se(Ii)],[";",Se(tv)],["~",Se(xp)],["_",Se(Sp)],["\\",Se(up)]]),ie(e,`
`,Se(X1)),Mt(e,Nw,o),ie(o,`
`,Xe()),Mt(o,Nw,o);for(var f=0;f<Mw.length;f++)as(e,Mw[f],u(ri),l);var d=l(),h=l(),m=l(),g=l();as(e,"file",d,l),as(e,"ftp",h,l),as(e,"http",m,l),as(e,"mailto",g,l);var v=l(),x=Se(Sa),k=Se(Y1);ie(h,"s",v),ie(h,":",x),ie(m,"s",v),ie(m,":",x),ie(d,":",x),ie(v,":",x),ie(g,":",k);for(var S=l(),b=0;b<t.length;b++)as(e,t[b],S,l);return ie(S,":",x),as(e,"localhost",u(Ri),l),Mt(e,du,n),Mt(e,uu,r),Mt(e,cu,r),Mt(e,fu,r),Mt(n,du,n),Mt(n,uu,r),Mt(n,cu,r),Mt(n,fu,r),ie(n,"-",i),ie(r,"-",i),ie(i,"-",i),Mt(r,du,r),Mt(r,uu,r),Mt(r,cu,r),Mt(r,fu,r),Mt(i,du,r),Mt(i,uu,r),Mt(i,cu,r),Mt(i,fu,r),e.jd=Se(Dp),e}function hH(t,e){for(var n=mH(e.replace(/[A-Z]/g,function(g){return g.toLowerCase()})),r=n.length,i=[],o=0,s=0;s<r;){for(var l=t,u=null,f=0,d=null,h=-1,m=-1;s<r&&(u=op(l,n[s]));)l=u,l.accepts()?(h=0,m=0,d=l):h>=0&&(h+=n[s].length,m++),f+=n[s].length,o+=n[s].length,s++;o-=h,s-=m,f-=h,i.push({t:d.t,v:e.substr(o-f,f),s:o-f,e:o})}return i}function mH(t){for(var e=[],n=t.length,r=0;r<n;){var i=t.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function dd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dd=function(e){return typeof e}:dd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var rn={defaultProtocol:"http",events:null,format:_w,formatHref:_w,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function gH(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:rn.defaultProtocol,this.events="events"in t?t.events:rn.events,this.format="format"in t?t.format:rn.format,this.formatHref="formatHref"in t?t.formatHref:rn.formatHref,this.nl2br="nl2br"in t?t.nl2br:rn.nl2br,this.tagName="tagName"in t?t.tagName:rn.tagName,this.target="target"in t?t.target:rn.target,this.rel="rel"in t?t.rel:rn.rel,this.validate="validate"in t?t.validate:rn.validate,this.truncate="truncate"in t?t.truncate:rn.truncate,this.className="className"in t?t.className:rn.className,this.attributes=t.attributes||rn.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:rn.ignoreTags,n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}gH.prototype={resolve:function(e){var n=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",n,e),tagName:this.get("tagName",n,e),className:this.get("className",n,e),target:this.get("target",n,e),rel:this.get("rel",n,e),events:this.getObject("events",n,e),attributes:this.getObject("attributes",n,e),truncate:this.get("truncate",n,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,r){var i=this[e];if(!i)return i;var o;switch(dd(i)){case"function":return i(n,r.t);case"object":return o=r.t in i?i[r.t]:rn[e],typeof o=="function"?o(n,r.t):o}return i},getObject:function(e,n,r){var i=this[e];return typeof i=="function"?i(n,r.t):i}};function _w(t){return t}function yH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r.constructor=e,e.prototype=r,e}function wp(){}wp.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rn.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Gs(t,e){function n(r,i){this.t=t,this.v=r,this.tk=i}return yH(wp,n,e),n}var LT=Gs("email",{isLink:!0}),ny=Gs("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),ry=Gs("text"),BT=Gs("nl"),so=Gs("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rn.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],s=0;n[s].t===Sa;)r=!0,o.push(n[s].v),s++;for(;n[s].t===Ii;)i=!0,o.push(n[s].v),s++;for(;s<n.length;s++)o.push(n[s].v);return o=o.join(""),r||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Sa}}),vH=Object.freeze({__proto__:null,MultiToken:wp,Base:wp,createTokenClass:Gs,MailtoEmail:LT,Email:ny,Text:ry,Nl:BT,Url:so});function CH(){var t=Xe(),e=Xe(),n=Xe(),r=Xe(),i=Xe(),o=Xe(),s=Xe(),l=Se(so),u=Xe(),f=Se(so),d=Se(so),h=Xe(),m=Xe(),g=Xe(),v=Xe(),x=Xe(),k=Se(so),S=Se(so),b=Se(so),A=Se(so),w=Xe(),R=Xe(),P=Xe(),$=Xe(),F=Xe(),Z=Xe(),ee=Se(ny),oe=Xe(),ne=Se(ny),ye=Se(LT),he=Xe(),H=Xe(),I=Xe(),K=Xe(),_=Se(BT);ie(t,X1,_),ie(t,Sa,e),ie(t,Y1,n),ie(e,Ii,r),ie(r,Ii,i),ie(t,ri,o),ie(t,Ir,o),ie(t,Ri,l),ie(t,pr,o),ie(i,ri,d),ie(i,Ir,d),ie(i,pr,d),ie(i,Ri,d),ie(o,co,s),ie(F,co,Z),ie(s,ri,l),ie(s,Ir,o),ie(s,pr,o),ie(s,Ri,o),ie(Z,ri,ee),ie(Z,Ir,F),ie(Z,pr,F),ie(Z,Ri,F),ie(l,co,s),ie(ee,co,Z),ie(l,$u,u),ie(l,Ii,d),ie(u,pr,f),ie(f,Ii,d),ie(ee,$u,oe),ie(oe,pr,ne);var L=[sp,ap,Ul,up,cp,fp,dp,Ir,pp,hp,Ri,pr,mp,gp,yp,vp,Sa,Ii,Dp,xp,ri,Sp],B=[lp,Vl,ms,Hl,Wl,$u,Q1,co,Z1,Bu,$l,Lu,zu,Cp,ev,tv];ie(d,$l,m),ie(d,Lu,g),ie(d,Bu,v),ie(d,zu,x),ie(h,$l,m),ie(h,Lu,g),ie(h,Bu,v),ie(h,zu,x),ie(m,ms,d),ie(g,Hl,d),ie(v,Vl,d),ie(x,Wl,d),ie(k,ms,d),ie(S,Hl,d),ie(b,Vl,d),ie(A,Wl,d),ie(w,ms,d),ie(R,Hl,d),ie(P,Vl,d),ie($,Wl,d),Pe(m,L,k),Pe(g,L,S),Pe(v,L,b),Pe(x,L,A),Pe(m,B,w),Pe(g,B,R),Pe(v,B,P),Pe(x,B,$),Pe(k,L,k),Pe(S,L,S),Pe(b,L,b),Pe(A,L,A),Pe(k,B,k),Pe(S,B,S),Pe(b,B,b),Pe(A,B,A),Pe(w,L,k),Pe(R,L,S),Pe(P,L,b),Pe($,L,A),Pe(w,B,w),Pe(R,B,R),Pe(P,B,P),Pe($,B,$),Pe(d,L,d),Pe(h,L,d),Pe(d,B,h),Pe(h,B,h),ie(n,ri,ye),ie(n,Ir,ye),ie(n,pr,ye),ie(n,Ri,ye),Pe(ye,L,ye),Pe(ye,B,he),Pe(he,L,ye),Pe(he,B,he);var J=[sp,lp,ap,up,cp,fp,ms,dp,Ir,pp,hp,pr,$l,mp,gp,yp,vp,Cp,Ii,Dp,xp,ri,Sp];return Pe(o,J,H),ie(o,Ul,I),Pe(l,J,H),ie(l,Ul,I),Pe(s,J,H),Pe(H,J,H),ie(H,Ul,I),ie(H,co,K),Pe(K,J,H),ie(I,ri,F),ie(I,Ir,F),ie(I,pr,F),ie(I,Ri,ee),t}function xH(t,e,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var l=t,u=null,f=null,d=0,h=null,m=-1;i<r&&!(u=op(l,n[i].t));)s.push(n[i++]);for(;i<r&&(f=u||op(l,n[i].t));)u=null,l=f,l.accepts()?(m=0,h=l):m>=0&&m++,i++,d++;if(m<0)for(var g=i-d;g<i;g++)s.push(n[g]);else{s.length>0&&(o.push(Tg(ry,e,s)),s=[]),i-=m,d-=m;var v=h.t,x=n.slice(i-d,i);o.push(Tg(v,e,x))}}return s.length>0&&o.push(Tg(ry,e,s)),o}function Tg(t,e,n){var r=n[0].s,i=n[n.length-1].e,o=e.substr(r,i-r);return new t(o,n)}var SH=typeof console!="undefined"&&console&&console.warn||function(){},Kn={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function DH(t){if(Kn.initialized&&SH('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Kn.customProtocols.push(t)}function wH(){Kn.scanner={start:pH(Kn.customProtocols),tokens:dH},Kn.parser={start:CH(),tokens:vH};for(var t={createTokenClass:Gs},e=0;e<Kn.pluginQueue.length;e++)Kn.pluginQueue[e][1]({scanner:Kn.scanner,parser:Kn.parser,utils:t});Kn.initialized=!0}function zT(t){return Kn.initialized||wH(),xH(Kn.parser.start,t,hH(Kn.scanner.start,t))}function nv(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=zT(t),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!e||o.t===e)&&r.push(o.toObject())}return r}function iy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=zT(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function EH(t){return new Dt({key:new Xt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),o=e.some(d=>d.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=I8(n.doc,[...e]),{mapping:u}=l;if($8(l).forEach(({oldRange:d,newRange:h})=>{Xd(d.from,d.to,n.doc).filter(m=>m.mark.type===t.type).forEach(m=>{const g=u.map(m.from),v=u.map(m.to),x=Xd(g,v,r.doc).filter(R=>R.mark.type===t.type);if(!x.length)return;const k=x[0],S=n.doc.textBetween(m.from,m.to,void 0," "),b=r.doc.textBetween(k.from,k.to,void 0," "),A=iy(S),w=iy(b);A&&!w&&s.removeMark(k.from,k.to,t.type)}),L8(r.doc,h,m=>m.isTextblock).forEach(m=>{const g=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");nv(g).filter(v=>v.isLink).filter(v=>t.validate?t.validate(v.value):!0).map(v=>({...v,from:m.pos+v.start+1,to:m.pos+v.end+1})).filter(v=>{const x=h.from>=v.from&&h.from<=v.to,k=h.to>=v.from&&h.to<=v.to;return x||k}).forEach(v=>{s.addMark(v.from,v.to,t.type.create({href:v.href}))})})}),!!s.steps.length)return s}})}function bH(t){return new Dt({key:new Xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s;const i=zA(e.state,t.type.name);return((s=r.target)==null?void 0:s.closest("a"))&&i.href?(window.open(i.href,i.target),!0):!1}}})}function kH(t){return new Dt({key:new Xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=nv(l).find(f=>f.isLink&&f.value===l);return!l||!u?!1:(t.editor.commands.setMark(t.type,{href:u.href}),!0)}}})}const AH=Bo.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(DH)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0,onModKPressed:()=>!1}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ha({find:t=>nv(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addKeyboardShortcuts(){return{"Mod-k":()=>{var t,e;return(e=(t=this.options).onModKPressed)==null||e.call(t),!1}}},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(EH({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(bH({type:this.type})),this.options.linkOnPaste&&t.push(kH({editor:this.editor,type:this.type})),t}}),TH=Yt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",St(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}}}),$o=typeof navigator!="undefined"?navigator:null,Fw=typeof document!="undefined"?document:null,Go=$o&&$o.userAgent||"",oy=/Edge\/(\d+)/.exec(Go),$T=/MSIE \d/.exec(Go),sy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Go),Mc=!!($T||sy||oy),HT=$T?document.documentMode:sy?+sy[1]:oy?+oy[1]:0,fh=!Mc&&/gecko\/(\d+)/i.test(Go);fh&&+(/Firefox\/(\d+)/.exec(Go)||[0,0])[1];const ly=!Mc&&/Chrome\/(\d+)/.exec(Go),Ys=!!ly,OH=ly?+ly[1]:0,Xs=!Mc&&!!$o&&/Apple Computer/.test($o.vendor),rv=Xs&&(/Mobile\/\w+/.test(Go)||!!$o&&$o.maxTouchPoints>2),gr=rv||($o?/Mac/.test($o.platform):!1),Nc=/Android \d/.test(Go),iv=!!Fw&&"webkitFontSmoothing"in Fw.documentElement.style,MH=iv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,_c=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},NH=function(t,e,n,r){return n&&(Rw(t,e,n,r,-1)||Rw(t,e,n,r,1))},_H=/^(img|br|input|textarea|hr)$/i;function Rw(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ep(t))){let o=t.parentNode;if(!o||o.nodeType!=1||RH(t)||_H.test(t.nodeName)||t.contentEditable=="false")return!1;e=_c(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ep(t):0}else return!1}}function Ep(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function FH(t,e,n){for(let r=e==0,i=e==Ep(t);r||i;){if(t==n)return!0;let o=_c(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Ep(t)}}function RH(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const VT=function(t){let e=t.isCollapsed;return e&&Ys&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function WT(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function PH(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(VT(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Q.isSelectable(d)&&i.parent&&!(d.isInline&&FH(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;f=new Q(s==h?l:r.resolve(h))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;f=jT(t,u,l,d)}return f}function UT(t){return t.editable?t.hasFocus():zH(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ov(t,e=!1){let n=t.state.selection;if(BH(t,n),!!UT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ys){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&NH(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)LH(t);else{let{anchor:r,head:i}=n,o,s;Pw&&!(n instanceof ae)&&(n.$from.parent.inlineContent||(o=Iw(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Iw(t,n.to))),t.docView.setSelection(r,i,t.root,e),Pw&&(o&&Lw(o),s&&Lw(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&IH(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Pw=Xs||Ys&&OH<63;function Iw(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Xs&&i&&i.contentEditable=="false")return Og(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Og(i);if(o)return Og(o)}}function Og(t){return t.contentEditable="true",Xs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Lw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function IH(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!UT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function LH(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,_c(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Mc&&HT<=11&&(r.disabled=!0,r.disabled=!1)}function BH(t,e){if(e instanceof Q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Bw(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Bw(t)}function Bw(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function jT(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ae.between(e,n,r)}function zH(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ay(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ge.findFrom(o,e)}function gs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function zw(t,e,n){let r=t.state.selection;if(r instanceof ae){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=ay(t.state,e);return i&&i instanceof Q?gs(t,i):!1}else if(!(gr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Q.isSelectable(o)?gs(t,new Q(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):iv?gs(t,new ae(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof Q&&r.node.isInline)return gs(t,new ae(e>0?r.$to:r.$from));{let i=ay(t.state,e);return i?gs(t,i):!1}}}function bp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Hu(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Mg(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(fh&&n.nodeType==1&&r<bp(n)&&Hu(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Hu(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(KT(n))break;{let l=n.previousSibling;for(;l&&Hu(l);)i=n.parentNode,o=_c(l),l=l.previousSibling;if(l)n=l,r=bp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?uy(t,e,n,r):i&&uy(t,e,i,o)}function Ng(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=bp(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Hu(l))o=n,s=++r;else break}else{if(KT(n))break;{let l=n.nextSibling;for(;l&&Hu(l);)o=l.parentNode,s=_c(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=bp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&uy(t,e,o,s)}function KT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function uy(t,e,n,r){if(VT(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ov(t)},50)}function $w(t,e,n){let r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1||gr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=ay(t.state,e);if(s&&s instanceof Q)return gs(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Xn?ge.near(s,e):ge.findFrom(s,e);return l?gs(t,l):!1}return!1}function Hw(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Vw(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $H(t){if(!Xs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Vw(t,r,"true"),setTimeout(()=>Vw(t,r,"false"),20)}return!1}function HH(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function VH(t,e){let n=e.keyCode,r=HH(e);return n==8||gr&&n==72&&r=="c"?Hw(t,-1)||Mg(t):n==46||gr&&n==68&&r=="c"?Hw(t,1)||Ng(t):n==13||n==27?!0:n==37||gr&&n==66&&r=="c"?zw(t,-1,r)||Mg(t):n==39||gr&&n==70&&r=="c"?zw(t,1,r)||Ng(t):n==38||gr&&n==80&&r=="c"?$w(t,-1,r)||Mg(t):n==40||gr&&n==78&&r=="c"?$H(t)||$w(t,1,r)||Ng(t):r==(gr?"m":"c")&&(n==66||n==73||n==89||n==90)}function qT(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=t.someProp("clipboardSerializer")||Nn.fromSchema(t.state.schema),l=ZT(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,h=0;for(;f&&f.nodeType==1&&(d=QT[f.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let v=l.createElement(d[g]);for(;u.firstChild;)v.appendChild(u.firstChild);u.appendChild(v),h++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:m}}function JT(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",m=>{e=m(e,o||r)}),o)return e?new te(U.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let h=t.someProp("clipboardTextParser",m=>m(e,i,r));if(h)l=h;else{let m=i.marks(),{schema:g}=t.state,v=Nn.fromSchema(g);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let k=s.appendChild(document.createElement("p"));x&&k.appendChild(v.serializeNode(g.text(x,m)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n)}),s=jH(n),iv&&KH(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0&&s.firstChild;h--)s=s.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ro.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!WH.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=qH(Ww(l,+d[1],+d[2]),d[4]);else if(l=te.maxOpen(UH(l.content,i),!0),l.openStart||l.openEnd){let h=0,m=0;for(let g=l.content.firstChild;h<l.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=l.content.lastChild;m<l.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);l=Ww(l,h,m)}return t.someProp("transformPasted",h=>{l=h(l)}),l}const WH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function UH(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&YT(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=XT(s[s.length-1],o.length));let d=GT(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return U.from(s)}return t}function GT(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,U.from(t));return t}function YT(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=YT(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(U.from(GT(n,t,i+1))))}}function XT(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XT(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(U.empty,!0);return t.copy(n.append(r))}function cy(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=cy(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(U.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Ww(t,e,n){return e<t.openStart&&(t=new te(cy(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(cy(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const QT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Uw=null;function ZT(){return Uw||(Uw=document.implementation.createHTMLDocument("title"))}function jH(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=ZT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&QT[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function KH(t){let e=t.querySelectorAll(Ys?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function qH(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=U.from(u.create(r[l+1],i)),o++,s++}return new te(i,o,s)}const vi={};let tr={};function Es(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}tr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!tO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Nc&&Ys&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),rv&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,WT(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||VH(t,n)?n.preventDefault():Es(t,"key")};tr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};tr.keypress=(t,e)=>{let n=e;if(tO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function dh(t){return{left:t.clientX,top:t.clientY}}function JH(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function sv(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function ta(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function GH(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Q.isSelectable(r)?(ta(t,new Q(n),"pointer"),!0):!1}function YH(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Q&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(Q.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(ta(t,Q.create(t.state.doc,i),"pointer"),!0):!1}function XH(t,e,n,r,i){return sv(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?YH(t,n):GH(t,n))}function QH(t,e,n,r){return sv(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function ZH(t,e,n,r){return sv(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||e7(t,n,r)}function e7(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ta(t,ae.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)ta(t,ae.create(r,l+1,l+1+s.content.size),"pointer");else if(Q.isSelectable(s))ta(t,Q.create(r,l),"pointer");else continue;return!0}}function lv(t){return kp(t)}const eO=gr?"metaKey":"ctrlKey";vi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=lv(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&JH(n,t.input.lastClick)&&!n[eO]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(dh(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new t7(t,s,n,!!r)):(o=="doubleClick"?QH:ZH)(t,s.pos,s.inside,n)?n.preventDefault():Es(t,"pointer"))};class t7{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[eO],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof Q&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fh&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Es(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ov(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(dh(e))),this.allowDefault||!n?Es(this.view,"pointer"):XH(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xs&&this.mightDrag&&!this.mightDrag.node.isAtom||Ys&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ta(this.view,ge.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Es(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Es(this.view,"pointer"),e.buttons==0&&this.done()}}vi.touchdown=t=>{lv(t),Es(t,"pointer")};vi.contextmenu=t=>lv(t);function tO(t,e){return t.composing?!0:Xs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const n7=Nc?5e3:-1;tr.compositionstart=tr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),kp(t,!0),t.markCursor=null;else if(kp(t),fh&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}nO(t,n7)};tr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,nO(t,20))};function nO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>kp(t),e))}function r7(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=i7());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function i7(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function kp(t,e=!1){if(!(Nc&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),r7(t),e||t.docView&&t.docView.dirty){let n=PH(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function o7(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Da=Mc&&HT<15||rv&&MH<604;vi.copy=tr.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Da?null:n.clipboardData,s=r.content(),{dom:l,text:u}=qT(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):o7(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function s7(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function l7(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?fy(t,r.value,null,e):fy(t,r.textContent,r.innerHTML,e)},50)}function fy(t,e,n,r){let i=JT(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||te.empty)))return!0;if(!i)return!1;let o=s7(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}tr.paste=(t,e)=>{let n=e;if(t.composing&&!Nc)return;let r=Da?null:n.clipboardData;r&&fy(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():l7(t,n)};class a7{constructor(e,n){this.slice=e,this.move=n}}const rO=gr?"altKey":"ctrlKey";vi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(dh(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Q?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&t.dispatch(t.state.tr.setSelection(Q.create(t.state.doc,f.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:u}=qT(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Da?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Da||n.dataTransfer.setData("text/plain",u),t.dragging=new a7(s,!n[rO])};vi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};tr.dragover=tr.dragenter=(t,e)=>e.preventDefault();tr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(dh(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",v=>{s=v(s)}):s=JT(t,n.dataTransfer.getData(Da?"Text":"text/plain"),Da?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[rO]);if(t.someProp("handleDrop",v=>v(t,n,s||te.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?jp(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=t.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=f.doc;if(h?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(m))return;let g=f.doc.resolve(d);if(h&&Q.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new Q(g));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((x,k,S,b)=>v=b),f.setSelection(jT(t,g,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};vi.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&ov(t)},20))};vi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vi.beforeinput=(t,e)=>{if(Ys&&Nc&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,WT(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in tr)vi[t]=tr[t];function gc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class av{constructor(e,n){this.toDOM=e,this.spec=n||Rs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Vr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof av&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class No{constructor(e,n){this.attrs=e,this.spec=n||Rs}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Vr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof No&&gc(this.attrs,e.attrs)&&gc(this.spec,e.spec)}static is(e){return e.type instanceof No}destroy(){}}class uv{constructor(e,n){this.attrs=e,this.spec=n||Rs}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Vr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof uv&&gc(this.attrs,e.attrs)&&gc(this.spec,e.spec)}destroy(){}}class Vr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Vr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Vr(e,e,new av(n,r))}static inline(e,n,r,i){return new Vr(e,n,new No(r,i))}static node(e,n,r,i){return new Vr(e,n,new uv(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof No}}const wl=[],Rs={};class jt{constructor(e,n){this.local=e.length?e:wl,this.children=n.length?n:wl}static create(e,n){return n.length?Ap(n,e,0,Rs):gn}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==gn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Rs)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?u7(this.children,s||[],e,n,r,i,o):s?new jt(s.sort(Ps),wl):gn}add(e,n){return n.length?this==gn?jt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,u)=>{let f=u+r,d;if(!!(d=oO(n,l,f))){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,Ap(d,l,f+1,Rs)),o+=3}});let s=iO(o?sO(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new jt(s.length?this.local.concat(s).sort(Ps):this.local,i||this.children)}remove(e){return e.length==0||this==gn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<u&&(e[d]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=gn?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new jt(i,r):gn}forChild(e,n){if(this==gn)return this;if(n.isLeaf)return jt.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof No){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new jt(i.sort(Ps),wl);return r?new ys([l,r]):l}return r||gn}eq(e){if(this==e)return!0;if(!(e instanceof jt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return cv(this.localsInner(e))}localsInner(e){if(this==gn)return wl;if(e.inlineContent||!this.local.some(No.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof No||n.push(this.local[r]);return n}}jt.empty=new jt([],[]);jt.removeOverlap=cv;const gn=jt.empty;class ys{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Rs));return ys.from(r)}forChild(e,n){if(n.isLeaf)return jt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=gn&&(o instanceof ys?r=r.concat(o.members):r.push(o))}return ys.from(r)}eq(e){if(!(e instanceof ys)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?cv(r?n:n.sort(Ps)):wl}static from(e){switch(e.length){case 0:return gn;case 1:return e[0];default:return new ys(e)}}}function u7(t,e,n,r,i,o,s){let l=t.slice(),u=(d,h,m,g)=>{for(let v=0;v<l.length;v+=3){let x=l[v+1],k;if(x<0||d>x+o)continue;let S=l[v]+o;h>=S?l[v+1]=d<=S?-2:-1:m>=i&&(k=g-m-(h-d))&&(l[v]+=k,l[v+1]+=k)}};for(let d=0;d<n.maps.length;d++)n.maps[d].forEach(u);let f=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){f=!0,l[d+1]=-1;continue}let h=n.map(t[d]+o),m=h-i;if(m<0||m>=r.content.size){f=!0;continue}let g=n.map(t[d+1]+o,-1),v=g-i,{index:x,offset:k}=r.content.findIndex(m),S=r.maybeChild(x);if(S&&k==m&&k+S.nodeSize==v){let b=l[d+2].mapInner(n,S,h+1,t[d]+o+1,s);b!=gn?(l[d]=m,l[d+1]=v,l[d+2]=b):(l[d+1]=-2,f=!0)}else f=!0}if(f){let d=c7(l,t,e,n,i,o,s),h=Ap(d,r,0,s);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let v=h.children[m];for(;g<l.length&&l[g]<v;)g+=3;l.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new jt(e.sort(Ps),l)}function iO(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Vr(i.from+e,i.to+e,i.type))}return n}function c7(t,e,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let h=u.local[d].map(r,i,f);h?n.push(h):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+o+1);return n}function oO(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function sO(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ap(t,e,n,r){let i=[],o=!1;e.forEach((l,u)=>{let f=oO(t,l,u+n);if(f){o=!0;let d=Ap(f,l,n+u+1,r);d!=gn&&i.push(u,u+l.nodeSize,d)}});let s=iO(o?sO(t):t,-n).sort(Ps);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new jt(s,i):gn}function Ps(t,e){return t.from-e.from||t.to-e.to}function cv(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),jw(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),jw(e,i,r.copy(o.from,r.to)));break}}}return e}function jw(t,e,n){for(;e<t.length&&Ps(n,t[e])>0;)e++;t.splice(e,0,n)}let dy,py;if(typeof WeakMap!="undefined"){let t=new WeakMap;dy=e=>t.get(e),py=(e,n)=>(t.set(e,n),n)}else{let t=[],e=10,n=0;dy=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},py=(r,i)=>(n==e&&(n=0),t[n++]=r,t[n++]=i)}class wa{constructor(e,n,r,i){this.left=e,this.top=n,this.right=r,this.bottom=i}}class ht{constructor(e,n,r,i){this.width=e,this.height=n,this.map=r,this.problems=i}findCell(e){for(let n=0;n<this.map.length;n++){let r=this.map[n];if(r!=e)continue;let i=n%this.width,o=n/this.width|0,s=i+1,l=o+1;for(let u=1;s<this.width&&this.map[n+u]==r;u++)s++;for(let u=1;l<this.height&&this.map[n+this.width*u]==r;u++)l++;return new wa(i,o,s,l)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,n,r){let{left:i,right:o,top:s,bottom:l}=this.findCell(e);return n=="horiz"?(r<0?i==0:o==this.width)?null:this.map[s*this.width+(r<0?i-1:o)]:(r<0?s==0:l==this.height)?null:this.map[i+this.width*(r<0?s-1:l)]}rectBetween(e,n){let{left:r,right:i,top:o,bottom:s}=this.findCell(e),{left:l,right:u,top:f,bottom:d}=this.findCell(n);return new wa(Math.min(r,l),Math.min(o,f),Math.max(i,u),Math.max(s,d))}cellsInRect(e){let n=[],r={};for(let i=e.top;i<e.bottom;i++)for(let o=e.left;o<e.right;o++){let s=i*this.width+o,l=this.map[s];r[l]||(r[l]=!0,(o!=e.left||!o||this.map[s-1]!=l)&&(i!=e.top||!i||this.map[s-this.width]!=l)&&n.push(l))}return n}positionAt(e,n,r){for(let i=0,o=0;;i++){let s=o+r.child(i).nodeSize;if(i==e){let l=n+e*this.width,u=(e+1)*this.width;for(;l<u&&this.map[l]<o;)l++;return l==u?s-1:this.map[l]}o=s}}static get(e){return dy(e)||py(e,f7(e))}}function f7(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);let e=d7(t),n=t.childCount,r=[],i=0,o=null,s=[];for(let f=0,d=e*n;f<d;f++)r[f]=0;for(let f=0,d=0;f<n;f++){let h=t.child(f);d++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==h.childCount)break;let x=h.child(v),{colspan:k,rowspan:S,colwidth:b}=x.attrs;for(let A=0;A<S;A++){if(A+f>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:S-A});break}let w=i+A*e;for(let R=0;R<k;R++){r[w+R]==0?r[w+R]=d:(o||(o=[])).push({type:"collision",row:f,pos:d,n:k-R});let P=b&&b[R];if(P){let $=(w+R)%e*2,F=s[$];F==null||F!=P&&s[$+1]==1?(s[$]=P,s[$+1]=1):F==P&&s[$+1]++}}}i+=k,d+=x.nodeSize}let m=(f+1)*e,g=0;for(;i<m;)r[i++]==0&&g++;g&&(o||(o=[])).push({type:"missing",row:f,n:g}),d++}let l=new ht(e,n,r,o),u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&p7(l,s,t),l}function d7(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){let i=t.child(r),o=0;if(n)for(let s=0;s<r;s++){let l=t.child(s);for(let u=0;u<l.childCount;u++){let f=l.child(u);s+f.attrs.rowspan>r&&(o+=f.attrs.colspan)}}for(let s=0;s<i.childCount;s++){let l=i.child(s);o+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function p7(t,e,n){t.problems||(t.problems=[]);for(let r=0,i={};r<t.map.length;r++){let o=t.map[r];if(i[o])continue;i[o]=!0;let s=n.nodeAt(o),l=null;for(let u=0;u<s.attrs.colspan;u++){let f=(r+u)%t.width,d=e[f*2];d!=null&&(!s.attrs.colwidth||s.attrs.colwidth[u]!=d)&&((l||(l=h7(s.attrs)))[u]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}function h7(t){if(t.colwidth)return t.colwidth.slice();let e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function cn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(let n in t.nodes){let r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}const mo=new Xt("selectingCells");function Oa(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function m7(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Jr(t){let e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function ph(t){let e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:Oa(e.$head)||g7(e.$head)}function g7(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){let r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){let r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function hy(t){return t.parent.type.spec.tableRole=="row"&&t.nodeAfter}function y7(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function fv(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function lO(t,e,n){let r=t.start(-1),o=ht.get(t.node(-1)).nextCell(t.pos-r,e,n);return o==null?null:t.node(0).resolve(r+o)}function Rt(t,e,n){let r={};for(let i in t)r[i]=t[i];return r[e]=n,r}function Us(t,e,n=1){let r=Rt(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function aO(t,e,n=1){let r=Rt(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function v7(t,e,n){let r=cn(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}class He extends ge{constructor(e,n=e){let r=e.node(-1),i=ht.get(r),o=e.start(-1),s=i.rectBetween(e.pos-o,n.pos-o),l=e.node(0),u=i.cellsInRect(s).filter(d=>d!=n.pos-o);u.unshift(n.pos-o);let f=u.map(d=>{let h=r.nodeAt(d),m=d+o+1;return new Vk(l.resolve(m),l.resolve(m+h.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){let r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(hy(r)&&hy(i)&&fv(r,i)){let o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?He.rowSelection(r,i):o&&this.isColSelection()?He.colSelection(r,i):new He(r,i)}return ae.between(r,i)}content(){let e=this.$anchorCell.node(-1),n=ht.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let u=i.top;u<i.bottom;u++){let f=[];for(let d=u*n.width+i.left,h=i.left;h<i.right;h++,d++){let m=n.map[d];if(!o[m]){o[m]=!0;let g=n.findCell(m),v=e.nodeAt(m),x=i.left-g.left,k=g.right-i.right;if(x>0||k>0){let S=v.attrs;x>0&&(S=Us(S,0,x)),k>0&&(S=Us(S,S.colspan-k,k)),g.left<i.left?v=v.type.createAndFill(S):v=v.type.create(S,v.content)}if(g.top<i.top||g.bottom>i.bottom){let S=Rt(v.attrs,"rowspan",Math.min(g.bottom,i.bottom)-Math.max(g.top,i.top));g.top<i.top?v=v.type.createAndFill(S):v=v.type.create(S,v.content)}f.push(v)}}s.push(e.child(u).copy(U.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new te(U.from(l),1,1)}replace(e,n=te.empty){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:u}=i[s],f=e.mapping.slice(r);e.replace(f.map(l.pos),f.map(u.pos),s?te.empty:n)}let o=ge.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new te(U.from(n),0,0))}forEachCell(e){let n=this.$anchorCell.node(-1),r=ht.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)e(n.nodeAt(o[s]),i+o[s])}isColSelection(){let e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;let r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){let r=ht.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),l=e.node(0);return o.top<=s.top?(o.top>0&&(e=l.resolve(i+r.map[o.left])),s.bottom<r.height&&(n=l.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+r.map[s.left])),o.bottom<r.height&&(e=l.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new He(e,n)}isRowSelection(){let e=ht.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;let o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==e.width}eq(e){return e instanceof He&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){let r=ht.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),l=e.node(0);return o.left<=s.left?(o.left>0&&(e=l.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(n=l.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(e=l.resolve(i+r.map[r.width*(o.top+1)-1]))),new He(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new He(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new He(e.resolve(n),e.resolve(r))}getBookmark(){return new dv(this.$anchorCell.pos,this.$headCell.pos)}}He.prototype.visible=!1;ge.jsonID("cell",He);class dv{constructor(e,n){this.anchor=e,this.head=n}map(e){return new dv(e.map(this.anchor),e.map(this.head))}resolve(e){let n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&fv(n,r)?new He(n,r):ge.near(r,1)}}function C7(t){if(!(t.selection instanceof He))return null;let e=[];return t.selection.forEachCell((n,r)=>{e.push(Vr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),jt.create(t.doc,e)}function x7({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function S7({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){let o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){let o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function D7(t,e,n){let r=(e||t).selection,i=(e||t).doc,o,s;if(r instanceof Q&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=He.create(i,r.from);else if(s=="row"){let l=i.resolve(r.from+1);o=He.rowSelection(l,l)}else if(!n){let l=ht.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];o=He.create(i,u+1,f)}}else r instanceof ae&&x7(r)?o=ae.create(i,r.from):r instanceof ae&&S7(r)&&(o=ae.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}function w7(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;let i=e.firstChild,o=i.type.spec.tableRole,s=i.type.schema,l=[];if(o=="row")for(let u=0;u<e.childCount;u++){let f=e.child(u).content,d=u?0:Math.max(0,n-1),h=u<e.childCount-1?0:Math.max(0,r-1);(d||h)&&(f=my(cn(s).row,new te(f,d,h)).content),l.push(f)}else if(o=="cell"||o=="header_cell")l.push(n||r?my(cn(s).row,new te(e,n,r)).content:e);else return null;return E7(s,l)}function E7(t,e){let n=[];for(let i=0;i<e.length;i++){let o=e[i];for(let s=o.childCount-1;s>=0;s--){let{rowspan:l,colspan:u}=o.child(s).attrs;for(let f=i;f<i+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(U.empty),n[i]<r){let o=cn(t).cell.createAndFill(),s=[];for(let l=n[i];l<r;l++)s.push(o);e[i]=e[i].append(U.from(s))}return{height:e.length,width:r,rows:e}}function my(t,e){let n=t.createAndFill();return new m1(n).replace(0,n.content.size,e).doc}function b7({width:t,height:e,rows:n},r,i){if(t!=r){let o=[],s=[];for(let l=0;l<n.length;l++){let u=n[l],f=[];for(let d=o[l]||0,h=0;d<r;h++){let m=u.child(h%u.childCount);d+m.attrs.colspan>r&&(m=m.type.create(Us(m.attrs,m.attrs.colspan,d+m.attrs.colspan-r),m.content)),f.push(m),d+=m.attrs.colspan;for(let g=1;g<m.attrs.rowspan;g++)o[l+g]=(o[l+g]||0)+m.attrs.colspan}s.push(U.from(f))}n=s,t=r}if(e!=i){let o=[];for(let s=0,l=0;s<i;s++,l++){let u=[],f=n[l%e];for(let d=0;d<f.childCount;d++){let h=f.child(d);s+h.attrs.rowspan>i&&(h=h.type.create(Rt(h.attrs,"rowspan",Math.max(1,i-h.attrs.rowspan)),h.content)),u.push(h)}o.push(U.from(u))}n=o,e=i}return{width:t,height:e,rows:n}}function k7(t,e,n,r,i,o,s){let l=t.doc.type.schema,u=cn(l),f,d;if(i>e.width)for(let h=0,m=0;h<e.height;h++){let g=n.child(h);m+=g.nodeSize;let v=[],x;g.lastChild==null||g.lastChild.type==u.cell?x=f||(f=u.cell.createAndFill()):x=d||(d=u.header_cell.createAndFill());for(let k=e.width;k<i;k++)v.push(x);t.insert(t.mapping.slice(s).map(m-1+r),v)}if(o>e.height){let h=[];for(let v=0,x=(e.height-1)*e.width;v<Math.max(e.width,i);v++){let k=v>=e.width?!1:n.nodeAt(e.map[x+v]).type==u.header_cell;h.push(k?d||(d=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}let m=u.row.create(null,U.from(h)),g=[];for(let v=e.height;v<o;v++)g.push(m);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),g)}return!!(f||d)}function Kw(t,e,n,r,i,o,s,l){if(s==0||s==e.height)return!1;let u=!1;for(let f=i;f<o;f++){let d=s*e.width+f,h=e.map[d];if(e.map[d-e.width]==h){u=!0;let m=n.nodeAt(h),{top:g,left:v}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,Rt(m.attrs,"rowspan",s-g)),t.insert(t.mapping.slice(l).map(e.positionAt(s,v,n)),m.type.createAndFill(Rt(m.attrs,"rowspan",g+m.attrs.rowspan-s))),f+=m.attrs.colspan-1}}return u}function qw(t,e,n,r,i,o,s,l){if(s==0||s==e.width)return!1;let u=!1;for(let f=i;f<o;f++){let d=f*e.width+s,h=e.map[d];if(e.map[d-1]==h){u=!0;let m=n.nodeAt(h),g=e.colCount(h),v=t.mapping.slice(l).map(h+r);t.setNodeMarkup(v,null,Us(m.attrs,s-g,m.attrs.colspan-(s-g))),t.insert(v+m.nodeSize,m.type.createAndFill(Us(m.attrs,0,s-g))),f+=m.attrs.rowspan-1}}return u}function Jw(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc,s=ht.get(o),{top:l,left:u}=r,f=u+i.width,d=l+i.height,h=t.tr,m=0;function g(){o=n?h.doc.nodeAt(n-1):h.doc,s=ht.get(o),m=h.mapping.maps.length}k7(h,s,o,n,f,d,m)&&g(),Kw(h,s,o,n,u,f,l,m)&&g(),Kw(h,s,o,n,u,f,d,m)&&g(),qw(h,s,o,n,l,d,u,m)&&g(),qw(h,s,o,n,l,d,f,m)&&g();for(let v=l;v<d;v++){let x=s.positionAt(v,u,o),k=s.positionAt(v,f,o);h.replace(h.mapping.slice(m).map(x+n),h.mapping.slice(m).map(k+n),new te(i.rows[v-l],0,0))}g(),h.setSelection(new He(h.doc.resolve(n+s.positionAt(l,u,o)),h.doc.resolve(n+s.positionAt(d-1,f-1,o)))),e(h)}const A7=A1({ArrowLeft:Kf("horiz",-1),ArrowRight:Kf("horiz",1),ArrowUp:Kf("vert",-1),ArrowDown:Kf("vert",1),"Shift-ArrowLeft":qf("horiz",-1),"Shift-ArrowRight":qf("horiz",1),"Shift-ArrowUp":qf("vert",-1),"Shift-ArrowDown":qf("vert",1),Backspace:Jf,"Mod-Backspace":Jf,Delete:Jf,"Mod-Delete":Jf});function pd(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Kf(t,e){return(n,r,i)=>{let o=n.selection;if(o instanceof He)return pd(n,r,ge.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;let s=uO(i,t,e);if(s==null)return!1;if(t=="horiz")return pd(n,r,ge.near(n.doc.resolve(o.head+e),e));{let l=n.doc.resolve(s),u=lO(l,t,e),f;return u?f=ge.near(u,1):e<0?f=ge.near(n.doc.resolve(l.before(-1)),-1):f=ge.near(n.doc.resolve(l.after(-1)),1),pd(n,r,f)}}}function qf(t,e){return(n,r,i)=>{let o=n.selection;if(!(o instanceof He)){let l=uO(i,t,e);if(l==null)return!1;o=new He(n.doc.resolve(l))}let s=lO(o.$headCell,t,e);return s?pd(n,r,new He(o.$anchorCell,s)):!1}}function Jf(t,e){let n=t.selection;if(!(n instanceof He))return!1;if(e){let r=t.tr,i=cn(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new te(i,0,0))}),r.docChanged&&e(r)}return!0}function T7(t,e){let n=t.state.doc,r=Oa(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new He(r))),!0):!1}function O7(t,e,n){if(!Jr(t.state))return!1;let r=w7(n),i=t.state.selection;if(i instanceof He){r||(r={width:1,height:1,rows:[U.from(my(cn(t.state.schema).cell,n))]});let o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=ht.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=b7(r,l.right-l.left,l.bottom-l.top),Jw(t.state,t.dispatch,s,l,r),!0}else if(r){let o=ph(t.state),s=o.start(-1);return Jw(t.state,t.dispatch,s,ht.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function M7(t,e){if(e.ctrlKey||e.metaKey)return;let n=Gw(t,e.target),r;if(e.shiftKey&&t.state.selection instanceof He)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(r=Oa(t.state.selection.$anchor))!=null&&_g(t,e).pos!=r.pos)i(r,e),e.preventDefault();else if(!n)return;function i(l,u){let f=_g(t,u),d=mo.getState(t.state)==null;if(!f||!fv(l,f))if(d)f=l;else return;let h=new He(l,f);if(d||!t.state.selection.eq(h)){let m=t.state.tr.setSelection(h);d&&m.setMeta(mo,l.pos),t.dispatch(m)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",s),mo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(mo,-1))}function s(l){let u=mo.getState(t.state),f;if(u!=null)f=t.state.doc.resolve(u);else if(Gw(t,l.target)!=n&&(f=_g(t,e),!f))return o();f&&i(f,l)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",s)}function uO(t,e,n){if(!(t.state.selection instanceof ae))return null;let{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){let o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){let l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}function Gw(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function _g(t,e){let n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Oa(t.state.doc.resolve(n.pos)):null}const N7=new Xt("fix-tables");function cO(t,e,n,r){let i=t.childCount,o=e.childCount;e:for(let s=0,l=0;s<o;s++){let u=e.child(s);for(let f=l,d=Math.min(i,s+3);f<d;f++)if(t.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?cO(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function fO(t,e){let n,r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=_7(t,i,o,n))};return e?e.doc!=t.doc&&cO(e.doc,t.doc,0,r):t.doc.descendants(r),n}function _7(t,e,n,r){let i=ht.get(e);if(!i.problems)return r;r||(r=t.tr);let o=[];for(let u=0;u<i.height;u++)o.push(0);for(let u=0;u<i.problems.length;u++){let f=i.problems[u];if(f.type=="collision"){let d=e.nodeAt(f.pos);for(let h=0;h<d.attrs.rowspan;h++)o[f.row+h]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,Us(d.attrs,d.attrs.colspan-f.n,f.n))}else if(f.type=="missing")o[f.row]+=f.n;else if(f.type=="overlong_rowspan"){let d=e.nodeAt(f.pos);r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,Rt(d.attrs,"rowspan",d.attrs.rowspan-f.n))}else if(f.type=="colwidth mismatch"){let d=e.nodeAt(f.pos);r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,Rt(d.attrs,"colwidth",f.colwidth))}}let s,l;for(let u=0;u<o.length;u++)o[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<i.height;u++){let d=e.child(u),h=f+d.nodeSize,m=o[u];if(m>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);let v=[];for(let k=0;k<m;k++)v.push(cn(t.schema)[g].createAndFill());let x=(u==0||s==u-1)&&l==u?f+1:h-1;r.insert(r.mapping.map(x),v)}f=h}return r.setMeta(N7,{fixTables:!0})}function Ci(t){let e=t.selection,n=ph(t),r=n.node(-1),i=n.start(-1),o=ht.get(r),s;return e instanceof He?s=o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s=o.findCell(n.pos-i),s.tableStart=i,s.map=o,s.table=r,s}function dO(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;v7(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){let l=s*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){let u=e.map[l],f=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,aO(f.attrs,i-e.colCount(u))),s+=f.attrs.rowspan-1}else{let u=o==null?cn(r.type.schema).cell:r.nodeAt(e.map[l+o]).type,f=e.positionAt(s,i,r);t.insert(t.mapping.map(n+f),u.createAndFill())}}return t}function F7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t);e(dO(t.tr,n,n.left))}return!0}function R7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t);e(dO(t.tr,n,n.right))}return!0}function P7(t,{map:e,table:n,tableStart:r},i){let o=t.mapping.maps.length;for(let s=0;s<e.height;){let l=s*e.width+i,u=e.map[l],f=n.nodeAt(u);if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(o).map(r+u),null,Us(f.attrs,i-e.colCount(u)));else{let d=t.mapping.slice(o).map(r+u);t.delete(d,d+f.nodeSize)}s+=f.attrs.rowspan}}function I7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;P7(r,n,i),i!=n.left;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=ht.get(n.table);e(r)}return!0}function L7(t,e,n){let r=cn(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(e.nodeAt(t.map[i+n*t.width]).type!=r)return!1;return!0}function pO(t,{map:e,tableStart:n,table:r},i){let o=n;for(let u=0;u<i;u++)o+=r.child(u).nodeSize;let s=[],l=i>0?-1:0;L7(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let u=0,f=e.width*i;u<e.width;u++,f++)if(i>0&&i<e.height&&e.map[f]==e.map[f-e.width]){let d=e.map[f],h=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,Rt(h,"rowspan",h.rowspan+1)),u+=h.colspan-1}else{let d=l==null?cn(r.type.schema).cell:r.nodeAt(e.map[f+l*e.width]).type;s.push(d.createAndFill())}return t.insert(o,cn(r.type.schema).row.create(null,s)),t}function B7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t);e(pO(t.tr,n,n.top))}return!0}function z7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t);e(pO(t.tr,n,n.bottom))}return!0}function $7(t,{map:e,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;let s=o+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(o+r,s+r);for(let u=0,f=i*e.width;u<e.width;u++,f++){let d=e.map[f];if(i>0&&d==e.map[f-e.width]){let h=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+r),null,Rt(h,"rowspan",h.rowspan-1)),u+=h.colspan-1}else if(i<e.width&&d==e.map[f+e.width]){let h=n.nodeAt(d),m=h.type.create(Rt(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),g=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+g),m),u+=h.attrs.colspan-1}}}function H7(t,e){if(!Jr(t))return!1;if(e){let n=Ci(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;$7(r,n,i),i!=n.top;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=ht.get(n.table);e(r)}return!0}function Yw(t){let e=t.content;return e.childCount==1&&e.firstChild.isTextblock&&e.firstChild.childCount==0}function V7({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,s=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[l]==n[l+1])return!0;o+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}function Xw(t,e){let n=t.selection;if(!(n instanceof He)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=Ci(t),{map:i}=r;if(V7(i,r))return!1;if(e){let o=t.tr,s={},l=U.empty,u,f;for(let d=r.top;d<r.bottom;d++)for(let h=r.left;h<r.right;h++){let m=i.map[d*i.width+h],g=r.table.nodeAt(m);if(!s[m])if(s[m]=!0,u==null)u=m,f=g;else{Yw(g)||(l=l.append(g.content));let v=o.mapping.map(m+r.tableStart);o.delete(v,v+g.nodeSize)}}if(o.setNodeMarkup(u+r.tableStart,null,Rt(aO(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),"rowspan",r.bottom-r.top)),l.size){let d=u+1+f.content.size,h=Yw(f)?u+1:d;o.replaceWith(h+r.tableStart,d+r.tableStart,l)}o.setSelection(new He(o.doc.resolve(u+r.tableStart))),e(o)}return!0}function Qw(t,e){const n=cn(t.schema);return W7(({node:r})=>n[r.type.spec.tableRole])(t,e)}function W7(t){return(e,n)=>{let r=e.selection,i,o;if(r instanceof He){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{if(i=m7(r.$from),!i)return!1;o=Oa(r.$from).pos}if(i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let s=i.attrs,l=[],u=s.colwidth;s.rowspan>1&&(s=Rt(s,"rowspan",1)),s.colspan>1&&(s=Rt(s,"colspan",1));let f=Ci(e),d=e.tr;for(let m=0;m<f.right-f.left;m++)l.push(u?Rt(s,"colwidth",u&&u[m]?[u[m]]:null):s);let h;for(let m=f.top;m<f.bottom;m++){let g=f.map.positionAt(m,f.left,f.table);m==f.top&&(g+=i.nodeSize);for(let v=f.left,x=0;v<f.right;v++,x++)v==f.left&&m==f.top||d.insert(h=d.mapping.map(g+f.tableStart,1),t({node:i,row:m,col:v}).createAndFill(l[x]))}d.setNodeMarkup(o,t({node:i,row:f.top,col:f.left}),l[0]),r instanceof He&&d.setSelection(new He(d.doc.resolve(r.$anchorCell.pos),h&&d.doc.resolve(h))),n(d)}return!0}}function U7(t,e){return function(n,r){if(!Jr(n))return!1;let i=ph(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){let o=n.tr;n.selection instanceof He?n.selection.forEachCell((s,l)=>{s.attrs[t]!==e&&o.setNodeMarkup(l,null,Rt(s.attrs,t,e))}):o.setNodeMarkup(i.pos,null,Rt(i.nodeAfter.attrs,t,e)),r(o)}return!0}}function j7(t){return function(e,n){if(!Jr(e))return!1;if(n){let r=cn(e.schema),i=Ci(e),o=e.tr,s=i.map.cellsInRect(t=="column"?new wa(i.left,0,i.right,i.map.height):t=="row"?new wa(0,i.top,i.map.width,i.bottom):i),l=s.map(u=>i.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[u],r.cell,l[u].attrs);if(o.steps.length==0)for(let u=0;u<s.length;u++)o.setNodeMarkup(i.tableStart+s[u],r.header_cell,l[u].attrs);n(o)}return!0}}function Zw(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function yc(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?j7(t):function(n,r){if(!Jr(n))return!1;if(r){let i=cn(n.schema),o=Ci(n),s=n.tr,l=Zw("row",o,i),u=Zw("column",o,i),d=(t==="column"?l:t==="row"?u:!1)?1:0,h=t=="column"?new wa(0,d,1,o.map.height):t=="row"?new wa(d,0,o.map.width,1):o,m=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;o.map.cellsInRect(h).forEach(g=>{const v=g+o.tableStart,x=s.doc.nodeAt(v);x&&s.setNodeMarkup(v,m,x.attrs)}),r(s)}return!0}}yc("row",{useDeprecatedLogic:!0});yc("column",{useDeprecatedLogic:!0});let K7=yc("cell",{useDeprecatedLogic:!0});function q7(t,e){if(e<0){let n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){let o=t.node(-1).child(r);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;let n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){let o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}}function eE(t){return function(e,n){if(!Jr(e))return!1;let r=q7(ph(e),t);if(r!=null){if(n){let i=e.doc.resolve(r);n(e.tr.setSelection(ae.between(i,y7(i))).scrollIntoView())}return!0}}}function J7(t,e){let n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}class G7{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),gy(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,gy(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}}function gy(t,e,n,r,i,o){let s=0,l=!0,u=e.firstChild,f=t.firstChild;for(let d=0,h=0;d<f.childCount;d++){let{colspan:m,colwidth:g}=f.child(d).attrs;for(let v=0;v<m;v++,h++){let x=i==h?o:g&&g[v],k=x?x+"px":"";s+=x||r,x||(l=!1),u?(u.style.width!=k&&(u.style.width=k),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=k}}for(;u;){let d=u.nextSibling;u.parentNode.removeChild(u),u=d}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}const Cr=new Xt("tableColumnResizing");function Y7({handleWidth:t=5,cellMinWidth:e=25,View:n=G7,lastColumnResizable:r=!0}={}){return new Dt({key:Cr,state:{init(o,s){return this.spec.props.nodeViews[cn(s.schema).table.name]=(l,u)=>new n(l,e,u),new Vu(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes(o){return Cr.getState(o).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove(o,s){X7(o,s,t,e,r)},mouseleave(o){Q7(o)},mousedown(o,s){Z7(o,s,e)}},decorations(o){let s=Cr.getState(o);if(s.activeHandle>-1)return o9(o,s.activeHandle)},nodeViews:{}}})}class Vu{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){let n=this,r=e.getMeta(Cr);if(r&&r.setHandle!=null)return new Vu(r.setHandle,null);if(r&&r.setDragging!==void 0)return new Vu(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);hy(e.doc.resolve(i))||(i=null),n=new Vu(i,n.dragging)}return n}}function X7(t,e,n,r,i){let o=Cr.getState(t.state);if(!o.dragging){let s=t9(e.target),l=-1;if(s){let{left:u,right:f}=s.getBoundingClientRect();e.clientX-u<=n?l=tE(t,e,"left"):f-e.clientX<=n&&(l=tE(t,e,"right"))}if(l!=o.activeHandle){if(!i&&l!==-1){let u=t.state.doc.resolve(l),f=u.node(-1),d=ht.get(f),h=u.start(-1);if(d.colCount(u.pos-h)+u.nodeAfter.attrs.colspan-1==d.width-1)return}hO(t,l)}}}function Q7(t){let e=Cr.getState(t.state);e.activeHandle>-1&&!e.dragging&&hO(t,-1)}function Z7(t,e,n){let r=Cr.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;let i=t.state.doc.nodeAt(r.activeHandle),o=e9(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(Cr,{setDragging:{startX:e.clientX,startWidth:o}}));function s(u){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);let f=Cr.getState(t.state);f.dragging&&(n9(t,f.activeHandle,nE(f.dragging,u,n)),t.dispatch(t.state.tr.setMeta(Cr,{setDragging:null})))}function l(u){if(!u.which)return s(u);let f=Cr.getState(t.state),d=nE(f.dragging,u,n);r9(t,f.activeHandle,d,n)}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),e.preventDefault(),!0}function e9(t,e,{colspan:n,colwidth:r}){let i=r&&r[r.length-1];if(i)return i;let o=t.domAtPos(e),l=o.node.childNodes[o.offset].offsetWidth,u=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],u--);return l/u}function t9(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function tE(t,e,n){let r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;let{pos:i}=r,o=Oa(t.state.doc.resolve(i));if(!o)return-1;if(n=="right")return o.pos;let s=ht.get(o.node(-1)),l=o.start(-1),u=s.map.indexOf(o.pos-l);return u%s.width==0?-1:l+s.map[u-1]}function nE(t,e,n){let r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function hO(t,e){t.dispatch(t.state.tr.setMeta(Cr,{setHandle:e}))}function n9(t,e,n){let r=t.state.doc.resolve(e),i=r.node(-1),o=ht.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let f=0;f<o.height;f++){let d=f*o.width+l;if(f&&o.map[d]==o.map[d-o.width])continue;let h=o.map[d],{attrs:m}=i.nodeAt(h),g=m.colspan==1?0:l-o.colCount(h);if(m.colwidth&&m.colwidth[g]==n)continue;let v=m.colwidth?m.colwidth.slice():i9(m.colspan);v[g]=n,u.setNodeMarkup(s+h,null,Rt(m,"colwidth",v))}u.docChanged&&t.dispatch(u)}function r9(t,e,n,r){let i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),l=ht.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,u=t.domAtPos(i.start(-1)).node;for(;u.nodeName!="TABLE";)u=u.parentNode;gy(o,u.firstChild,u,r,l,n)}function i9(t){let e=[];for(let n=0;n<t;n++)e.push(0);return e}function o9(t,e){let n=[],r=t.doc.resolve(e),i=r.node(-1),o=ht.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let u=0;u<o.height;u++){let f=l+u*o.width-1;if((l==o.width||o.map[f]!=o.map[f+1])&&(u==0||o.map[f-1]!=o.map[f-1-o.width])){let d=o.map[f],h=s+d+i.nodeAt(d).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",n.push(Vr.widget(h,m))}}return jt.create(t.doc,n)}function s9({allowTableNodeSelection:t=!1}={}){return new Dt({key:mo,state:{init(){return null},apply(e,n){let r=e.getMeta(mo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;let{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:C7,handleDOMEvents:{mousedown:M7},createSelectionBetween(e){if(mo.getState(e.state)!=null)return e.state.selection},handleTripleClick:T7,handleKeyDown:A7,handlePaste:O7},appendTransaction(e,n,r){return D7(r,fO(r,n),t)}})}function rE(t,e,n,r,i,o){var d;let s=0,l=!0,u=e.firstChild;const f=t.firstChild;if(f)for(let h=0,m=0;h<f.childCount;h+=1){const{colspan:g,colwidth:v}=f.child(h).attrs;for(let x=0;x<g;x+=1,m+=1){const k=i===m?o:v&&v[x],S=k?`${k}px`:"";s+=k||r,k||(l=!1),u?(u.style.width!==S&&(u.style.width=S),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=S}}for(;u;){const h=u.nextSibling;(d=u==null?void 0:u.parentNode)==null||d.removeChild(u),u=h}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class l9{constructor(e,n){ls(this,"node");ls(this,"cellMinWidth");ls(this,"dom");ls(this,"table");ls(this,"colgroup");ls(this,"contentDOM");this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),rE(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,rE(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function iE(t,e){return e?t.createChecked(null,e):t.createAndFill()}function a9(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function u9(t,e,n,r,i){const o=a9(t),s=[],l=[];for(let f=0;f<n;f+=1){const d=iE(o.cell,i);if(d&&l.push(d),r){const h=iE(o.header_cell,i);h&&s.push(h)}}const u=[];for(let f=0;f<e;f+=1)u.push(o.row.createChecked(null,r&&f===0?s:l));return o.table.createChecked(null,u)}function c9(t){return t instanceof He}const Gf=({editor:t})=>{const{selection:e}=t.state;if(!c9(e))return!1;let n=0;const r=BA(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},f9=Yt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:l9,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["table",St(this.options.HTMLAttributes,t),["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=u9(o.schema,t,e,n);if(i){const l=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(ae.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>F7(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>R7(t,e),deleteColumn:()=>({state:t,dispatch:e})=>I7(t,e),addRowBefore:()=>({state:t,dispatch:e})=>B7(t,e),addRowAfter:()=>({state:t,dispatch:e})=>z7(t,e),deleteRow:()=>({state:t,dispatch:e})=>H7(t,e),deleteTable:()=>({state:t,dispatch:e})=>J7(t,e),mergeCells:()=>({state:t,dispatch:e})=>Xw(t,e),splitCell:()=>({state:t,dispatch:e})=>Qw(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>yc("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>yc("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>K7(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Xw(t,e)?!0:Qw(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>U7(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>eE(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>eE(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&fO(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=He.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Gf,"Mod-Backspace":Gf,Delete:Gf,"Mod-Delete":Gf}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Y7({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],s9({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ne(de(t,"tableRole",e))}}});function mO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gO=typeof window!="undefined"&&typeof document!="undefined";function yy(t,e){t&&(typeof t=="function"&&t(e),{}.hasOwnProperty.call(t,"current")&&(t.current=e))}function oE(){return gO&&document.createElement("div")}function d9(t){var e={"data-placement":t.placement};return t.referenceHidden&&(e["data-reference-hidden"]=""),t.escaped&&(e["data-escaped"]=""),e}function yO(t,e){if(t===e)return!0;if(typeof t=="object"&&t!=null&&typeof e=="object"&&e!=null){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(e.hasOwnProperty(n)){if(!yO(t[n],e[n]))return!1}else return!1;return!0}else return!1}function p9(t){var e=[];return t.forEach(function(n){e.find(function(r){return yO(n,r)})||e.push(n)}),e}function h9(t,e){var n,r;return Object.assign({},e,{popperOptions:Object.assign({},t.popperOptions,e.popperOptions,{modifiers:p9([].concat(((n=t.popperOptions)==null?void 0:n.modifiers)||[],((r=e.popperOptions)==null?void 0:r.modifiers)||[]))})})}var Fg=gO?be.exports.useLayoutEffect:be.exports.useEffect;function m9(t){var e=be.exports.useRef();return e.current||(e.current=typeof t=="function"?t():t),e.current}function sE(t,e,n){n.split(/\s+/).forEach(function(r){r&&t.classList[e](r)})}var g9={name:"className",defaultValue:"",fn:function(e){var n=e.popper.firstElementChild,r=function(){var l;return!!((l=e.props.render)!=null&&l.$$tippy)};function i(){e.props.className&&!r()||sE(n,"add",e.props.className)}function o(){r()&&sE(n,"remove",e.props.className)}return{onCreate:i,onBeforeUpdate:o,onAfterUpdate:i}}};function y9(t){function e(n){var r=n.children,i=n.content,o=n.visible,s=n.singleton,l=n.render,u=n.reference,f=n.disabled,d=f===void 0?!1:f,h=n.ignoreAttributes,m=h===void 0?!0:h;n.__source,n.__self;var g=mO(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),v=o!==void 0,x=s!==void 0,k=be.exports.useState(!1),S=k[0],b=k[1],A=be.exports.useState({}),w=A[0],R=A[1],P=be.exports.useState(),$=P[0],F=P[1],Z=m9(function(){return{container:oE(),renders:1}}),ee=Object.assign({ignoreAttributes:m},g,{content:Z.container});v&&(ee.trigger="manual",ee.hideOnClick=!1),x&&(d=!0);var oe=ee,ne=ee.plugins||[];l&&(oe=Object.assign({},ee,{plugins:x&&s.data!=null?[].concat(ne,[{fn:function(){return{onTrigger:function(I,K){var _=s.data.children.find(function(L){var B=L.instance;return B.reference===K.currentTarget});I.state.$$activeSingletonInstance=_.instance,F(_.content)}}}}]):ne,render:function(){return{popper:Z.container}}}));var ye=[u].concat(r?[r.type]:[]);return Fg(function(){var he=u;u&&u.hasOwnProperty("current")&&(he=u.current);var H=t(he||Z.ref||oE(),Object.assign({},oe,{plugins:[g9].concat(ee.plugins||[])}));return Z.instance=H,d&&H.disable(),o&&H.show(),x&&s.hook({instance:H,content:i,props:oe,setSingletonContent:F}),b(!0),function(){H.destroy(),s==null||s.cleanup(H)}},ye),Fg(function(){var he;if(Z.renders===1){Z.renders++;return}var H=Z.instance;H.setProps(h9(H.props,oe)),(he=H.popperInstance)==null||he.forceUpdate(),d?H.disable():H.enable(),v&&(o?H.show():H.hide()),x&&s.hook({instance:H,content:i,props:oe,setSingletonContent:F})}),Fg(function(){var he;if(!!l){var H=Z.instance;H.setProps({popperOptions:Object.assign({},H.props.popperOptions,{modifiers:[].concat((((he=H.props.popperOptions)==null?void 0:he.modifiers)||[]).filter(function(I){var K=I.name;return K!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(K){var _,L=K.state,B=(_=L.modifiersData)==null?void 0:_.hide;(w.placement!==L.placement||w.referenceHidden!==(B==null?void 0:B.isReferenceHidden)||w.escaped!==(B==null?void 0:B.hasPopperEscaped))&&R({placement:L.placement,referenceHidden:B==null?void 0:B.isReferenceHidden,escaped:B==null?void 0:B.hasPopperEscaped}),L.attributes.popper={}}}])})})}},[w.placement,w.referenceHidden,w.escaped].concat(ye)),Ve(lh,{children:[r?be.exports.cloneElement(r,{ref:function(H){Z.ref=H,yy(r.ref,H)}}):null,S&&Tp.exports.createPortal(l?l(d9(w),$,Z.instance):i,Z.container)]})}return e}var v9=function(t,e){return be.exports.forwardRef(function(r,i){var o=r.children,s=mO(r,["children"]);return re(t,{...Object.assign({},e,s),children:o?be.exports.cloneElement(o,{ref:function(u){yy(i,u),yy(o.ref,u)}}):null})})},C9=v9(y9(Ta)),vO=C9;const x9=[{name:"Add row above",action:t=>t.chain().focus().addRowBefore().run(),iconClass:"i-mdi-table-row-plus-before"},{name:"Add row below",action:t=>t.chain().focus().addRowAfter().run(),iconClass:"i-mdi-table-row-plus-after"},{name:"Add column before",action:t=>t.chain().focus().addColumnBefore().run(),iconClass:"i-mdi-table-column-plus-before"},{name:"Add column after",action:t=>t.chain().focus().addColumnAfter().run(),iconClass:"i-mdi-table-column-plus-after"},{name:"Remove row",action:t=>t.chain().focus().deleteRow().run(),iconClass:"i-mdi-table-row-remove"},{name:"Remove col",action:t=>t.chain().focus().deleteColumn().run(),iconClass:"i-mdi-table-column-remove"},{name:"Toggle header row",action:t=>t.chain().focus().toggleHeaderRow().run(),iconClass:"i-mdi-table-row"},{name:"Toggle header column",action:t=>t.chain().focus().toggleHeaderColumn().run(),iconClass:"i-mdi-table-column"},{name:"Toggle header cell",action:t=>t.chain().focus().toggleHeaderCell().run(),iconClass:"i-mdi-table-border"},{name:"Remove table",action:t=>t.chain().focus().deleteTable().run(),iconClass:"i-mdi-table-remove"}],CO=({node:t,getPos:e,selected:n,editor:r})=>{const[i,o]=be.exports.useState(!1),s=be.exports.useRef(null),l=()=>{const{from:f,to:d}=r.state.selection,h=e(),m=h+t.nodeSize;o(h<=f&&d<=m)};be.exports.useEffect(()=>(r.on("selectionUpdate",l),setTimeout(l,100),()=>{r.off("selectionUpdate",l)}));const u=()=>{var h,m;let f=(h=s.current)==null?void 0:h.clientTop;f&&(f+=5);let d=(m=s.current)==null?void 0:m.clientLeft;return d&&(d+=5),{top:`${f}px`,left:`${d}px`}};return Ve(z1,{children:[re(uT,{as:"span"}),(i||n)&&re(vO,{appendTo:document.body,trigger:"click",interactive:!0,animation:"shift-toward-subtle",content:re("article",{className:"dropdown",contentEditable:!1,children:re("ul",{tabIndex:0,className:"dropdown-content fixed menu menu-compact p-2 shadow bg-base-100 rounded-box w-56",style:u(),children:x9.map(f=>re("li",{children:Ve("button",{type:"button",className:"button",onClick:()=>f.action(r),children:[re("span",{children:re("i",{className:f.iconClass})}),re("span",{children:f.name})]})},f.name))})}),children:re("label",{tabIndex:0,className:"trigger-button",contentEditable:!1,children:re("i",{className:"i-mdi-chevron-down text-base scale-150"})})})]})},S9=Yt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",St(this.options.HTMLAttributes,t),0]},addNodeView(){return ah(CO,{as:"td",className:"relative"})}}),D9=Yt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",St(this.options.HTMLAttributes,t),0]},addNodeView(){return ah(CO,{as:"th",className:"relative"})}}),Wu=t=>(t.stopPropagation(),t.preventDefault(),t),w9=function(t){const e=t.scrollHeight>t.clientHeight,r=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!r},xO=function(t){return!t||t===document.body?document.body:w9(t)?t:xO(t.parentNode)},Rg=(t,e,n)=>{const r=document.createElement(t);if(!r)throw new Error(`Element with name ${t} can't be created.`);return e&&Object.entries(e).forEach(([i,o])=>r.setAttribute(i,o)),n&&Object.entries(n).forEach(([i,o])=>r.addEventListener(i,o)),r},E9=Yt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",St(this.options.HTMLAttributes,t),0]},addNodeView(){return({editor:t,HTMLAttributes:e,getPos:n})=>{const r=()=>n(),i=xO(t.options.element);let o=!1;const s={deleteRow:()=>{this.editor.chain().deleteNode("tableRow").focus().run()},selectRow:()=>{const S=r(),b=t.state.doc.resolve(S),A=new Q(b);t.view.dispatch(t.state.tr.setSelection(A))}},l=()=>{o=!0},u=()=>{o=!0},f=Rg("section",{class:"absolute hidden flex items-center w-2 bg-gray-200 z-50 cursor-pointer border-1 border-indigo-600 rounded-l opacity-25 hover:opacity-100",contenteditable:"false"},{click:S=>{S&&Wu(S),s.selectRow()},mouseenter:()=>{l()},mouseover:()=>{l()},mouseleave:()=>{u(),m()}}),d=Rg("button",{class:"text-sm px-1 absolute -translate-x-[125%] hover:active:-translate-x-[125%] mr-2"},{click:S=>{S&&Wu(S),s.deleteRow()}}),h=()=>{x(),f.classList.remove("hidden")},m=()=>{setTimeout(()=>{o||f.classList.add("hidden")},100)},g=Rg("tr",{...e},{mouseenter:h,mouseover:h,mouseleave:m});d.textContent="x",f.append(d),document.body.append(f);let v="";const x=()=>{setTimeout(()=>{const S=g.getBoundingClientRect(),b=JSON.stringify(S);v!==b&&(f.style.top=`${S.top+document.documentElement.scrollTop}px`,f.style.left=`${S.x+document.documentElement.scrollLeft-8}px`,f.style.height=`${S.height+1}px`,v=b)})};return setTimeout(()=>{x()},100),t.on("selectionUpdate",x),t.on("update",x),i==null||i.addEventListener("scroll",x),document.addEventListener("scroll",x),{dom:g,contentDOM:g,destroy:()=>{f.remove(),t.off("selectionUpdate",x),t.off("update",x),i==null||i.removeEventListener("scroll",x),document.removeEventListener("scroll",x)}}}}}),b9=[f9.configure({resizable:!1}),S9,D9,E9],k9=t=>new Dt({key:new Xt("media-paste-drop"),props:{handlePaste(e,n){var o;const r=Array.from(((o=n.clipboardData)==null?void 0:o.items)||[]),{schema:i}=e.state;return r.forEach(s=>{const l=s.getAsFile();if((l==null?void 0:l.type.indexOf("image"))===0||(l==null?void 0:l.type.indexOf("video"))===0)n.preventDefault(),t&&l&&t(l).then(f=>{const d=i.nodes.resizableMedia.create({src:f,"media-type":l.type.indexOf("image")===0?"img":"video"}),h=e.state.tr.replaceSelectionWith(d);e.dispatch(h)});else{const f=new FileReader;if(f.onload=d=>{var g;const h=i.nodes.resizableMedia.create({src:(g=d.target)==null?void 0:g.result,"media-type":""}),m=e.state.tr.replaceSelectionWith(h);e.dispatch(m)},!l)return;f.readAsDataURL(l)}}),!1},handleDrop(e,n){var l,u;if(!(n.dataTransfer&&n.dataTransfer.files&&n.dataTransfer.files.length))return!1;const i=Array.from((u=(l=n.dataTransfer)==null?void 0:l.files)!=null?u:[]).filter(({type:f})=>/image|video/i.test(f));if(i.length===0)return!1;n.preventDefault();const{schema:o}=e.state,s=e.posAtCoords({left:n.clientX,top:n.clientY});return s?(i.forEach(async f=>{const d=new FileReader;if(t){const h=o.nodes.resizableMedia.create({src:await t(f),"media-type":f.type.includes("image")?"img":"video"}),m=e.state.tr.insert(s.pos,h);e.dispatch(m)}else d.onload=h=>{var v;const m=o.nodes.resizableMedia.create({src:(v=h.target)==null?void 0:v.result,"media-type":f.type.includes("image")?"img":"video"}),g=e.state.tr.insert(s.pos,m);e.dispatch(g)},d.readAsDataURL(f)}),!0):!1}}}),lE=[{tooltip:"Align left",action:t=>t({dataAlign:"left",dataFloat:null}),icon:"i-mdi-format-align-left",isActive:t=>t.dataAlign==="left"},{tooltip:"Align center",action:t=>t({dataAlign:"center",dataFloat:null}),icon:"i-mdi-format-align-center",isActive:t=>t.dataAlign==="center"},{tooltip:"Align right",action:t=>t({dataAlign:"right",dataFloat:null}),icon:"i-mdi-format-align-right",isActive:t=>t.dataAlign==="right"},{tooltip:"Delete",icon:"i-mdi-delete",delete:t=>t()}];let yl;const A9=({node:t,updateAttributes:e,deleteNode:n})=>{const[r,i]=be.exports.useState();be.exports.useEffect(()=>{i(t.attrs["media-type"])},[t.attrs]);const[o,s]=be.exports.useState(0),[l,u]=be.exports.useState(0),[f,d]=be.exports.useState({}),h=be.exports.useRef(null),m=()=>{const oe={};lE.forEach(({tooltip:ne,isActive:ye})=>{oe[ne]=!!(ye!=null&&ye(t.attrs))}),d(oe)};be.exports.useEffect(()=>{m()},[t.attrs]);const g=()=>{const oe=document.querySelector(".ProseMirror");if(oe&&u(oe==null?void 0:oe.clientWidth),!!h.current){if(r==="video"){const ne=h.current;ne.addEventListener("loadeddata",function(){s(ne.videoWidth/ne.videoHeight),R("left",0)})}else h.current.onload=()=>{s(h.current.naturalWidth/h.current.naturalHeight)};setTimeout(()=>m(),200)}},v=oe=>{yl=oe};be.exports.useEffect(()=>{g()});const[x,k]=be.exports.useState(!1),S=({width:oe,height:ne})=>oe<100||ne<100,b=oe=>{setTimeout(()=>P(oe))},A=oe=>{k(!0),yl=oe.clientX,setTimeout(()=>{document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)})},w=()=>{k(!1),yl=-1,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)},R=(oe,ne)=>{var H,I;if(!h.current){console.error("Media ref is undefined|null",{resizableImg:h.current});return}const ye={width:(H=h.current)==null?void 0:H.width,height:(I=h.current)==null?void 0:I.height},he={width:-1,height:-1};oe==="left"?he.width=ye.width-Math.abs(ne):he.width=ye.width+Math.abs(ne),he.width>l&&(he.width=l),he.height=he.width/o,!S(he)&&e(he)},P=oe=>{if(yl===-1)return;const{clientX:ne}=oe,ye=yl-ne;if(ye===0)return;const he=ye>0?"left":"right";setTimeout(()=>{R(he,Math.abs(ye)),yl=ne})},[$,F]=be.exports.useState();be.exports.useEffect(()=>{F(t.attrs.dataFloat)},[t.attrs]);const[Z,ee]=be.exports.useState();return be.exports.useEffect(()=>{ee(t.attrs.dataAlign)},[t.attrs]),re(z1,{as:"article",className:`
        media-node-view not-prose
        ${$&&`f-${t.attrs.dataFloat}`||""}
        ${Z&&`align-${t.attrs.dataAlign}`||""}
      `,children:Ve("div",{className:"w-fit flex relative group",children:[r==="img"&&re("img",{src:t.attrs.src,ref:h,className:`rounded-lg ${`float-${t.attrs.dataFloat}`} ${`align-${t.attrs.dataAlign}`}`,alt:t.attrs.src,width:t.attrs.width,height:t.attrs.height}),r==="video"&&re("video",{ref:h,className:`rounded-lg ${`float-${t.attrs.dataFloat}`} ${`align-${t.attrs.dataAlign}`}`,controls:!0,width:t.attrs.width,height:t.attrs.height,children:re("source",{src:t.attrs.src})}),re("div",{className:"horizontal-resize-handle group-hover:bg-black group-hover:border-2 group-hover:border-white",title:"Resize",onClick:({clientX:oe})=>v(oe),onMouseDown:A,onMouseUp:w}),re("section",{className:"media-control-buttons hidden group-hover:flex",children:lE.map(oe=>re("button",{type:"button",className:`btn rounded-none h-8 px-2 ${f[oe.tooltip]?"active":""}`,onClick:()=>{var ne;return oe.tooltip==="Delete"?n():(ne=oe.action)==null?void 0:ne.call(oe,e)},children:re("i",{className:`${oe.icon} scale-150`})}))})]})})},T9=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,O9=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,M9=Yt.create({name:"resizableMedia",addOptions(){return{HTMLAttributes:{},uploadFn:async()=>""}},inline:!1,group:"block",draggable:!0,addAttributes(){return{src:{default:null},"media-type":{default:null},alt:{default:null},title:{default:null},width:{default:"100%"},height:{default:"auto"},dataAlign:{default:"left"},dataFloat:{default:null}}},selectable:!0,parseHTML(){return[{tag:'img[src]:not([src^="data:"])',getAttrs:t=>({src:t.getAttribute("src"),"media-type":"img"})},{tag:"video",getAttrs:t=>({src:t.getAttribute("src"),"media-type":"video"})}]},renderHTML({HTMLAttributes:t}){const{"media-type":e}=t;return e==="img"?["img",St(this.options.HTMLAttributes,t)]:e==="video"?["video",{controls:"true",style:"width: 100%",...t},["source",t]]:(e||console.error("TiptapMediaExtension-renderHTML method: Media Type not set, going default with image"),["img",St(this.options.HTMLAttributes,t)])},addCommands(){return{setMedia:t=>({commands:e})=>{const{"media-type":n}=t;return n==="img"?e.insertContent({type:this.name,attrs:t}):n==="video"?e.insertContent({type:this.name,attrs:{...t,controls:"true"}}):(n||console.error("TiptapMediaExtension-setMedia: Media Type not set, going default with image"),e.insertContent({type:this.name,attrs:t}))}}},addNodeView(){return ah(A9)},addInputRules(){return[YD({find:T9,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r,"media-type":"img"}}}),YD({find:O9,type:this.type,getAttributes:t=>{const[,,e]=t;return{src:e,"media-type":"video"}}})]},addProseMirrorPlugins(){return[k9(this.options.uploadFn)]}});function aE({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}const N9=Sn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const t=new Xt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>this.options.notAfter.includes(n.name));return[new Dt({key:t,appendTransaction:(n,r,i)=>{const{doc:o,tr:s,schema:l}=i,u=t.getState(i),f=o.content.size,d=l.nodes[this.options.node];if(!!u)return s.insert(f,d.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!aE({node:i,types:e})},apply:(n,r)=>{var o,s,l;if(!n.docChanged)return r;const i=(l=(s=(o=n.doc.lastChild)==null?void 0:o.content)==null?void 0:s.content)==null?void 0:l[0];return!aE({node:i,types:e})}}})]}}),_9=({openLinkModal:t})=>[aH,cH,TH,B6,s5.configure({width:2,class:"notitap-dropcursor",color:"skyblue"}),Y5,oH,sH,J6,Z6,n5,r5,AH.configure({autolink:!0,linkOnPaste:!0,protocols:["mailto"],openOnClick:!1,onModKPressed:t}),W6,$6,V6,lH.configure({levels:[1,2,3]}),N9,...b9,M9.configure({uploadFn:async e=>{const n=new FormData;n.append("file",e);try{const r=await fetch("https://api.imgur.com/3/image",{method:"POST",body:n});console.log(await r.json())}catch{}finally{}return"https://source.unsplash.com/8xznAGy4HcY/800x400"}})],F9=[{tooltip:"Bold",action:t=>t.chain().focus().toggleBold().run(),isActive:t=>t.isActive("bold"),iconClass:"i-ri-bold"},{tooltip:"Italic",action:t=>t.chain().focus().toggleItalic().run(),isActive:t=>t.isActive("italic"),iconClass:"i-ri-italic"}],R9=({editor:t})=>{const[e,n]=be.exports.useState(!1),r=()=>t.isActive("heading",{level:1})?"Heading 1":t.isActive("heading",{level:2})?"Heading 2":t.isActive("heading",{level:3})?"Heading 3":t.isActive("orderedList")?"Numbered list":t.isActive("bulletList")?"Bulleted list":"Normal text",i=!t.isActive("bulletList")&&!t.isActive("orderedList")&&!t.isActive("heading");return re(vO,{appendTo:document.body,trigger:"click",interactive:!0,animation:"shift-toward-subtle",placement:"bottom-start",content:Ve("div",{className:"absolute flex flex-col px-2 py-1 bg-white w-52 z-50",children:[re("div",{className:"py-1 ml-2 text-xs text-gray-500 uppercase",children:"Turn into"}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().setParagraph().run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/text.png",width:"24",height:"24",alt:"Text"}),re("span",{className:"ml-1",children:"Text"})]}),i&&re("i",{className:"i-mdi-check"})]}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/header.png",width:"24",height:"24",alt:"Heading 1"}),re("span",{className:"ml-1",children:"Heading 1"})]}),t.isActive("heading",{level:1})&&re("i",{className:"i-mdi-check"})]}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/header2.png",width:"24",height:"24",alt:"Heading 2"}),re("span",{className:"ml-1",children:"Heading 2"})]}),t.isActive("heading",{level:2})&&re("i",{className:"i-mdi-check"})]}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/header3.png",width:"24",height:"24",alt:"Heading 3"}),re("span",{className:"ml-1",children:"Heading 3"})]}),t.isActive("heading",{level:3})&&re("i",{className:"i-mdi-check"})]}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().toggleOrderedList().run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/numbered-list.png",width:"24",height:"24",alt:"Numbered List"}),re("span",{className:"ml-1",children:"Numbered list"})]}),t.isActive("orderedList")&&re("i",{className:"i-mdi-check"})]}),Ve("button",{type:"button",className:"flex items-center justify-between node-type-dropdown-button",onClick:()=>t.chain().focus().toggleBulletList().run(),children:[Ve("div",{className:"flex items-center align-middle",children:[re("img",{src:"/editor/numbered-list.png",width:"24",height:"24",alt:"Bulleted List"}),re("span",{className:"ml-1",children:"Bulleted list"})]}),t.isActive("bulletList")&&re("i",{className:"i-mdi-check"})]})]}),children:Ve("button",{type:"button",className:"flex items-center justify-between w-28 bubble-menu-button cursor-pointer",onClick:()=>n(!e),children:[re("span",{className:"truncate",children:r()}),re("i",{className:"i-mdi-chevron-down"})]})})};const P9=({editor:t})=>Ve(sT,{editor:t,className:"bubble-menu",tippyOptions:{duration:200,animation:"shift-toward-subtle",moveTransition:"transform 0.2s ease-in-out"},children:[re(R9,{editor:t}),F9.map(e=>re("button",{type:"button",className:"bubble-menu-button",onClick:()=>e.action(t),children:re("i",{className:`${e.iconClass} scale-150`})},e.tooltip))]});var SO={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&r.push(l)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var u in o)e.call(o,u)&&o[u]&&r.push(u);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(SO);var I9=SO.exports;const L9=({editor:t})=>{const[e,n]=be.exports.useState(!1),[r,i]=be.exports.useState(""),[o,s]=be.exports.useState(!0);be.exports.useEffect(()=>{s(iy(r))},[r]);const l=()=>{var h;const f=t.isActive("link");if(n(f),!f){i("");return}const d=(h=t.getAttributes("link"))==null?void 0:h.href;i(d||"")};be.exports.useEffect(()=>(t.on("selectionUpdate",l),()=>{t.off("selectionUpdate",l)}));const u=()=>{!o||!e||t.chain().focus().extendMarkRange("link").setLink({href:r}).run()};return re(sT,{editor:t,className:`
        shadow bg-white rounded-sm overflow-hidden border border-slate-200 box-border p-2
      `,tippyOptions:{placement:"bottom",duration:200,animation:"shift-toward-subtle",moveTransition:"transform 0.2s ease-in-out"},shouldShow:({editor:f})=>f.isActive("link"),children:re("input",{type:"url",placeholder:"https://example.com",className:I9("input input-bordered w-[30ch] input-sm",o?"":"input-error"),value:r,onChange:f=>i(f.target.value.trim()),onKeyDown:f=>f.code==="Enter"&&u()})})};na.forwardRef(({items:t,command:e},n)=>{const[r,i]=be.exports.useState(0);be.exports.useEffect(()=>{i(0)},[t]),be.exports.useImperativeHandle(n,()=>({onKeyDown:({event:f})=>f.key==="ArrowUp"?(Wu(f),o(),!0):f.key==="ArrowDown"?(Wu(f),s(),!0):f.key==="Enter"?(Wu(f),l(),!0):!1}));const o=()=>{i((r+t.length-1)%t.length)},s=()=>{i((r+1)%t.length)},l=()=>{u(r)},u=f=>{const d=t[f];d&&setTimeout(()=>e(d))};return re("div",{className:"items hide-scrollbar min-w-[20rem]",children:t.length?re(lh,{children:t.map((f,d)=>Ve("button",{type:"button",className:`
                  item
                  ${d===r?"is-selected":""} 
                `,onClick:()=>u(d),onMouseEnter:()=>i(d),onKeyDown:h=>h.code==="Enter"&&u(d),children:[Ve("span",{className:"flex items-center gap-2",children:[re("span",{className:"h-10 w-10 flex items-center justify-center bg-white border border-slate-400 rounded",children:re("i",{className:`${f.iconClass} scale-150`})}),re("span",{dangerouslySetInnerHTML:{__html:f.highlightedTitle||f.title}})]}),f.shortcut&&re("code",{children:f.shortcut})]},f.title))}):re("div",{className:"item",children:" No result "})})});function B9(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,l=j8(n),u=new RegExp(`\\s${l}$`),f=o?"^":"",d=r?new RegExp(`${f}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${f}(?:^)?${l}[^\\s${l}]*`,"gm"),h=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!h)return null;const m=s.pos-h.length,g=Array.from(h.matchAll(d)).pop();if(!g||g.input===void 0||g.index===void 0)return null;const v=g.input.slice(Math.max(0,g.index-1),g.index),x=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(v);if(i!==null&&!x)return null;const k=m+g.index;let S=k+g[0].length;return r&&u.test(h.slice(S-1,S+1))&&(g[0]+=" ",S+=1),k<s.pos&&S>=s.pos?{range:{from:k,to:S},query:g[0].slice(n.length),text:g[0]}:null}const z9=new Xt("suggestion");function $9({pluginKey:t=z9,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:u=()=>null,items:f=()=>[],render:d=()=>({}),allow:h=()=>!0}){let m;const g=d==null?void 0:d(),v=new Dt({key:t,view(){return{update:async(x,k)=>{var S,b,A,w,R,P,$;const F=(S=this.key)===null||S===void 0?void 0:S.getState(k),Z=(b=this.key)===null||b===void 0?void 0:b.getState(x.state),ee=F.active&&Z.active&&F.range.from!==Z.range.from,oe=!F.active&&Z.active,ne=F.active&&!Z.active,ye=!oe&&!ne&&F.query!==Z.query,he=oe||ee,H=ye&&!ee,I=ne||ee;if(!he&&!H&&!I)return;const K=I&&!he?F:Z,_=document.querySelector(`[data-decoration-id="${K.decorationId}"]`);m={editor:e,range:K.range,query:K.query,text:K.text,items:[],command:L=>{u({editor:e,range:K.range,props:L})},decorationNode:_,clientRect:_?()=>{var L;const{decorationId:B}=(L=this.key)===null||L===void 0?void 0:L.getState(e.state),J=document.querySelector(`[data-decoration-id="${B}"]`);return(J==null?void 0:J.getBoundingClientRect())||null}:null},he&&((A=g==null?void 0:g.onBeforeStart)===null||A===void 0||A.call(g,m)),H&&((w=g==null?void 0:g.onBeforeUpdate)===null||w===void 0||w.call(g,m)),(H||he)&&(m.items=await f({editor:e,query:K.query})),I&&((R=g==null?void 0:g.onExit)===null||R===void 0||R.call(g,m)),H&&((P=g==null?void 0:g.onUpdate)===null||P===void 0||P.call(g,m)),he&&(($=g==null?void 0:g.onStart)===null||$===void 0||$.call(g,m))},destroy:()=>{var x;!m||(x=g==null?void 0:g.onExit)===null||x===void 0||x.call(g,m)}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(x,k,S,b){const{isEditable:A}=e,{composing:w}=e.view,{selection:R}=x,{empty:P,from:$}=R,F={...k};if(F.composing=w,A&&(P||e.view.composing)){($<k.range.from||$>k.range.to)&&!w&&!k.composing&&(F.active=!1);const Z=B9({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:R.$from}),ee=`id_${Math.floor(Math.random()*4294967295)}`;Z&&h({editor:e,state:b,range:Z.range})?(F.active=!0,F.decorationId=k.decorationId?k.decorationId:ee,F.range=Z.range,F.query=Z.query,F.text=Z.text):F.active=!1}else F.active=!1;return F.active||(F.decorationId=null,F.range={from:0,to:0},F.query=null,F.text=null),F}},props:{handleKeyDown(x,k){var S;const{active:b,range:A}=v.getState(x.state);return b&&((S=g==null?void 0:g.onKeyDown)===null||S===void 0?void 0:S.call(g,{view:x,event:k,range:A}))||!1},decorations(x){const{active:k,range:S,decorationId:b}=v.getState(x);return k?Ut.create(x.doc,[Sr.inline(S.from,S.to,{nodeName:s,class:l,"data-decoration-id":b})]):null}}});return v}Sn.create({name:"slash-commands",addOptions(){return{suggestions:{char:"/",command:({editor:t,range:e,props:n})=>n.command({editor:t,range:e})}}},addProseMirrorPlugins(){return[$9({editor:this.editor,...this.options.suggestions})]}});var H9={exports:{}};(function(t){((e,n)=>{t.exports?t.exports=n():e.fuzzysort=n()})(vl,e=>{var n=(H,I)=>{if(H=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!H||!I)return ne;var K=d(H);F(I)||(I=f(I));var _=K.bitflags;return(_&I._bitflags)!==_?ne:m(K,I)},r=(H,I,K)=>{if(H=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:I?I[0]:ne}];if(!H)return K&&K.all?h(H,I,K):oe;var _=d(H),L=_.bitflags;_.containsSpace;var B=K&&K.threshold||ee,J=K&&K.limit||Z,G=0,ce=0,pe=I.length;if(K&&K.key)for(var ve=K.key,Ce=0;Ce<pe;++Ce){var Ye=I[Ce],Oe=$(Ye,ve);if(!!Oe&&(F(Oe)||(Oe=f(Oe)),(L&Oe._bitflags)===L)){var Ie=m(_,Oe);Ie!==ne&&(Ie.score<B||(Ie={target:Ie.target,_targetLower:"",_targetLowerCodes:ne,_nextBeginningIndexes:ne,_bitflags:0,score:Ie.score,_indexes:Ie._indexes,obj:Ye},G<J?(he.add(Ie),++G):(++ce,Ie.score>he.peek().score&&he.replaceTop(Ie))))}}else if(K&&K.keys)for(var fn=K.scoreFn||P,Qt=K.keys,It=Qt.length,Ce=0;Ce<pe;++Ce){for(var Ye=I[Ce],mt=new Array(It),Ae=0;Ae<It;++Ae){var ve=Qt[Ae],Oe=$(Ye,ve);if(!Oe){mt[Ae]=ne;continue}F(Oe)||(Oe=f(Oe)),(L&Oe._bitflags)!==L?mt[Ae]=ne:mt[Ae]=m(_,Oe)}mt.obj=Ye;var Tt=fn(mt);Tt!==ne&&(Tt<B||(mt.score=Tt,G<J?(he.add(mt),++G):(++ce,Tt>he.peek().score&&he.replaceTop(mt))))}else for(var Ce=0;Ce<pe;++Ce){var Oe=I[Ce];if(!!Oe&&(F(Oe)||(Oe=f(Oe)),(L&Oe._bitflags)===L)){var Ie=m(_,Oe);Ie!==ne&&(Ie.score<B||(G<J?(he.add(Ie),++G):(++ce,Ie.score>he.peek().score&&he.replaceTop(Ie))))}}if(G===0)return oe;for(var gt=new Array(G),Ce=G-1;Ce>=0;--Ce)gt[Ce]=he.poll();return gt.total=G+ce,gt},i=(H,I,K)=>{if(typeof I=="function")return o(H,I);if(H===ne)return ne;I===void 0&&(I="<b>"),K===void 0&&(K="</b>");var _="",L=0,B=!1,J=H.target,G=J.length,ce=H._indexes;ce=ce.slice(0,ce.len).sort((Ce,Ye)=>Ce-Ye);for(var pe=0;pe<G;++pe){var ve=J[pe];if(ce[L]===pe){if(++L,B||(B=!0,_+=I),L===ce.length){_+=ve+K+J.substr(pe+1);break}}else B&&(B=!1,_+=K);_+=ve}return _},o=(pe,I)=>{if(pe===ne)return ne;var K=pe.target,_=K.length,L=pe._indexes;L=L.slice(0,L.len).sort((Ye,Oe)=>Ye-Oe);for(var B="",J=0,G=0,ce=!1,pe=[],ve=0;ve<_;++ve){var Ce=K[ve];if(L[G]===ve){if(++G,ce||(ce=!0,pe.push(B),B=""),G===L.length){B+=Ce,pe.push(I(B,J++)),B="",pe.push(K.substr(ve+1));break}}else ce&&(ce=!1,pe.push(I(B,J++)),B="");B+=Ce}return pe},s=H=>H._indexes.slice(0,H._indexes.len).sort((I,K)=>I-K),l=H=>{typeof H!="string"&&(H="");var I=v(H);return{target:H,_targetLower:I._lower,_targetLowerCodes:I.lowerCodes,_nextBeginningIndexes:ne,_bitflags:I.bitflags,score:ne,_indexes:[0],obj:ne}},u=H=>{typeof H!="string"&&(H=""),H=H.trim();var I=v(H),K=[];if(I.containsSpace){var _=H.split(/\s+/);_=[...new Set(_)];for(var L=0;L<_.length;L++)if(_[L]!==""){var B=v(_[L]);K.push({lowerCodes:B.lowerCodes,_lower:_[L].toLowerCase(),containsSpace:!1})}}return{lowerCodes:I.lowerCodes,bitflags:I.bitflags,containsSpace:I.containsSpace,_lower:I._lower,spaceSearches:K}},f=H=>{if(H.length>999)return l(H);var I=b.get(H);return I!==void 0||(I=l(H),b.set(H,I)),I},d=H=>{if(H.length>999)return u(H);var I=A.get(H);return I!==void 0||(I=u(H),A.set(H,I)),I},h=(H,I,K)=>{var _=[];_.total=I.length;var L=K&&K.limit||Z;if(K&&K.key)for(var B=0;B<I.length;B++){var J=I[B],G=$(J,K.key);if(!!G){F(G)||(G=f(G)),G.score=ee,G._indexes.len=0;var ce=G;if(ce={target:ce.target,_targetLower:"",_targetLowerCodes:ne,_nextBeginningIndexes:ne,_bitflags:0,score:G.score,_indexes:ne,obj:J},_.push(ce),_.length>=L)return _}}else if(K&&K.keys)for(var B=0;B<I.length;B++){for(var J=I[B],pe=new Array(K.keys.length),ve=K.keys.length-1;ve>=0;--ve){var G=$(J,K.keys[ve]);if(!G){pe[ve]=ne;continue}F(G)||(G=f(G)),G.score=ee,G._indexes.len=0,pe[ve]=G}if(pe.obj=J,pe.score=ee,_.push(pe),_.length>=L)return _}else for(var B=0;B<I.length;B++){var G=I[B];if(!!G&&(F(G)||(G=f(G)),G.score=ee,G._indexes.len=0,_.push(G),_.length>=L))return _}return _},m=(H,I)=>{if(H.containsSpace)return g(H,I);for(var K=H._lower,_=H.lowerCodes,L=_[0],B=I._targetLowerCodes,J=_.length,G=B.length,Ce=0,ce=0,pe=0;;){var ve=L===B[ce];if(ve){if(w[pe++]=ce,++Ce,Ce===J)break;L=_[Ce]}if(++ce,ce>=G)return ne}var Ce=0,Ye=!1,Oe=0,Ie=I._nextBeginningIndexes;Ie===ne&&(Ie=I._nextBeginningIndexes=k(I.target)),ce=w[0]===0?0:Ie[w[0]-1];var fn=0;if(ce!==G)for(;;)if(ce>=G){if(Ce<=0||(++fn,fn>200))break;--Ce;var Qt=R[--Oe];ce=Ie[Qt]}else{var ve=_[Ce]===B[ce];if(ve){if(R[Oe++]=ce,++Ce,Ce===J){Ye=!0;break}++ce}else ce=Ie[ce]}var It=I._targetLower.indexOf(K,w[0]),mt=~It;if(mt&&!Ye)for(var Ae=0;Ae<pe;++Ae)w[Ae]=It+Ae;var Tt=!1;mt&&(Tt=I._nextBeginningIndexes[It-1]===It);{if(Ye)var gt=R,wt=Oe;else var gt=w,wt=pe;for(var Lt=0,xi=0,Ae=1;Ae<J;++Ae)gt[Ae]-gt[Ae-1]!==1&&(Lt-=gt[Ae],++xi);var Bt=gt[J-1]-gt[0]-(J-1);if(Lt-=(12+Bt)*xi,gt[0]!==0&&(Lt-=gt[0]*10),!Ye)Lt*=1e3;else{for(var it=1,Ae=Ie[0];Ae<G;Ae=Ie[Ae])++it;it>24&&(Lt*=(it-24)*10)}mt&&(Lt/=10),Tt&&(Lt/=10),Lt-=G-J,I.score=Lt;for(var Ae=0;Ae<wt;++Ae)I._indexes[Ae]=gt[Ae];return I._indexes.len=wt,I}},g=(H,I)=>{for(var K=new Set,_=0,L=ne,B=0,J=H.spaceSearches,pe=0;pe<J.length;++pe){var G=J[pe];if(L=m(G,I),L===ne)return ne;_+=L.score,L._indexes[0]<B&&(_-=B-L._indexes[0]),B=L._indexes[0];for(var ce=0;ce<L._indexes.len;++ce)K.add(L._indexes[ce])}L.score=_;var pe=0;for(let ve of K)L._indexes[pe++]=ve;return L._indexes.len=pe,L},v=H=>{for(var I=H.length,K=H.toLowerCase(),_=[],L=0,B=!1,J=0;J<I;++J){var G=_[J]=K.charCodeAt(J);if(G===32){B=!0;continue}var ce=G>=97&&G<=122?G-97:G>=48&&G<=57?26:G<=127?30:31;L|=1<<ce}return{lowerCodes:_,bitflags:L,containsSpace:B,_lower:K}},x=H=>{for(var I=H.length,K=[],_=0,L=!1,B=!1,J=0;J<I;++J){var G=H.charCodeAt(J),ce=G>=65&&G<=90,pe=ce||G>=97&&G<=122||G>=48&&G<=57,ve=ce&&!L||!B||!pe;L=ce,B=pe,ve&&(K[_++]=J)}return K},k=H=>{for(var I=H.length,K=x(H),_=[],L=K[0],B=0,J=0;J<I;++J)L>J?_[J]=L:(L=K[++B],_[J]=L===void 0?I:L);return _},S=()=>{b.clear(),A.clear(),w=[],R=[]},b=new Map,A=new Map,w=[],R=[],P=H=>{for(var I=ee,K=H.length,_=0;_<K;++_){var L=H[_];if(L!==ne){var B=L.score;B>I&&(I=B)}}return I===ee?ne:I},$=(H,I)=>{var K=H[I];if(K!==void 0)return K;var _=I;Array.isArray(I)||(_=I.split("."));for(var L=_.length,B=-1;H&&++B<L;)H=H[_[B]];return H},F=H=>typeof H=="object",Z=1/0,ee=-Z,oe=[];oe.total=0;var ne=null,ye=H=>{var I=[],K=0,_={},L=B=>{for(var J=0,G=I[J],ce=1;ce<K;){var pe=ce+1;J=ce,pe<K&&I[pe].score<I[ce].score&&(J=pe),I[J-1>>1]=I[J],ce=1+(J<<1)}for(var ve=J-1>>1;J>0&&G.score<I[ve].score;ve=(J=ve)-1>>1)I[J]=I[ve];I[J]=G};return _.add=B=>{var J=K;I[K++]=B;for(var G=J-1>>1;J>0&&B.score<I[G].score;G=(J=G)-1>>1)I[J]=I[G];I[J]=B},_.poll=B=>{if(K!==0){var J=I[0];return I[0]=I[--K],L(),J}},_.peek=B=>{if(K!==0)return I[0]},_.replaceTop=B=>{I[0]=B,L()},_},he=ye();return{single:n,go:r,highlight:i,prepare:l,indexes:s,cleanup:S}})})(H9);const V9={type:"doc",content:[{type:"dBlock",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Welcome to Notitap-Pro."}]}]},{type:"dBlock",content:[{type:"heading",attrs:{level:3},content:[{type:"text",text:"A notion like editor built with Tiptap"}]}]},{type:"dBlock",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:"Features:"}]}]},{type:"dBlock",content:[{type:"bulletList",content:[{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Block Level Drag and Drop"}]}]},{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Resizable Media(Images, Videos)"}]}]},{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Supercharged Tables"}]}]},{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Link Previews"}]}]}]}]},{type:"dBlock",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:"Resizable Media"}]}]},{type:"dBlock",content:[{type:"heading",attrs:{level:3},content:[{type:"text",text:"Images:"}]}]},{type:"dBlock",content:[{type:"resizableMedia",attrs:{src:"https://source.unsplash.com/8xznAGy4HcY/800x400","media-type":"img",alt:"Something else",title:"Something",width:574,height:287,dataAlign:"center",dataFloat:null}}]},{type:"dBlock",content:[{type:"heading",attrs:{level:3},content:[{type:"text",text:"Videos:"}]}]},{type:"dBlock",content:[{type:"resizableMedia",attrs:{src:"https://user-images.githubusercontent.com/45892659/178123048-0257e732-8cc2-466b-8447-1e2b7cd1b5d9.mov","media-type":"video",alt:"Some Video",title:"Some Title Video",width:400,height:null,dataAlign:"center",dataFloat:null}}]},{type:"dBlock",content:[{type:"heading",attrs:{level:2}}]},{type:"dBlock",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:"SuperCharged Tables:"}]}]},{type:"dBlock",content:[{type:"table",content:[{type:"tableRow",content:[{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Number"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Name"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Importance"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Reason"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"1"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Laptop"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"High Importance "}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Can do almost everything that a watch and a phone can do "}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"2"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Mobile"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Medium importance"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Can do everything a watch can do, but not everything a laptop can do "}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"3"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Watch"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Low Importance"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",content:[{type:"text",text:"Can't do everything a phone or a laptop can do."}]}]}]}]}]},{type:"dBlock",content:[{type:"paragraph"}]},{type:"dBlock",content:[{type:"paragraph"}]}]},W9="prose prose-p:my-2 prose-h1:my-2 prose-h2:my-2 prose-h3:my-2 prose-ul:my-2 prose-ol:my-2 max-w-none";const U9=()=>{const t=be.exports.useCallback(f=>console.log(f.getJSON()),[]),[e,n]=be.exports.useState(!1),r=()=>n(!0),i=()=>l==null?void 0:l.commands.setMedia({src:"https://source.unsplash.com/8xznAGy4HcY/800x400","media-type":"img",alt:"Something else",title:"Something",width:"800",height:"400"}),o="https://user-images.githubusercontent.com/45892659/178123048-0257e732-8cc2-466b-8447-1e2b7cd1b5d9.mov",s=()=>l==null?void 0:l.commands.setMedia({src:o,"media-type":"video",alt:"Some Video",title:"Some Title Video",width:"400",height:"400"}),l=L6({extensions:_9({openLinkModal:r}),content:V9,editorProps:{attributes:{class:`${W9} focus:outline-none w-full`,spellcheck:"false",suppressContentEditableWarning:"true"}},onUpdate:J0.exports.debounce(({editor:f})=>{t(f)},500)}),u=()=>l==null?void 0:l.commands.insertTable({rows:3,cols:3,withHeaderRow:!0});return l&&Ve("section",{className:"flex flex-col gap-2 w-full justify-center",children:[Ve("span",{className:"flex gap-2",children:[re("button",{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"button",onClick:()=>i(),children:"Add Image"}),re("button",{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"button",onClick:()=>s(),children:"Add Video"}),re("button",{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",type:"button",onClick:()=>u(),children:"Add table"})]}),re(N6,{className:"w-full flex justify-center",editor:l}),re(P9,{editor:l}),re(L9,{editor:l})]})};function j9(){return Ve("div",{className:"App container mx-auto px-16 flex flex-col gap-4 max-w-[100ch]",children:[Ve("header",{className:"flex flex-col gap-2 py-4 border-b border-slate-400",children:[Ve("section",{className:"flex flex-row items-center gap-4",children:[Ve("a",{className:"text-3xl link",href:"https://github.com/sereneinserenade/notitap-pro",children:["notitap-pro ",re("i",{className:"i-mdi-github"})]}),Ve("a",{className:"text-pink-400 border border-pink-400 rounded-xl p-2 flex items-center justify-center hover:text-white hover:bg-pink-400 transition-all duration-200",href:"https://github.com/sponsors/sereneinserenade",children:[re("i",{className:"i-mdi-heart mr-2 scale-150"})," Support My Work"]})]}),Ve("p",{className:"text-md pl-[1px]",children:["Notion like editor built on top of"," ",re("a",{className:"underline",href:"https://tiptap.dev/",children:"Tiptap."})]}),Ve("p",{className:"text-md pl-[1px]",children:["A Big thank you to all my"," ",Ve("a",{className:"text-pink-400 underline",href:"https://github.com/sponsors/sereneinserenade#sponsors",children:[re("i",{className:"i-mdi-heart-outline"})," sponsors."]})," ","You people are awesome."]})]}),re("main",{className:"flex justify-start w-full",children:re(U9,{})})]})}Pg.createRoot(document.getElementById("root")).render(re(na.StrictMode,{children:re(j9,{})}));
